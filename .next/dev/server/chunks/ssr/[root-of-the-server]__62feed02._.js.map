{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/NGTA/frontend/src/hooks/useStocks.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport axios from \"axios\";\r\n\r\n// Types\r\nexport interface ChartDataPoint {\r\n    date: string;\r\n    open: number;\r\n    high: number;\r\n    low: number;\r\n    close: number;\r\n    volume: number;\r\n    macd?: number;\r\n    signal?: number;\r\n    hist?: number;\r\n    rsi?: number;\r\n}\r\n\r\nexport interface Stock {\r\n    symbol: string;\r\n    name: string;\r\n    sector: string;\r\n    current_price: number;\r\n    previous_close: number;\r\n    current_change_abs: number;\r\n    current_change: number;\r\n    day_high: number;\r\n    day_low: number;\r\n    volume: number;\r\n    market_cap?: number;\r\n    last_updated: string;\r\n    rank: number;\r\n\r\n    history: {\r\n        p_day1: number;\r\n        p_day2: number;\r\n        p_day3: number;\r\n        avg_3day: number;\r\n        volatility_3_day: number;\r\n    };\r\n\r\n    indicators: {\r\n        macd_line?: number;\r\n        signal_line?: number;\r\n        macd_histogram?: number;\r\n        macd_status: \"above\" | \"below\" | \"neutral\";\r\n        rsi_value?: number;\r\n        rsi_zone: \"overbought\" | \"oversold\" | \"neutral\";\r\n        trend: string;\r\n        buyer_strength_score: number;\r\n        seller_strength_score: number;\r\n        strength_label: string;\r\n    };\r\n\r\n    flags: {\r\n        is_constant_price: boolean;\r\n        is_gainer_today: boolean;\r\n        is_loser_today: boolean;\r\n        is_high_volume: boolean;\r\n        is_breakout_candidate: boolean;\r\n    };\r\n\r\n    // Strength Fields\r\n    current_strength: string;\r\n    day1_strength: string;\r\n    day2_strength: string;\r\n    day3_strength: string;\r\n    avg_3day_strength: string;\r\n\r\n    derived: any; // For frontend calculated fields\r\n}\r\n\r\nexport interface StockStrength extends Stock { }\r\n\r\nconst API_URL = \"http://localhost:8000/api/v1\";\r\n\r\nexport function useStocks(filters: any) {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"fno\", filters],\r\n        queryFn: async () => {\r\n            const params = new URLSearchParams();\r\n            Object.entries(filters).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null && value !== \"\") {\r\n                    params.append(key, String(value));\r\n                }\r\n            });\r\n\r\n            const url = `${API_URL}/stocks/fno`;\r\n            const { data } = await axios.get<Stock[]>(url, { params });\r\n            return data;\r\n        },\r\n        refetchInterval: 3000, // 3 seconds for faster updates during incremental load\r\n        staleTime: 10000, // Consider data fresh for 10 seconds\r\n    });\r\n}\r\n\r\nexport function useStockDetail(symbol: string | null) {\r\n    return useQuery({\r\n        queryKey: [\"stock\", symbol],\r\n        queryFn: async () => {\r\n            if (!symbol) return null;\r\n            const { data } = await axios.get<Stock>(`${API_URL}/stocks/${symbol}`);\r\n            return data;\r\n        },\r\n        enabled: !!symbol,\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useWatchlist() {\r\n    return useQuery({\r\n        queryKey: [\"watchlist\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/watchlist`);\r\n            return data;\r\n        },\r\n        refetchInterval: 5000,\r\n    });\r\n}\r\n\r\nexport function useToggleWatchlist() {\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async ({ symbol, action }: { symbol: string; action: \"add\" | \"remove\" }) => {\r\n            const { data } = await axios.post(`${API_URL}/watchlist/`, { symbol, action });\r\n            return data;\r\n        },\r\n        onSuccess: () => {\r\n            queryClient.invalidateQueries({ queryKey: [\"watchlist\"] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useGainers3Day() {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"gainers-3day\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/stocks/gainers-3day`);\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useLosers3Day() {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"losers-3day\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/stocks/losers-3day`);\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useStrengthAnalysis(filters: any) {\r\n    return useQuery({\r\n        queryKey: [\"strength-analysis\", filters],\r\n        queryFn: async () => {\r\n            const params = new URLSearchParams();\r\n            Object.entries(filters).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null && value !== \"\") {\r\n                    params.append(key, String(value));\r\n                }\r\n            });\r\n            const { data } = await axios.get<StockStrength[]>(`${API_URL}/stocks/strength-analyzer`, { params });\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useGrowwStrength(filters: any) {\r\n    return useQuery({\r\n        queryKey: [\"groww-strength\", filters],\r\n        queryFn: async () => {\r\n            const params = new URLSearchParams();\r\n            Object.entries(filters).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null && value !== \"\") {\r\n                    params.append(key, String(value));\r\n                }\r\n            });\r\n            const { data } = await axios.get<StockStrength[]>(`${API_URL}/groww/strength`, { params });\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useGrowwNews() {\r\n    return useQuery({\r\n        queryKey: [\"groww-news\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<any[]>(`${API_URL}/groww/news`);\r\n            return data;\r\n        },\r\n        refetchInterval: 60000, // 1 min\r\n    });\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///C:/NGTA/frontend/src/components/StockChart.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo } from \"react\";\r\nimport { Area, AreaChart, ResponsiveContainer, Tooltip, XAxis, YAxis, CartesianGrid } from \"recharts\";\r\nimport { Stock } from \"@/hooks/useStocks\";\r\nimport { useTheme } from \"next-themes\";\r\n\r\ninterface StockChartProps {\r\n    stock: Stock;\r\n    height?: number;\r\n}\r\n\r\nexport default function StockChart({ stock, height = 300 }: StockChartProps) {\r\n    const { theme } = useTheme();\r\n\r\n    const data = useMemo(() => {\r\n        return [\r\n            { day: \"Day 3\", value: stock.history.p_day3 },\r\n            { day: \"Day 2\", value: stock.history.p_day2 },\r\n            { day: \"Day 1\", value: stock.history.p_day1 },\r\n            { day: \"Today\", value: stock.current_change },\r\n        ];\r\n    }, [stock]);\r\n\r\n    const isPositive = stock.current_change >= 0;\r\n    const strokeColor = isPositive ? \"#10b981\" : \"#ef4444\"; // emerald-500 : red-500\r\n    const fillColor = isPositive ? \"#10b981\" : \"#ef4444\";\r\n\r\n    return (\r\n        <div className=\"w-full bg-card rounded-xl border border-border p-4 shadow-sm\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n                <div>\r\n                    <h3 className=\"text-lg font-semibold\">{stock.symbol} Trend</h3>\r\n                    <p className=\"text-xs text-muted-foreground\">3-Day Performance + Current</p>\r\n                </div>\r\n                <div className={`px-3 py-1 rounded-full text-xs font-bold ${isPositive ? 'bg-emerald-500/10 text-emerald-500' : 'bg-red-500/10 text-red-500'}`}>\r\n                    {stock.current_change.toFixed(2)}%\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ height }}>\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                    <AreaChart data={data}>\r\n                        <defs>\r\n                            <linearGradient id={`color${stock.symbol}`} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                <stop offset=\"5%\" stopColor={fillColor} stopOpacity={0.3} />\r\n                                <stop offset=\"95%\" stopColor={fillColor} stopOpacity={0} />\r\n                            </linearGradient>\r\n                        </defs>\r\n                        <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"var(--border)\" opacity={0.5} />\r\n                        <XAxis\r\n                            dataKey=\"day\"\r\n                            axisLine={false}\r\n                            tickLine={false}\r\n                            tick={{ fill: \"var(--muted-foreground)\", fontSize: 12 }}\r\n                            dy={10}\r\n                        />\r\n                        <YAxis\r\n                            hide\r\n                            domain={['auto', 'auto']}\r\n                        />\r\n                        <Tooltip\r\n                            contentStyle={{\r\n                                backgroundColor: \"var(--card)\",\r\n                                borderColor: \"var(--border)\",\r\n                                borderRadius: \"8px\",\r\n                                boxShadow: \"0 4px 6px -1px rgb(0 0 0 / 0.1)\",\r\n                            }}\r\n                            itemStyle={{ color: \"var(--foreground)\" }}\r\n                            cursor={{ stroke: \"var(--muted-foreground)\", strokeWidth: 1, strokeDasharray: \"4 4\" }}\r\n                        />\r\n                        <Area\r\n                            type=\"monotone\"\r\n                            dataKey=\"value\"\r\n                            stroke={strokeColor}\r\n                            strokeWidth={3}\r\n                            fillOpacity={1}\r\n                            fill={`url(#color${stock.symbol})`}\r\n                            animationDuration={1500}\r\n                        />\r\n                    </AreaChart>\r\n                </ResponsiveContainer>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AALA;;;;;AAYe,SAAS,WAAW,EAAE,KAAK,EAAE,SAAS,GAAG,EAAmB;IACvE,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,4JAAQ;IAE1B,MAAM,OAAO,IAAA,gNAAO,EAAC;QACjB,OAAO;YACH;gBAAE,KAAK;gBAAS,OAAO,MAAM,OAAO,CAAC,MAAM;YAAC;YAC5C;gBAAE,KAAK;gBAAS,OAAO,MAAM,OAAO,CAAC,MAAM;YAAC;YAC5C;gBAAE,KAAK;gBAAS,OAAO,MAAM,OAAO,CAAC,MAAM;YAAC;YAC5C;gBAAE,KAAK;gBAAS,OAAO,MAAM,cAAc;YAAC;SAC/C;IACL,GAAG;QAAC;KAAM;IAEV,MAAM,aAAa,MAAM,cAAc,IAAI;IAC3C,MAAM,cAAc,aAAa,YAAY,WAAW,wBAAwB;IAChF,MAAM,YAAY,aAAa,YAAY;IAE3C,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;;0CACG,8OAAC;gCAAG,WAAU;;oCAAyB,MAAM,MAAM;oCAAC;;;;;;;0CACpD,8OAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;kCAEjD,8OAAC;wBAAI,WAAW,CAAC,yCAAyC,EAAE,aAAa,uCAAuC,8BAA8B;;4BACzI,MAAM,cAAc,CAAC,OAAO,CAAC;4BAAG;;;;;;;;;;;;;0BAIzC,8OAAC;gBAAI,OAAO;oBAAE;gBAAO;0BACjB,cAAA,8OAAC,0LAAmB;oBAAC,OAAM;oBAAO,QAAO;8BACrC,cAAA,8OAAC,kKAAS;wBAAC,MAAM;;0CACb,8OAAC;0CACG,cAAA,8OAAC;oCAAe,IAAI,CAAC,KAAK,EAAE,MAAM,MAAM,EAAE;oCAAE,IAAG;oCAAI,IAAG;oCAAI,IAAG;oCAAI,IAAG;;sDAChE,8OAAC;4CAAK,QAAO;4CAAK,WAAW;4CAAW,aAAa;;;;;;sDACrD,8OAAC;4CAAK,QAAO;4CAAM,WAAW;4CAAW,aAAa;;;;;;;;;;;;;;;;;0CAG9D,8OAAC,8KAAa;gCAAC,iBAAgB;gCAAM,UAAU;gCAAO,QAAO;gCAAgB,SAAS;;;;;;0CACtF,8OAAC,8JAAK;gCACF,SAAQ;gCACR,UAAU;gCACV,UAAU;gCACV,MAAM;oCAAE,MAAM;oCAA2B,UAAU;gCAAG;gCACtD,IAAI;;;;;;0CAER,8OAAC,8JAAK;gCACF,IAAI;gCACJ,QAAQ;oCAAC;oCAAQ;iCAAO;;;;;;0CAE5B,8OAAC,kKAAO;gCACJ,cAAc;oCACV,iBAAiB;oCACjB,aAAa;oCACb,cAAc;oCACd,WAAW;gCACf;gCACA,WAAW;oCAAE,OAAO;gCAAoB;gCACxC,QAAQ;oCAAE,QAAQ;oCAA2B,aAAa;oCAAG,iBAAiB;gCAAM;;;;;;0CAExF,8OAAC,4JAAI;gCACD,MAAK;gCACL,SAAQ;gCACR,QAAQ;gCACR,aAAa;gCACb,aAAa;gCACb,MAAM,CAAC,UAAU,EAAE,MAAM,MAAM,CAAC,CAAC,CAAC;gCAClC,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO/C"}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":["file:///C:/NGTA/frontend/src/app/groww/full-data/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useGrowwStrength } from '@/hooks/useStocks';\r\nimport { ArrowUp, ArrowDown, Search, BarChart2, TrendingUp, Activity } from 'lucide-react';\r\nimport StockChart from '@/components/StockChart';\r\nimport { motion } from 'framer-motion';\r\n\r\nexport default function GrowwFullDataPage() {\r\n    const { data: stocks, isLoading } = useGrowwStrength({});\r\n    const [search, setSearch] = useState(\"\");\r\n    const [selectedStock, setSelectedStock] = useState<any>(null);\r\n\r\n    // Filter stocks\r\n    const filtered = stocks?.filter(s =>\r\n        s.symbol.toLowerCase().includes(search.toLowerCase()) ||\r\n        s.name.toLowerCase().includes(search.toLowerCase())\r\n    ) || [];\r\n\r\n    // Select first stock by default when data loads\r\n    useEffect(() => {\r\n        if (stocks && stocks.length > 0 && !selectedStock) {\r\n            setSelectedStock(stocks[0]);\r\n        }\r\n    }, [stocks, selectedStock]);\r\n\r\n    // Derived stats\r\n    const gainers = [...(stocks || [])].sort((a, b) => b.current_change - a.current_change).slice(0, 3);\r\n    const losers = [...(stocks || [])].sort((a, b) => a.current_change - b.current_change).slice(0, 3);\r\n\r\n    return (\r\n        <div className=\"container mx-auto p-4 md:p-6 space-y-6 max-w-7xl\">\r\n            {/* Header */}\r\n            <motion.header\r\n                initial={{ opacity: 0, y: -20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b pb-6\"\r\n            >\r\n                <div>\r\n                    <h1 className=\"text-3xl md:text-4xl font-bold bg-gradient-to-r from-emerald-500 to-teal-400 bg-clip-text text-transparent flex items-center gap-3\">\r\n                        <TrendingUp className=\"text-emerald-500\" /> Groww Market\r\n                    </h1>\r\n                    <p className=\"text-muted-foreground mt-1\">Advanced Real-Time Analytics & Charting</p>\r\n                </div>\r\n                <div className=\"relative w-full md:w-auto\">\r\n                    <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search symbols...\"\r\n                        value={search}\r\n                        onChange={(e) => setSearch(e.target.value)}\r\n                        className=\"pl-10 pr-4 py-2 bg-secondary/50 border-none rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 w-full md:w-80 transition-all font-medium\"\r\n                    />\r\n                </div>\r\n            </motion.header>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                {/* Left Column: Stock List & Stats */}\r\n                <div className=\"lg:col-span-1 space-y-6 h-[calc(100vh-200px)] overflow-y-auto pr-2 custom-scrollbar\">\r\n\r\n                    {/* Top Movers Cards */}\r\n                    <div className=\"grid grid-cols-2 gap-3\">\r\n                        <div className=\"bg-emerald-500/10 border border-emerald-500/20 p-4 rounded-xl\">\r\n                            <div className=\"text-xs text-emerald-600 font-bold uppercase tracking-wider mb-2 flex items-center gap-1\">\r\n                                <ArrowUp className=\"w-3 h-3\" /> Top Gainer\r\n                            </div>\r\n                            {gainers[0] && (\r\n                                <div onClick={() => setSelectedStock(gainers[0])} className=\"cursor-pointer\">\r\n                                    <div className=\"font-bold text-lg\">{gainers[0].symbol}</div>\r\n                                    <div className=\"text-emerald-600 font-mono\">+{gainers[0].current_change}%</div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"bg-red-500/10 border border-red-500/20 p-4 rounded-xl\">\r\n                            <div className=\"text-xs text-red-600 font-bold uppercase tracking-wider mb-2 flex items-center gap-1\">\r\n                                <ArrowDown className=\"w-3 h-3\" /> Top Loser\r\n                            </div>\r\n                            {losers[0] && (\r\n                                <div onClick={() => setSelectedStock(losers[0])} className=\"cursor-pointer\">\r\n                                    <div className=\"font-bold text-lg\">{losers[0].symbol}</div>\r\n                                    <div className=\"text-red-600 font-mono\">{losers[0].current_change}%</div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Scrollable List */}\r\n                    <div className=\"bg-card rounded-xl border shadow-sm overflow-hidden flex flex-col\">\r\n                        <div className=\"p-4 border-b bg-muted/30 font-semibold flex justify-between items-center sticky top-0 backdrop-blur-md\">\r\n                            <span>Market Watch</span>\r\n                            <span className=\"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full\">{filtered.length}</span>\r\n                        </div>\r\n                        <div className=\"divide-y divide-border/50\">\r\n                            {isLoading ? (\r\n                                <div className=\"p-8 text-center text-muted-foreground animate-pulse\">Loading market data...</div>\r\n                            ) : (\r\n                                filtered.map(stock => (\r\n                                    <motion.div\r\n                                        key={stock.symbol}\r\n                                        initial={{ opacity: 0 }}\r\n                                        animate={{ opacity: 1 }}\r\n                                        onClick={() => setSelectedStock(stock)}\r\n                                        className={`p-4 flex justify-between items-center cursor-pointer transition-colors hover:bg-muted/50 ${selectedStock?.symbol === stock.symbol ? 'bg-emerald-500/5 border-l-4 border-l-emerald-500' : 'border-l-4 border-l-transparent'}`}\r\n                                    >\r\n                                        <div>\r\n                                            <div className=\"font-bold\">{stock.symbol}</div>\r\n                                            <div className=\"text-xs text-muted-foreground truncate max-w-[120px]\">{stock.name}</div>\r\n                                        </div>\r\n                                        <div className=\"text-right\">\r\n                                            <div className=\"font-mono text-sm\">₹{stock.current_price}</div>\r\n                                            <div className={`text-xs font-medium ${stock.current_change >= 0 ? 'text-emerald-500' : 'text-red-500'}`}>\r\n                                                {stock.current_change > 0 ? '+' : ''}{stock.current_change}%\r\n                                            </div>\r\n                                        </div>\r\n                                    </motion.div>\r\n                                ))\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Right Column: Main Chart & Details */}\r\n                <div className=\"lg:col-span-2 space-y-6\">\r\n                    {selectedStock ? (\r\n                        <motion.div\r\n                            key={selectedStock.symbol}\r\n                            initial={{ opacity: 0, scale: 0.98 }}\r\n                            animate={{ opacity: 1, scale: 1 }}\r\n                            transition={{ duration: 0.3 }}\r\n                            className=\"space-y-6\"\r\n                        >\r\n                            {/* Chart Component */}\r\n                            <StockChart\r\n                                stock={selectedStock}\r\n                                height={400}\r\n                            />\r\n\r\n                            {/* Detailed Stats Grid */}\r\n                            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                                <StatCard label=\"Day High\" value={selectedStock.day_high} prefix=\"₹\" />\r\n                                <StatCard label=\"Day Low\" value={selectedStock.day_low} prefix=\"₹\" />\r\n                                <StatCard label=\"Volume\" value={selectedStock.volume.toLocaleString()} />\r\n                                <StatCard label=\"Market Cap\" value={selectedStock.market_cap ? `₹${(selectedStock.market_cap / 10000000).toFixed(2)}Cr` : 'N/A'} />\r\n                                <StatCard label=\"52W High\" value={selectedStock.fifty_two_week_high || 'N/A'} prefix=\"₹\" />\r\n                                <StatCard label=\"52W Low\" value={selectedStock.fifty_two_week_low || 'N/A'} prefix=\"₹\" />\r\n                                <StatCard label=\"P/E Ratio\" value={selectedStock.pe_ratio || 'N/A'} />\r\n                                <StatCard label=\"Sector\" value={selectedStock.sector} />\r\n                            </div>\r\n\r\n                            {/* Technical Indicators Summary */}\r\n                            <div className=\"bg-card rounded-xl border p-6 shadow-sm\">\r\n                                <h3 className=\"font-semibold mb-4 flex items-center gap-2\">\r\n                                    <Activity className=\"w-5 h-5 text-primary\" /> Technical Strength\r\n                                </h3>\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                                    <div className=\"space-y-2\">\r\n                                        <div className=\"text-sm text-muted-foreground\">Trend</div>\r\n                                        <div className={`text-lg font-bold px-3 py-1 rounded-lg inline-block ${selectedStock.indicators.trend === 'bullish' ? 'bg-green-500/10 text-green-500' :\r\n                                            selectedStock.indicators.trend === 'bearish' ? 'bg-red-500/10 text-red-500' : 'bg-yellow-500/10 text-yellow-500'\r\n                                            }`}>\r\n                                            {selectedStock.indicators.trend?.toUpperCase()}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <div className=\"text-sm text-muted-foreground\">RSI (14)</div>\r\n                                        <div className=\"text-2xl font-mono font-bold\">{selectedStock.indicators.rsi_value?.toFixed(2)}</div>\r\n                                        <div className=\"text-xs text-muted-foreground\">Zone: {selectedStock.indicators.rsi_zone}</div>\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <div className=\"text-sm text-muted-foreground\">MACD</div>\r\n                                        <div className=\"text-lg font-mono\">{selectedStock.indicators.macd_status}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </motion.div>\r\n                    ) : (\r\n                        <div className=\"h-full flex flex-col items-center justify-center text-muted-foreground opacity-50\">\r\n                            <BarChart2 className=\"w-16 h-16 mb-4\" />\r\n                            <p>Select a stock to view details</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction StatCard({ label, value, prefix = \"\" }: { label: string, value: string | number, prefix?: string }) {\r\n    return (\r\n        <div className=\"bg-card/50 p-4 rounded-xl border\">\r\n            <div className=\"text-xs text-muted-foreground mb-1\">{label}</div>\r\n            <div className=\"font-mono font-semibold text-lg truncate\">\r\n                {prefix}{value}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}