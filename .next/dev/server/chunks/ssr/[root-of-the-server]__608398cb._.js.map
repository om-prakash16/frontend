{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/hooks/useStocks.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport axios from \"axios\";\r\n\r\n// Types\r\nexport interface ChartDataPoint {\r\n    date: string;\r\n    open: number;\r\n    high: number;\r\n    low: number;\r\n    close: number;\r\n    volume: number;\r\n    macd?: number;\r\n    signal?: number;\r\n    hist?: number;\r\n    rsi?: number;\r\n    ema_20?: number;\r\n    ema_50?: number;\r\n}\r\n\r\nexport interface Stock {\r\n    symbol: string;\r\n    name?: string;\r\n    sector?: string;\r\n    current_price: number;\r\n    previous_close: number;\r\n    current_change_abs: number;\r\n    current_change_pct: number;\r\n    day_high: number;\r\n    day_low: number;\r\n    volume: number;\r\n    market_cap?: number;\r\n    last_updated: string;\r\n    rank: number;\r\n    history: {\r\n        day_1_change_pct: number;\r\n        day_2_change_pct: number;\r\n        day_3_change_pct: number;\r\n        avg_3_day_change_pct: number;\r\n        volatility_3_day: number;\r\n    };\r\n    indicators: {\r\n        macd_line?: number;\r\n        signal_line?: number;\r\n        macd_histogram?: number;\r\n        macd_status: string; // above_zero, below_zero, near_zero\r\n        rsi_value?: number;\r\n        rsi_status: string; // overbought, oversold, neutral\r\n        sma_20?: number;\r\n        sma_50?: number;\r\n        ema_20?: number;\r\n        ema_50?: number;\r\n        trend: string;\r\n        buyer_strength_score: number;\r\n        seller_strength_score: number;\r\n        strength_label: string; // buyers, sellers, balanced\r\n    };\r\n    flags: {\r\n        is_constant_price: boolean;\r\n        is_gainer_today: boolean;\r\n        is_loser_today: boolean;\r\n        is_high_volume: boolean;\r\n        is_breakout_candidate: boolean;\r\n    };\r\n    chart_data?: ChartDataPoint[];\r\n}\r\n\r\nconst API_URL = \"http://localhost:8000/api/v1\";\r\n\r\nexport function useStocks(filters: any) {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"fno\", filters],\r\n        queryFn: async () => {\r\n            const params = new URLSearchParams();\r\n            Object.entries(filters).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null && value !== \"\") {\r\n                    params.append(key, String(value));\r\n                }\r\n            });\r\n\r\n            const url = `${API_URL}/stocks/fno`;\r\n            const { data } = await axios.get<Stock[]>(url, { params });\r\n            return data;\r\n        },\r\n        refetchInterval: 15000, // 15 seconds to reduce load\r\n        staleTime: 10000, // Consider data fresh for 10 seconds\r\n    });\r\n}\r\n\r\nexport function useStockDetail(symbol: string | null) {\r\n    return useQuery({\r\n        queryKey: [\"stock\", symbol],\r\n        queryFn: async () => {\r\n            if (!symbol) return null;\r\n            const { data } = await axios.get<Stock>(`${API_URL}/stocks/${symbol}`);\r\n            return data;\r\n        },\r\n        enabled: !!symbol,\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useWatchlist() {\r\n    return useQuery({\r\n        queryKey: [\"watchlist\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/watchlist`);\r\n            return data;\r\n        },\r\n        refetchInterval: 5000,\r\n    });\r\n}\r\n\r\nexport function useToggleWatchlist() {\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async ({ symbol, action }: { symbol: string; action: \"add\" | \"remove\" }) => {\r\n            const { data } = await axios.post(`${API_URL}/watchlist/`, { symbol, action });\r\n            return data;\r\n        },\r\n        onSuccess: () => {\r\n            queryClient.invalidateQueries({ queryKey: [\"watchlist\"] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useGainers3Day() {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"gainers-3day\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/stocks/gainers-3day`);\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useLosers3Day() {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"losers-3day\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/stocks/losers-3day`);\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AAAA;AAAA;AACA;;;AAiEA,MAAM,UAAU;AAET,SAAS,UAAU,OAAY;IAClC,OAAO,IAAA,uLAAQ,EAAC;QACZ,UAAU;YAAC;YAAU;YAAO;SAAQ;QACpC,SAAS;YACL,MAAM,SAAS,IAAI;YACnB,OAAO,OAAO,CAAC,SAAS,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM;gBACzC,IAAI,UAAU,aAAa,UAAU,QAAQ,UAAU,IAAI;oBACvD,OAAO,MAAM,CAAC,KAAK,OAAO;gBAC9B;YACJ;YAEA,MAAM,MAAM,GAAG,QAAQ,WAAW,CAAC;YACnC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAU,KAAK;gBAAE;YAAO;YACxD,OAAO;QACX;QACA,iBAAiB;QACjB,WAAW;IACf;AACJ;AAEO,SAAS,eAAe,MAAqB;IAChD,OAAO,IAAA,uLAAQ,EAAC;QACZ,UAAU;YAAC;YAAS;SAAO;QAC3B,SAAS;YACL,IAAI,CAAC,QAAQ,OAAO;YACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAQ,GAAG,QAAQ,QAAQ,EAAE,QAAQ;YACrE,OAAO;QACX;QACA,SAAS,CAAC,CAAC;QACX,iBAAiB;IACrB;AACJ;AAEO,SAAS;IACZ,OAAO,IAAA,uLAAQ,EAAC;QACZ,UAAU;YAAC;SAAY;QACvB,SAAS;YACL,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAU,GAAG,QAAQ,UAAU,CAAC;YAChE,OAAO;QACX;QACA,iBAAiB;IACrB;AACJ;AAEO,SAAS;IACZ,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO,IAAA,6LAAW,EAAC;QACf,YAAY,OAAO,EAAE,MAAM,EAAE,MAAM,EAAgD;YAC/E,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,WAAW,CAAC,EAAE;gBAAE;gBAAQ;YAAO;YAC5E,OAAO;QACX;QACA,WAAW;YACP,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAY;YAAC;QAC5D;IACJ;AACJ;AAEO,SAAS;IACZ,OAAO,IAAA,uLAAQ,EAAC;QACZ,UAAU;YAAC;YAAU;SAAe;QACpC,SAAS;YACL,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAU,GAAG,QAAQ,oBAAoB,CAAC;YAC1E,OAAO;QACX;QACA,iBAAiB;IACrB;AACJ;AAEO,SAAS;IACZ,OAAO,IAAA,uLAAQ,EAAC;QACZ,UAAU;YAAC;YAAU;SAAc;QACnC,SAAS;YACL,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAU,GAAG,QAAQ,mBAAmB,CAAC;YACzE,OAAO;QACX;QACA,iBAAiB;IACrB;AACJ"}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/AutoFilter.tsx"],"sourcesContent":["import { useState, useMemo } from \"react\";\r\nimport { ArrowDown, ArrowUp, Check, Filter, Search, X } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport type FilterType = \"text\" | \"number\" | \"enum\";\r\n\r\nexport interface FilterState {\r\n    type: FilterType;\r\n    selectedValues?: string[]; // For text/enum\r\n    min?: number; // For number\r\n    max?: number; // For number\r\n}\r\n\r\ninterface AutoFilterProps {\r\n    columnKey: string;\r\n    type: FilterType;\r\n    options?: string[]; // Unique values for text/enum\r\n    onFilter: (state: FilterState | null) => void;\r\n    currentFilter: FilterState | null;\r\n    onSort: (direction: \"asc\" | \"desc\") => void;\r\n    sortDirection: \"asc\" | \"desc\" | null;\r\n    title: string;\r\n}\r\n\r\nexport default function AutoFilter({\r\n    columnKey,\r\n    type,\r\n    options = [],\r\n    onFilter,\r\n    currentFilter,\r\n    onSort,\r\n    sortDirection,\r\n    title,\r\n}: AutoFilterProps) {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [search, setSearch] = useState(\"\");\r\n\r\n    // Local state for filter inputs\r\n    const [localSelected, setLocalSelected] = useState<string[]>(\r\n        currentFilter?.selectedValues || options\r\n    );\r\n    const [localMin, setLocalMin] = useState<string>(\r\n        currentFilter?.min?.toString() || \"\"\r\n    );\r\n    const [localMax, setLocalMax] = useState<string>(\r\n        currentFilter?.max?.toString() || \"\"\r\n    );\r\n\r\n    const filteredOptions = useMemo(() => {\r\n        if (!search) return options;\r\n        return options.filter((opt) =>\r\n            opt.toLowerCase().includes(search.toLowerCase())\r\n        );\r\n    }, [options, search]);\r\n\r\n    const handleApply = () => {\r\n        if (type === \"number\") {\r\n            const min = localMin ? parseFloat(localMin) : undefined;\r\n            const max = localMax ? parseFloat(localMax) : undefined;\r\n            if (min === undefined && max === undefined) {\r\n                onFilter(null);\r\n            } else {\r\n                onFilter({ type, min, max });\r\n            }\r\n        } else {\r\n            if (localSelected.length === options.length) {\r\n                onFilter(null); // All selected = no filter\r\n            } else {\r\n                onFilter({ type, selectedValues: localSelected });\r\n            }\r\n        }\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const handleClear = () => {\r\n        setLocalSelected(options);\r\n        setLocalMin(\"\");\r\n        setLocalMax(\"\");\r\n        onFilter(null);\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const toggleOption = (opt: string) => {\r\n        setLocalSelected((prev) =>\r\n            prev.includes(opt)\r\n                ? prev.filter((p) => p !== opt)\r\n                : [...prev, opt]\r\n        );\r\n    };\r\n\r\n    const toggleAll = () => {\r\n        if (localSelected.length === filteredOptions.length) {\r\n            setLocalSelected([]);\r\n        } else {\r\n            setLocalSelected(filteredOptions);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative inline-block\">\r\n            <button\r\n                onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setIsOpen(!isOpen);\r\n                }}\r\n                className={cn(\r\n                    \"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\",\r\n                    currentFilter || sortDirection ? \"text-blue-600 dark:text-blue-400\" : \"text-gray-400 dark:text-gray-500\"\r\n                )}\r\n                title={`Filter ${title}`}\r\n            >\r\n                <Filter className=\"w-3 h-3\" />\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <>\r\n                    <div\r\n                        className=\"fixed inset-0 z-40\"\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            setIsOpen(false);\r\n                        }}\r\n                    />\r\n                    <div\r\n                        className=\"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 flex flex-col max-h-[400px]\"\r\n                        onClick={(e) => e.stopPropagation()}\r\n                    >\r\n                        {/* Header */}\r\n                        <div className=\"p-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between\">\r\n                            <span className=\"font-medium text-gray-900 dark:text-white text-sm\">Filter: {title}</span>\r\n                            <button onClick={() => setIsOpen(false)}>\r\n                                <X className=\"w-4 h-4 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white\" />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Sorting */}\r\n                        <div className=\"p-2 border-b border-gray-200 dark:border-gray-700 flex gap-2\">\r\n                            <button\r\n                                onClick={() => {\r\n                                    onSort(\"asc\");\r\n                                    setIsOpen(false);\r\n                                }}\r\n                                className={cn(\r\n                                    \"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs font-medium transition-colors\",\r\n                                    sortDirection === \"asc\"\r\n                                        ? \"bg-blue-600 text-white\"\r\n                                        : \"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600\"\r\n                                )}\r\n                            >\r\n                                <ArrowUp className=\"w-3 h-3\" /> Asc\r\n                            </button>\r\n                            <button\r\n                                onClick={() => {\r\n                                    onSort(\"desc\");\r\n                                    setIsOpen(false);\r\n                                }}\r\n                                className={cn(\r\n                                    \"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs font-medium transition-colors\",\r\n                                    sortDirection === \"desc\"\r\n                                        ? \"bg-blue-600 text-white\"\r\n                                        : \"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600\"\r\n                                )}\r\n                            >\r\n                                <ArrowDown className=\"w-3 h-3\" /> Desc\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Filter Content */}\r\n                        <div className=\"p-3 flex-1 overflow-y-auto min-h-0\">\r\n                            {type === \"number\" ? (\r\n                                <div className=\"space-y-3\">\r\n                                    <div>\r\n                                        <label className=\"block text-xs text-gray-500 dark:text-gray-400 mb-1\">Min Value</label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            value={localMin}\r\n                                            onChange={(e) => setLocalMin(e.target.value)}\r\n                                            className=\"w-full bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded px-2 py-1 text-sm text-gray-900 dark:text-white focus:border-blue-500 outline-none\"\r\n                                            placeholder=\"Min\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-xs text-gray-500 dark:text-gray-400 mb-1\">Max Value</label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            value={localMax}\r\n                                            onChange={(e) => setLocalMax(e.target.value)}\r\n                                            className=\"w-full bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded px-2 py-1 text-sm text-gray-900 dark:text-white focus:border-blue-500 outline-none\"\r\n                                            placeholder=\"Max\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"flex flex-col h-full\">\r\n                                    <div className=\"relative mb-2\">\r\n                                        <Search className=\"w-3 h-3 absolute left-2 top-2 text-gray-500\" />\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={search}\r\n                                            onChange={(e) => setSearch(e.target.value)}\r\n                                            className=\"w-full bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded pl-7 pr-2 py-1 text-xs text-gray-900 dark:text-white focus:border-blue-500 outline-none\"\r\n                                            placeholder=\"Search...\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-2 mb-2 pb-2 border-b border-gray-200 dark:border-gray-700\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={localSelected.length === filteredOptions.length && filteredOptions.length > 0}\r\n                                            onChange={toggleAll}\r\n                                            className=\"rounded bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-0\"\r\n                                        />\r\n                                        <span className=\"text-xs text-gray-600 dark:text-gray-300\">(Select All)</span>\r\n                                    </div>\r\n                                    <div className=\"space-y-1 overflow-y-auto max-h-[200px]\">\r\n                                        {filteredOptions.map((opt) => (\r\n                                            <label key={opt} className=\"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700/50 p-1 rounded\">\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    checked={localSelected.includes(opt)}\r\n                                                    onChange={() => toggleOption(opt)}\r\n                                                    className=\"rounded bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-0\"\r\n                                                />\r\n                                                <span className=\"text-xs text-gray-700 dark:text-gray-300 break-all\">{opt}</span>\r\n                                            </label>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Actions */}\r\n                        <div className=\"p-3 border-t border-gray-200 dark:border-gray-700 flex justify-between gap-2\">\r\n                            <button\r\n                                onClick={handleClear}\r\n                                className=\"px-3 py-1.5 text-xs font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\"\r\n                            >\r\n                                Clear\r\n                            </button>\r\n                            <button\r\n                                onClick={handleApply}\r\n                                className=\"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium transition-colors\"\r\n                            >\r\n                                Apply\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 620, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/utils/globalFilter.ts"],"sourcesContent":["import { Stock } from \"@/hooks/useStocks\";\r\n\r\nexport type FilterType = \"text\" | \"number\" | \"enum\";\r\n\r\nexport interface FilterState {\r\n    type: FilterType;\r\n    selectedValues?: string[]; // For text/enum\r\n    min?: number; // For number\r\n    max?: number; // For number\r\n}\r\n\r\nexport const globalFilter = (data: Stock[], filters: Record<string, any>): Stock[] => {\r\n    if (!data || !filters) return data || [];\r\n\r\n    // 1. Enrich data with derived fields for easier filtering (same logic as before)\r\n    const enriched = data.map(stock => {\r\n        // 3D Average Strength Logic\r\n        let strength3D = \"Neutral\";\r\n        if (stock.history.avg_3_day_change_pct > 0.5) strength3D = \"Strong Buyers\";\r\n        else if (stock.history.avg_3_day_change_pct < -0.5) strength3D = \"Strong Sellers\";\r\n\r\n        // Indicators Composite\r\n        const indicatorsList = [];\r\n        if (stock.indicators.macd_status === \"above_zero\") indicatorsList.push(\"MACD Above Zero (Bullish)\");\r\n        if (stock.indicators.macd_status === \"below_zero\") indicatorsList.push(\"MACD Below Zero (Bearish)\");\r\n        if (stock.indicators.macd_status === \"near_zero\") indicatorsList.push(\"MACD Near Zero (Neutral)\");\r\n\r\n        if (stock.indicators.rsi_status === \"overbought\") indicatorsList.push(\"RSI Overbought\");\r\n        if (stock.indicators.rsi_status === \"oversold\") indicatorsList.push(\"RSI Oversold\");\r\n        if (stock.indicators.rsi_status === \"neutral\") indicatorsList.push(\"RSI Neutral\");\r\n\r\n        return {\r\n            ...stock,\r\n            derived: {\r\n                strength3D,\r\n                indicatorsList,\r\n                macdLabel: stock.indicators.macd_status === \"above_zero\" ? \"Above Zero\" :\r\n                    stock.indicators.macd_status === \"below_zero\" ? \"Below Zero\" : \"Near Zero\",\r\n                rsiLabel: stock.indicators.rsi_status === \"overbought\" ? \"Overbought\" :\r\n                    stock.indicators.rsi_status === \"oversold\" ? \"Oversold\" : \"Neutral\",\r\n                strengthLabel: stock.indicators.strength_label === \"buyers\" ? \"Buyers Dominating\" :\r\n                    stock.indicators.strength_label === \"sellers\" ? \"Sellers Dominating\" : \"Balanced\"\r\n            }\r\n        };\r\n    });\r\n\r\n    // 2. Filter\r\n    return enriched.filter(stock => {\r\n        // Handle \"Quick Filters\" (boolean flags from FilterDrawer)\r\n        if (filters.search && !stock.symbol.toLowerCase().includes(filters.search.toLowerCase()) && !stock.name?.toLowerCase().includes(filters.search.toLowerCase())) return false;\r\n        if (filters.sector && stock.sector !== filters.sector) return false;\r\n\r\n        if (filters.min_price && stock.current_price < Number(filters.min_price)) return false;\r\n        if (filters.max_price && stock.current_price > Number(filters.max_price)) return false;\r\n\r\n        if (filters.min_avg_3day_pct && stock.history.avg_3_day_change_pct < Number(filters.min_avg_3day_pct)) return false;\r\n        if (filters.max_avg_3day_pct && stock.history.avg_3_day_change_pct > Number(filters.max_avg_3day_pct)) return false;\r\n\r\n        if (filters.constant_only && !stock.flags.is_constant_price) return false;\r\n        if (filters.gainers_only && stock.current_change_pct <= 0) return false;\r\n        if (filters.losers_only && stock.current_change_pct >= 0) return false;\r\n        if (filters.high_volume_only && !stock.flags.is_high_volume) return false;\r\n\r\n        if (filters.macd_status && stock.indicators.macd_status !== filters.macd_status) return false;\r\n        if (filters.rsi_zone && stock.indicators.rsi_status !== filters.rsi_zone) return false;\r\n        if (filters.strength && stock.indicators.strength_label !== filters.strength) return false;\r\n\r\n        // Handle Column-Specific AutoFilters (from Table Headers)\r\n        // These keys usually come from the table's local state, but if we want to support them globally,\r\n        // we need to check if they exist in the 'filters' object passed in.\r\n        // For now, the 'filters' object passed here is mostly from the Drawer/QuickChips.\r\n        // The Table component combines these with its own column filters.\r\n\r\n        return true;\r\n    });\r\n};\r\n\r\n// Helper for Column Filters (used inside Table)\r\nexport const applyColumnFilters = (data: any[], columnFilters: Record<string, FilterState>) => {\r\n    return data.filter(item => {\r\n        return Object.entries(columnFilters).every(([key, filter]) => {\r\n            let value: any;\r\n\r\n            // Map keys to values (using dot notation support)\r\n            value = key.split('.').reduce((o, i) => o?.[i], item);\r\n\r\n            if (filter.type === \"number\") {\r\n                if (typeof value !== \"number\") return false;\r\n                if (filter.min !== undefined && value < filter.min) return false;\r\n                if (filter.max !== undefined && value > filter.max) return false;\r\n                return true;\r\n            } else {\r\n                // Text/Enum\r\n                if (!filter.selectedValues || filter.selectedValues.length === 0) return true;\r\n\r\n                if (Array.isArray(value)) {\r\n                    return value.some(v => filter.selectedValues?.includes(v));\r\n                }\r\n\r\n                return filter.selectedValues.includes(String(value));\r\n            }\r\n        });\r\n    });\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 703, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/StocksTable.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Stock, useWatchlist, useToggleWatchlist } from \"@/hooks/useStocks\";\r\nimport { ArrowDown, ArrowUp, Minus, Star } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useState, useMemo } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport AutoFilter, { FilterState } from \"./AutoFilter\";\r\nimport { globalFilter, applyColumnFilters } from \"@/utils/globalFilter\";\r\n\r\ninterface StocksTableProps {\r\n    stocks: Stock[];\r\n    isLoading: boolean;\r\n    simpleMode?: boolean;\r\n}\r\n\r\n// Helper to get unique values for a column\r\nconst getUniqueValues = (data: any[], key: string): string[] => {\r\n    const values = new Set<string>();\r\n    data.forEach(item => {\r\n        const val = key.split('.').reduce((o, i) => o?.[i], item);\r\n        if (val) values.add(String(val));\r\n    });\r\n    return Array.from(values).sort();\r\n};\r\n\r\nexport default function StocksTable({ stocks, isLoading, simpleMode = false }: StocksTableProps) {\r\n    const router = useRouter();\r\n    const [displayCount, setDisplayCount] = useState(50);\r\n\r\n    // Client-side state\r\n    const [columnFilters, setColumnFilters] = useState<Record<string, FilterState>>({});\r\n    const [sortConfig, setSortConfig] = useState<{ key: string; direction: \"asc\" | \"desc\" }>({\r\n        key: \"history.avg_3_day_change_pct\",\r\n        direction: \"asc\"\r\n    });\r\n\r\n    const { data: watchlist } = useWatchlist();\r\n    const { mutate: toggleWatchlist } = useToggleWatchlist();\r\n\r\n    const isInWatchlist = (symbol: string) => {\r\n        return watchlist?.some(s => s.symbol === symbol);\r\n    };\r\n\r\n    const handleToggleWatchlist = (symbol: string) => {\r\n        const action = isInWatchlist(symbol) ? \"remove\" : \"add\";\r\n        toggleWatchlist({ symbol, action });\r\n    };\r\n\r\n    const handleLoadMore = () => {\r\n        setDisplayCount(prev => prev + 50);\r\n    };\r\n\r\n    const handleRowClick = (symbol: string) => {\r\n        router.push(`/stocks/${symbol}`);\r\n    };\r\n\r\n    const handleFilterChange = (key: string, filter: FilterState | null) => {\r\n        setColumnFilters(prev => {\r\n            const next = { ...prev };\r\n            if (filter === null) {\r\n                delete next[key];\r\n            } else {\r\n                next[key] = filter;\r\n            }\r\n            return next;\r\n        });\r\n    };\r\n\r\n    const handleSort = (key: string, direction: \"asc\" | \"desc\") => {\r\n        setSortConfig({ key, direction });\r\n    };\r\n\r\n    // Derived Data & Filtering\r\n    const processedStocks = useMemo(() => {\r\n        if (!stocks) return [];\r\n\r\n        // 1. Apply Global Filters (Enrichment happens inside globalFilter now, but wait... \r\n        // globalFilter returns enriched data? Yes, let's check the utility.\r\n        // The utility I wrote returns enriched data. So I can use that directly.)\r\n\r\n        // Actually, globalFilter takes raw stocks and a filter object.\r\n        // But here 'stocks' might already be filtered by the parent page (search, drawer filters).\r\n        // Wait, the parent passes 'stocks' which is the result of useStocks.\r\n        // useStocks fetches ALL data (cached).\r\n        // The parent page ALREADY filters it using the Drawer state if I passed filters to useStocks?\r\n        // Let's check useStocks.\r\n        // If useStocks does client-side filtering, then 'stocks' is already filtered.\r\n        // But the user asked for a \"Global Filter Function\".\r\n\r\n        // In the current architecture:\r\n        // page.tsx: useStocks(filters) -> returns filtered data?\r\n        // Let's check useStocks.ts.\r\n\r\n        // If useStocks returns raw data, then I need to filter here.\r\n        // If useStocks returns filtered data, then I only need to apply Column Filters here.\r\n\r\n        // However, to be safe and consistent, I will assume 'stocks' passed here is what we want to show,\r\n        // BUT we still need to apply Column Filters (which are local to this table).\r\n\r\n        // AND we need to enrich the data for display (derived fields).\r\n        // globalFilter does enrichment. So I should probably use it or a helper from it.\r\n\r\n        // Let's use globalFilter with an empty filter object just to get the enriched data, \r\n        // OR better, separate enrichment from filtering in the utility.\r\n        // But for now, I'll just use globalFilter with empty filters to get enriched data if I need it,\r\n        // OR I can just replicate the enrichment here since it's cheap.\r\n\r\n        // Actually, the 'stocks' prop passed to StocksTable in page.tsx comes from useStocks(filters).\r\n        // If useStocks applies filters, then 'stocks' is already filtered by the Drawer.\r\n        // So StocksTable only needs to apply Column Filters.\r\n\r\n        // But wait, the user said \"Global Filter Function... And return filtered data consistently across pages.\"\r\n        // This implies I should use this function in `useStocks` or wherever data is processed.\r\n\r\n        // For now, I will keep the enrichment logic here to ensure the table works as before,\r\n        // but I will use `applyColumnFilters` from the utility.\r\n\r\n        // Let's re-enrich here because the Table needs specific derived fields for columns.\r\n        const enriched = stocks.map(stock => {\r\n            // 3D Average Strength Logic\r\n            let strength3D = \"Neutral\";\r\n            if (stock.history.avg_3_day_change_pct > 0.5) strength3D = \"Strong Buyers\";\r\n            else if (stock.history.avg_3_day_change_pct < -0.5) strength3D = \"Strong Sellers\";\r\n\r\n            // Indicators Composite\r\n            const indicatorsList = [];\r\n            if (stock.indicators.macd_status === \"above_zero\") indicatorsList.push(\"MACD Above Zero (Bullish)\");\r\n            if (stock.indicators.macd_status === \"below_zero\") indicatorsList.push(\"MACD Below Zero (Bearish)\");\r\n            if (stock.indicators.macd_status === \"near_zero\") indicatorsList.push(\"MACD Near Zero (Neutral)\");\r\n\r\n            if (stock.indicators.rsi_status === \"overbought\") indicatorsList.push(\"RSI Overbought\");\r\n            if (stock.indicators.rsi_status === \"oversold\") indicatorsList.push(\"RSI Oversold\");\r\n            if (stock.indicators.rsi_status === \"neutral\") indicatorsList.push(\"RSI Neutral\");\r\n\r\n            return {\r\n                ...stock,\r\n                derived: {\r\n                    strength3D,\r\n                    indicatorsList,\r\n                    macdLabel: stock.indicators.macd_status === \"above_zero\" ? \"Above Zero\" :\r\n                        stock.indicators.macd_status === \"below_zero\" ? \"Below Zero\" : \"Near Zero\",\r\n                    rsiLabel: stock.indicators.rsi_status === \"overbought\" ? \"Overbought\" :\r\n                        stock.indicators.rsi_status === \"oversold\" ? \"Oversold\" : \"Neutral\",\r\n                    strengthLabel: stock.indicators.strength_label === \"buyers\" ? \"Buyers Dominating\" :\r\n                        stock.indicators.strength_label === \"sellers\" ? \"Sellers Dominating\" : \"Balanced\"\r\n                }\r\n            };\r\n        });\r\n\r\n        // 2. Apply Column Filters\r\n        const filtered = applyColumnFilters(enriched, columnFilters);\r\n\r\n        // 3. Sort\r\n        return filtered.sort((a, b) => {\r\n            const { key, direction } = sortConfig;\r\n            let valA: any, valB: any;\r\n\r\n            // Special case for default sort\r\n            if (key === \"history.avg_3_day_change_pct\") {\r\n                // Sort by abs(avg_3_day_change_pct)\r\n                valA = Math.abs(a.history.avg_3_day_change_pct);\r\n                valB = Math.abs(b.history.avg_3_day_change_pct);\r\n            } else {\r\n                // Generic accessor\r\n                valA = key.split('.').reduce((o, i) => o?.[i], a);\r\n                valB = key.split('.').reduce((o, i) => o?.[i], b);\r\n\r\n                // Handle derived\r\n                if (key.startsWith(\"derived.\")) {\r\n                    valA = key.split('.').reduce((o, i) => o?.[i], a);\r\n                    valB = key.split('.').reduce((o, i) => o?.[i], b);\r\n                }\r\n            }\r\n\r\n            if (valA < valB) return direction === \"asc\" ? -1 : 1;\r\n            if (valA > valB) return direction === \"asc\" ? 1 : -1;\r\n            return 0;\r\n        });\r\n\r\n    }, [stocks, columnFilters, sortConfig]);\r\n\r\n    const displayedStocks = processedStocks.slice(0, displayCount);\r\n\r\n    // Generate options for filters\r\n    const getOptions = (key: string) => {\r\n        if (!processedStocks.length) return [];\r\n        if (key === \"derived.indicatorsList\") {\r\n            // Flatten all indicators\r\n            const all = new Set<string>();\r\n            processedStocks.forEach(s => s.derived.indicatorsList.forEach((i: string) => all.add(i)));\r\n            return Array.from(all).sort();\r\n        }\r\n        return getUniqueValues(processedStocks, key);\r\n    };\r\n\r\n    if (isLoading) {\r\n        return <div className=\"text-center py-20 text-gray-500\">Loading market data...</div>;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900/50 min-h-[600px]\">\r\n                <table className=\"w-full text-sm text-left relative\">\r\n                    <thead className=\"text-xs text-gray-500 dark:text-gray-400 uppercase bg-gray-50 dark:bg-gray-800/50 sticky top-0 z-20 backdrop-blur-sm\">\r\n                        <tr>\r\n                            {!simpleMode && (\r\n                                <th className=\"px-4 py-3 min-w-[80px]\">\r\n                                    <div className=\"flex items-center justify-between gap-2\">\r\n                                        <span>Rank</span>\r\n                                        <AutoFilter\r\n                                            columnKey=\"rank\"\r\n                                            title=\"Rank\"\r\n                                            type=\"number\"\r\n                                            onFilter={(f) => handleFilterChange(\"rank\", f)}\r\n                                            currentFilter={columnFilters[\"rank\"] || null}\r\n                                            onSort={(d) => handleSort(\"rank\", d)}\r\n                                            sortDirection={sortConfig.key === \"rank\" ? sortConfig.direction : null}\r\n                                        />\r\n                                    </div>\r\n                                </th>\r\n                            )}\r\n                            <th className=\"px-4 py-3 min-w-[120px]\">\r\n                                <div className=\"flex items-center justify-between gap-2\">\r\n                                    <span>Symbol</span>\r\n                                    <AutoFilter\r\n                                        columnKey=\"symbol\"\r\n                                        title=\"Symbol\"\r\n                                        type=\"text\"\r\n                                        options={getOptions(\"symbol\")}\r\n                                        onFilter={(f) => handleFilterChange(\"symbol\", f)}\r\n                                        currentFilter={columnFilters[\"symbol\"] || null}\r\n                                        onSort={(d) => handleSort(\"symbol\", d)}\r\n                                        sortDirection={sortConfig.key === \"symbol\" ? sortConfig.direction : null}\r\n                                    />\r\n                                </div>\r\n                            </th>\r\n                            <th className=\"px-4 py-3 min-w-[100px]\">\r\n                                <div className=\"flex items-center justify-between gap-2\">\r\n                                    <span>Price</span>\r\n                                    <AutoFilter\r\n                                        columnKey=\"current_price\"\r\n                                        title=\"Price\"\r\n                                        type=\"number\"\r\n                                        onFilter={(f) => handleFilterChange(\"current_price\", f)}\r\n                                        currentFilter={columnFilters[\"current_price\"] || null}\r\n                                        onSort={(d) => handleSort(\"current_price\", d)}\r\n                                        sortDirection={sortConfig.key === \"current_price\" ? sortConfig.direction : null}\r\n                                    />\r\n                                </div>\r\n                            </th>\r\n                            {!simpleMode && (\r\n                                <th className=\"px-4 py-3 min-w-[120px]\">\r\n                                    <div className=\"flex items-center justify-between gap-2\">\r\n                                        <span>Change % (Current)</span>\r\n                                        <AutoFilter\r\n                                            columnKey=\"current_change_pct\"\r\n                                            title=\"Change %\"\r\n                                            type=\"number\"\r\n                                            onFilter={(f) => handleFilterChange(\"current_change_pct\", f)}\r\n                                            currentFilter={columnFilters[\"current_change_pct\"] || null}\r\n                                            onSort={(d) => handleSort(\"current_change_pct\", d)}\r\n                                            sortDirection={sortConfig.key === \"current_change_pct\" ? sortConfig.direction : null}\r\n                                        />\r\n                                    </div>\r\n                                </th>\r\n                            )}\r\n                            {!simpleMode && (\r\n                                <>\r\n                                    <th className=\"px-4 py-3 min-w-[100px]\">\r\n                                        <div className=\"flex items-center justify-between gap-2\">\r\n                                            <span>Day 1 % (P)</span>\r\n                                            <AutoFilter\r\n                                                columnKey=\"history.day_1_change_pct\"\r\n                                                title=\"Day 1 %\"\r\n                                                type=\"number\"\r\n                                                onFilter={(f) => handleFilterChange(\"history.day_1_change_pct\", f)}\r\n                                                currentFilter={columnFilters[\"history.day_1_change_pct\"] || null}\r\n                                                onSort={(d) => handleSort(\"history.day_1_change_pct\", d)}\r\n                                                sortDirection={sortConfig.key === \"history.day_1_change_pct\" ? sortConfig.direction : null}\r\n                                            />\r\n                                        </div>\r\n                                    </th>\r\n                                    <th className=\"px-4 py-3 min-w-[100px]\">\r\n                                        <div className=\"flex items-center justify-between gap-2\">\r\n                                            <span>Day 2 % (P)</span>\r\n                                            <AutoFilter\r\n                                                columnKey=\"history.day_2_change_pct\"\r\n                                                title=\"Day 2 %\"\r\n                                                type=\"number\"\r\n                                                onFilter={(f) => handleFilterChange(\"history.day_2_change_pct\", f)}\r\n                                                currentFilter={columnFilters[\"history.day_2_change_pct\"] || null}\r\n                                                onSort={(d) => handleSort(\"history.day_2_change_pct\", d)}\r\n                                                sortDirection={sortConfig.key === \"history.day_2_change_pct\" ? sortConfig.direction : null}\r\n                                            />\r\n                                        </div>\r\n                                    </th>\r\n                                    <th className=\"px-4 py-3 min-w-[100px]\">\r\n                                        <div className=\"flex items-center justify-between gap-2\">\r\n                                            <span>Day 3 % (P)</span>\r\n                                            <AutoFilter\r\n                                                columnKey=\"history.day_3_change_pct\"\r\n                                                title=\"Day 3 %\"\r\n                                                type=\"number\"\r\n                                                onFilter={(f) => handleFilterChange(\"history.day_3_change_pct\", f)}\r\n                                                currentFilter={columnFilters[\"history.day_3_change_pct\"] || null}\r\n                                                onSort={(d) => handleSort(\"history.day_3_change_pct\", d)}\r\n                                                sortDirection={sortConfig.key === \"history.day_3_change_pct\" ? sortConfig.direction : null}\r\n                                            />\r\n                                        </div>\r\n                                    </th>\r\n                                </>\r\n                            )}\r\n                            <th className=\"px-4 py-3 min-w-[120px]\">\r\n                                <div className=\"flex items-center justify-between gap-2\">\r\n                                    <span>3-Day Avg %</span>\r\n                                    <AutoFilter\r\n                                        columnKey=\"history.avg_3_day_change_pct\"\r\n                                        title=\"3-Day Avg %\"\r\n                                        type=\"number\"\r\n                                        onFilter={(f) => handleFilterChange(\"history.avg_3_day_change_pct\", f)}\r\n                                        currentFilter={columnFilters[\"history.avg_3_day_change_pct\"] || null}\r\n                                        onSort={(d) => handleSort(\"history.avg_3_day_change_pct\", d)}\r\n                                        sortDirection={sortConfig.key === \"history.avg_3_day_change_pct\" ? sortConfig.direction : null}\r\n                                    />\r\n                                </div>\r\n                            </th>\r\n                            {!simpleMode && (\r\n                                <>\r\n                                    <th className=\"px-4 py-3 min-w-[150px]\">\r\n                                        <div className=\"flex items-center justify-between gap-2\">\r\n                                            <span>Indicators</span>\r\n                                            <AutoFilter\r\n                                                columnKey=\"derived.indicatorsList\"\r\n                                                title=\"Indicators\"\r\n                                                type=\"enum\"\r\n                                                options={[\r\n                                                    \"MACD Above Zero (Bullish)\",\r\n                                                    \"MACD Below Zero (Bearish)\",\r\n                                                    \"MACD Near Zero (Neutral)\",\r\n                                                    \"RSI Overbought\",\r\n                                                    \"RSI Oversold\",\r\n                                                    \"RSI Neutral\"\r\n                                                ]}\r\n                                                onFilter={(f) => handleFilterChange(\"derived.indicatorsList\", f)}\r\n                                                currentFilter={columnFilters[\"derived.indicatorsList\"] || null}\r\n                                                onSort={(d) => handleSort(\"derived.indicatorsList\", d)}\r\n                                                sortDirection={sortConfig.key === \"derived.indicatorsList\" ? sortConfig.direction : null}\r\n                                            />\r\n                                        </div>\r\n                                    </th>\r\n                                    <th className=\"px-4 py-3 min-w-[60px]\">\r\n                                        <div className=\"flex items-center justify-between gap-2\">\r\n                                            <span>M</span>\r\n                                            <AutoFilter\r\n                                                columnKey=\"derived.macdLabel\"\r\n                                                title=\"MACD Status\"\r\n                                                type=\"enum\"\r\n                                                options={[\"Above Zero\", \"Below Zero\", \"Near Zero\"]}\r\n                                                onFilter={(f) => handleFilterChange(\"derived.macdLabel\", f)}\r\n                                                currentFilter={columnFilters[\"derived.macdLabel\"] || null}\r\n                                                onSort={(d) => handleSort(\"derived.macdLabel\", d)}\r\n                                                sortDirection={sortConfig.key === \"derived.macdLabel\" ? sortConfig.direction : null}\r\n                                            />\r\n                                        </div>\r\n                                    </th>\r\n                                    <th className=\"px-4 py-3 min-w-[60px]\">\r\n                                        <div className=\"flex items-center justify-between gap-2\">\r\n                                            <span>R</span>\r\n                                            <AutoFilter\r\n                                                columnKey=\"derived.rsiLabel\"\r\n                                                title=\"RSI Status\"\r\n                                                type=\"enum\"\r\n                                                options={[\"Overbought\", \"Oversold\", \"Neutral\"]}\r\n                                                onFilter={(f) => handleFilterChange(\"derived.rsiLabel\", f)}\r\n                                                currentFilter={columnFilters[\"derived.rsiLabel\"] || null}\r\n                                                onSort={(d) => handleSort(\"derived.rsiLabel\", d)}\r\n                                                sortDirection={sortConfig.key === \"derived.rsiLabel\" ? sortConfig.direction : null}\r\n                                            />\r\n                                        </div>\r\n                                    </th>\r\n                                    <th className=\"px-4 py-3 min-w-[120px]\">\r\n                                        <div className=\"flex items-center justify-between gap-2\">\r\n                                            <span>Current Strength</span>\r\n                                            <AutoFilter\r\n                                                columnKey=\"derived.strengthLabel\"\r\n                                                title=\"Current Strength\"\r\n                                                type=\"enum\"\r\n                                                options={[\"Buyers Dominating\", \"Sellers Dominating\", \"Balanced\"]}\r\n                                                onFilter={(f) => handleFilterChange(\"derived.strengthLabel\", f)}\r\n                                                currentFilter={columnFilters[\"derived.strengthLabel\"] || null}\r\n                                                onSort={(d) => handleSort(\"derived.strengthLabel\", d)}\r\n                                                sortDirection={sortConfig.key === \"derived.strengthLabel\" ? sortConfig.direction : null}\r\n                                            />\r\n                                        </div>\r\n                                    </th>\r\n                                    <th className=\"px-4 py-3 min-w-[120px]\">\r\n                                        <div className=\"flex items-center justify-between gap-2\">\r\n                                            <span>3D Average Strength</span>\r\n                                            <AutoFilter\r\n                                                columnKey=\"derived.strength3D\"\r\n                                                title=\"3D Strength\"\r\n                                                type=\"enum\"\r\n                                                options={[\"Strong Buyers\", \"Strong Sellers\", \"Neutral\"]}\r\n                                                onFilter={(f) => handleFilterChange(\"derived.strength3D\", f)}\r\n                                                currentFilter={columnFilters[\"derived.strength3D\"] || null}\r\n                                                onSort={(d) => handleSort(\"derived.strength3D\", d)}\r\n                                                sortDirection={sortConfig.key === \"derived.strength3D\" ? sortConfig.direction : null}\r\n                                            />\r\n                                        </div>\r\n                                    </th>\r\n                                    <th className=\"px-4 py-3 text-right\">Action</th>\r\n                                </>\r\n                            )}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-200 dark:divide-gray-800\">\r\n                        {displayedStocks.map((stock) => (\r\n                            <tr\r\n                                key={stock.symbol}\r\n                                className=\"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors group cursor-pointer\"\r\n                                onClick={() => handleRowClick(stock.symbol)}\r\n                            >\r\n                                {!simpleMode && <td className=\"px-4 py-3 font-medium text-gray-700 dark:text-gray-300\">#{stock.rank}</td>}\r\n                                <td className=\"px-4 py-3\">\r\n                                    <div className=\"font-bold text-gray-900 dark:text-white\">{stock.symbol}</div>\r\n                                    <div className=\"text-xs text-gray-500\">{stock.name || stock.symbol}</div>\r\n                                </td>\r\n                                <td className=\"px-4 py-3 font-mono text-gray-900 dark:text-white\">{stock.current_price.toFixed(2)}</td>\r\n                                {!simpleMode && (\r\n                                    <td className={cn(\"px-4 py-3 font-medium\",\r\n                                        stock.current_change_pct > 0 ? \"text-green-600 dark:text-green-500\" : stock.current_change_pct < 0 ? \"text-red-600 dark:text-red-500\" : \"text-gray-400\"\r\n                                    )}>\r\n                                        <div className=\"flex items-center gap-1\">\r\n                                            {stock.current_change_pct > 0 ? <ArrowUp className=\"w-3 h-3\" /> : stock.current_change_pct < 0 ? <ArrowDown className=\"w-3 h-3\" /> : <Minus className=\"w-3 h-3\" />}\r\n                                            {stock.current_change_pct.toFixed(2)}%\r\n                                        </div>\r\n                                    </td>\r\n                                )}\r\n                                {!simpleMode && (\r\n                                    <>\r\n                                        <td className={cn(\"px-4 py-3 text-xs\", stock.history.day_1_change_pct > 0 ? \"text-green-600 dark:text-green-500\" : \"text-red-600 dark:text-red-500\")}>\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                {stock.history.day_1_change_pct > 0 ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />}\r\n                                                {stock.history.day_1_change_pct.toFixed(2)}%\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className={cn(\"px-4 py-3 text-xs\", stock.history.day_2_change_pct > 0 ? \"text-green-600 dark:text-green-500\" : \"text-red-600 dark:text-red-500\")}>\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                {stock.history.day_2_change_pct > 0 ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />}\r\n                                                {stock.history.day_2_change_pct.toFixed(2)}%\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className={cn(\"px-4 py-3 text-xs\", stock.history.day_3_change_pct > 0 ? \"text-green-600 dark:text-green-500\" : \"text-red-600 dark:text-red-500\")}>\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                {stock.history.day_3_change_pct > 0 ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />}\r\n                                                {stock.history.day_3_change_pct.toFixed(2)}%\r\n                                            </div>\r\n                                        </td>\r\n                                    </>\r\n                                )}\r\n                                <td className={cn(\"px-4 py-3 font-medium\",\r\n                                    Math.abs(stock.history.avg_3_day_change_pct) < 0.01 ? \"text-blue-600 dark:text-blue-400\" :\r\n                                        stock.history.avg_3_day_change_pct > 0 ? \"text-green-600 dark:text-green-400\" : \"text-red-600 dark:text-red-400\"\r\n                                )}>\r\n                                    <div className=\"flex items-center gap-1\">\r\n                                        {stock.history.avg_3_day_change_pct > 0 ? <ArrowUp className=\"w-3 h-3\" /> : stock.history.avg_3_day_change_pct < 0 ? <ArrowDown className=\"w-3 h-3\" /> : <Minus className=\"w-3 h-3\" />}\r\n                                        {stock.history.avg_3_day_change_pct.toFixed(2)}%\r\n                                    </div>\r\n                                </td>\r\n                                {!simpleMode && (\r\n                                    <>\r\n                                        <td className=\"px-4 py-3\">\r\n                                            <div className=\"flex flex-col gap-1 text-xs\">\r\n                                                <span className={cn(\r\n                                                    stock.indicators.macd_status === \"above_zero\" ? \"text-green-600 dark:text-green-500\" :\r\n                                                        stock.indicators.macd_status === \"below_zero\" ? \"text-red-600 dark:text-red-500\" : \"text-gray-500 dark:text-gray-400\"\r\n                                                )}>\r\n                                                    MACD: {stock.indicators.macd_status.replace(\"_\", \" \")}\r\n                                                </span>\r\n                                                <span className={cn(\r\n                                                    stock.indicators.rsi_status === \"overbought\" ? \"text-red-600 dark:text-red-400\" :\r\n                                                        stock.indicators.rsi_status === \"oversold\" ? \"text-green-600 dark:text-green-400\" : \"text-gray-500 dark:text-gray-400\"\r\n                                                )}>\r\n                                                    RSI: {stock.indicators.rsi_status} ({stock.indicators.rsi_value?.toFixed(0)})\r\n                                                </span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3 text-xs text-gray-600 dark:text-gray-300\">\r\n                                            {stock.derived.macdLabel}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3 text-xs text-gray-600 dark:text-gray-300\">\r\n                                            {stock.derived.rsiLabel}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3\">\r\n                                            <div className=\"w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden flex\">\r\n                                                <div className=\"bg-green-500 h-full\" style={{ width: `${stock.indicators.buyer_strength_score}%` }} />\r\n                                                <div className=\"bg-red-500 h-full\" style={{ width: `${stock.indicators.seller_strength_score}%` }} />\r\n                                            </div>\r\n                                            <div className=\"text-xs mt-1 text-gray-500 dark:text-gray-400 capitalize\">{stock.indicators.strength_label}</div>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3 text-xs\">\r\n                                            <span className={cn(\r\n                                                stock.derived.strength3D === \"Strong Buyers\" ? \"text-green-600 dark:text-green-500\" :\r\n                                                    stock.derived.strength3D === \"Strong Sellers\" ? \"text-red-600 dark:text-red-500\" : \"text-gray-500 dark:text-gray-400\"\r\n                                            )}>\r\n                                                {stock.derived.strength3D}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3 text-right\">\r\n                                            <button\r\n                                                className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-400 hover:text-yellow-500\"\r\n                                                onClick={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    handleToggleWatchlist(stock.symbol);\r\n                                                }}\r\n                                            >\r\n                                                <Star className={cn(\"w-4 h-4\", isInWatchlist(stock.symbol) ? \"fill-yellow-500 text-yellow-500\" : \"\")} />\r\n                                            </button>\r\n                                        </td>\r\n                                    </>\r\n                                )}\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            {!simpleMode && processedStocks.length > displayCount && (\r\n                <div className=\"mt-4 flex justify-center\">\r\n                    <button\r\n                        onClick={handleLoadMore}\r\n                        className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full text-sm font-medium transition-colors\"\r\n                    >\r\n                        Load More Stocks\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1844, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/app/watchlist/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport StocksTable from \"@/components/StocksTable\";\r\nimport { useWatchlist } from \"@/hooks/useStocks\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function WatchlistPage() {\r\n    const { data: stocks, isLoading } = useWatchlist();\r\n    const [sortConfig, setSortConfig] = useState<{ key: string; direction: \"asc\" | \"desc\" }>({ key: \"avg_3_day_change_pct\", direction: \"desc\" });\r\n\r\n    const handleSort = (key: string) => {\r\n        setSortConfig((current) => ({\r\n            key,\r\n            direction: current.key === key && current.direction === \"desc\" ? \"asc\" : \"desc\",\r\n        }));\r\n    };\r\n\r\n    // Client-side sorting for watchlist (since API returns list)\r\n    const sortedStocks = [...(stocks || [])].sort((a, b) => {\r\n        const aValue = (a as any)[sortConfig.key] || (a.history as any)[sortConfig.key] || 0;\r\n        const bValue = (b as any)[sortConfig.key] || (b.history as any)[sortConfig.key] || 0;\r\n\r\n        if (aValue < bValue) return sortConfig.direction === \"asc\" ? -1 : 1;\r\n        if (aValue > bValue) return sortConfig.direction === \"asc\" ? 1 : -1;\r\n        return 0;\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"mb-6 flex items-center justify-between\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold text-white\">My Watchlist</h1>\r\n                    <p className=\"text-gray-400\">Track your favorite stocks</p>\r\n                </div>\r\n                <button\r\n                    onClick={() => setSortConfig({ key: \"avg_3_day_change_pct\", direction: \"desc\" })}\r\n                    className=\"px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 border border-red-500/20 rounded hover:bg-red-500/20 transition-colors\"\r\n                >\r\n                    Reset Sort\r\n                </button>\r\n            </div>\r\n\r\n            {stocks?.length === 0 && !isLoading ? (\r\n                <div className=\"text-center py-20 text-gray-500\">\r\n                    Your watchlist is empty. Add stocks from the dashboard.\r\n                </div>\r\n            ) : (\r\n                <StocksTable\r\n                    stocks={sortedStocks}\r\n                    isLoading={isLoading}\r\n                    onSort={handleSort}\r\n                    sortConfig={sortConfig}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACpB,MAAM,EAAE,MAAM,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,yIAAY;IAChD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAA6C;QAAE,KAAK;QAAwB,WAAW;IAAO;IAE1I,MAAM,aAAa,CAAC;QAChB,cAAc,CAAC,UAAY,CAAC;gBACxB;gBACA,WAAW,QAAQ,GAAG,KAAK,OAAO,QAAQ,SAAS,KAAK,SAAS,QAAQ;YAC7E,CAAC;IACL;IAEA,6DAA6D;IAC7D,MAAM,eAAe;WAAK,UAAU,EAAE;KAAE,CAAC,IAAI,CAAC,CAAC,GAAG;QAC9C,MAAM,SAAS,AAAC,CAAS,CAAC,WAAW,GAAG,CAAC,IAAI,AAAC,EAAE,OAAO,AAAQ,CAAC,WAAW,GAAG,CAAC,IAAI;QACnF,MAAM,SAAS,AAAC,CAAS,CAAC,WAAW,GAAG,CAAC,IAAI,AAAC,EAAE,OAAO,AAAQ,CAAC,WAAW,GAAG,CAAC,IAAI;QAEnF,IAAI,SAAS,QAAQ,OAAO,WAAW,SAAS,KAAK,QAAQ,CAAC,IAAI;QAClE,IAAI,SAAS,QAAQ,OAAO,WAAW,SAAS,KAAK,QAAQ,IAAI,CAAC;QAClE,OAAO;IACX;IAEA,qBACI,8OAAC;;0BACG,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;;0CACG,8OAAC;gCAAG,WAAU;0CAAgC;;;;;;0CAC9C,8OAAC;gCAAE,WAAU;0CAAgB;;;;;;;;;;;;kCAEjC,8OAAC;wBACG,SAAS,IAAM,cAAc;gCAAE,KAAK;gCAAwB,WAAW;4BAAO;wBAC9E,WAAU;kCACb;;;;;;;;;;;;YAKJ,QAAQ,WAAW,KAAK,CAAC,0BACtB,8OAAC;gBAAI,WAAU;0BAAkC;;;;;qCAIjD,8OAAC,4IAAW;gBACR,QAAQ;gBACR,WAAW;gBACX,QAAQ;gBACR,YAAY;;;;;;;;;;;;AAKhC"}}]
}