{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/hooks/useStocks.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport axios from \"axios\";\r\n\r\n// Types\r\nexport interface ChartDataPoint {\r\n    date: string;\r\n    open: number;\r\n    high: number;\r\n    low: number;\r\n    close: number;\r\n    volume: number;\r\n    macd?: number;\r\n    signal?: number;\r\n    hist?: number;\r\n    rsi?: number;\r\n    ema_20?: number;\r\n    ema_50?: number;\r\n}\r\n\r\nexport interface Stock {\r\n    symbol: string;\r\n    name?: string;\r\n    sector?: string;\r\n    current_price: number;\r\n    previous_close: number;\r\n    current_change_abs: number;\r\n    current_change_pct: number;\r\n    day_high: number;\r\n    day_low: number;\r\n    volume: number;\r\n    market_cap?: number;\r\n    last_updated: string;\r\n    rank: number;\r\n    history: {\r\n        day_1_change_pct: number;\r\n        day_2_change_pct: number;\r\n        day_3_change_pct: number;\r\n        avg_3_day_change_pct: number;\r\n        volatility_3_day: number;\r\n    };\r\n    indicators: {\r\n        macd_line?: number;\r\n        signal_line?: number;\r\n        macd_histogram?: number;\r\n        macd_status: string; // above_zero, below_zero, near_zero\r\n        rsi_value?: number;\r\n        rsi_status: string; // overbought, oversold, neutral\r\n        sma_20?: number;\r\n        sma_50?: number;\r\n        ema_20?: number;\r\n        ema_50?: number;\r\n        trend: string;\r\n        buyer_strength_score: number;\r\n        seller_strength_score: number;\r\n        strength_label: string; // buyers, sellers, balanced\r\n    };\r\n    flags: {\r\n        is_constant_price: boolean;\r\n        is_gainer_today: boolean;\r\n        is_loser_today: boolean;\r\n        is_high_volume: boolean;\r\n        is_breakout_candidate: boolean;\r\n    };\r\n    chart_data?: ChartDataPoint[];\r\n}\r\n\r\nexport interface StockStrength extends Stock {\r\n    current_strength: string;\r\n    day_1_strength: string;\r\n    day_2_strength: string;\r\n    day_3_strength: string;\r\n    avg_3_day_strength: string;\r\n}\r\n\r\nconst API_URL = \"http://localhost:8000/api/v1\";\r\n\r\nexport function useStocks(filters: any) {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"fno\", filters],\r\n        queryFn: async () => {\r\n            const params = new URLSearchParams();\r\n            Object.entries(filters).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null && value !== \"\") {\r\n                    params.append(key, String(value));\r\n                }\r\n            });\r\n\r\n            const url = `${API_URL}/stocks/fno`;\r\n            const { data } = await axios.get<Stock[]>(url, { params });\r\n            return data;\r\n        },\r\n        refetchInterval: 15000, // 15 seconds to reduce load\r\n        staleTime: 10000, // Consider data fresh for 10 seconds\r\n    });\r\n}\r\n\r\nexport function useStockDetail(symbol: string | null) {\r\n    return useQuery({\r\n        queryKey: [\"stock\", symbol],\r\n        queryFn: async () => {\r\n            if (!symbol) return null;\r\n            const { data } = await axios.get<Stock>(`${API_URL}/stocks/${symbol}`);\r\n            return data;\r\n        },\r\n        enabled: !!symbol,\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useWatchlist() {\r\n    return useQuery({\r\n        queryKey: [\"watchlist\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/watchlist`);\r\n            return data;\r\n        },\r\n        refetchInterval: 5000,\r\n    });\r\n}\r\n\r\nexport function useToggleWatchlist() {\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async ({ symbol, action }: { symbol: string; action: \"add\" | \"remove\" }) => {\r\n            const { data } = await axios.post(`${API_URL}/watchlist/`, { symbol, action });\r\n            return data;\r\n        },\r\n        onSuccess: () => {\r\n            queryClient.invalidateQueries({ queryKey: [\"watchlist\"] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useGainers3Day() {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"gainers-3day\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/stocks/gainers-3day`);\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useLosers3Day() {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"losers-3day\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/stocks/losers-3day`);\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useStrengthAnalysis(filters: any) {\r\n    return useQuery({\r\n        queryKey: [\"strength-analysis\", filters],\r\n        queryFn: async () => {\r\n            const params = new URLSearchParams();\r\n            Object.entries(filters).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null && value !== \"\") {\r\n                    params.append(key, String(value));\r\n                }\r\n            });\r\n            const { data } = await axios.get<StockStrength[]>(`${API_URL}/stocks/strength-analyzer`, { params });\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AACA;;;AAyEA,MAAM,UAAU;AAET,SAAS,UAAU,OAAY;IAClC,OAAO,IAAA,uLAAQ,EAAC;QACZ,UAAU;YAAC;YAAU;YAAO;SAAQ;QACpC,SAAS;YACL,MAAM,SAAS,IAAI;YACnB,OAAO,OAAO,CAAC,SAAS,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM;gBACzC,IAAI,UAAU,aAAa,UAAU,QAAQ,UAAU,IAAI;oBACvD,OAAO,MAAM,CAAC,KAAK,OAAO;gBAC9B;YACJ;YAEA,MAAM,MAAM,GAAG,QAAQ,WAAW,CAAC;YACnC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAU,KAAK;gBAAE;YAAO;YACxD,OAAO;QACX;QACA,iBAAiB;QACjB,WAAW;IACf;AACJ;AAEO,SAAS,eAAe,MAAqB;IAChD,OAAO,IAAA,uLAAQ,EAAC;QACZ,UAAU;YAAC;YAAS;SAAO;QAC3B,SAAS;YACL,IAAI,CAAC,QAAQ,OAAO;YACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAQ,GAAG,QAAQ,QAAQ,EAAE,QAAQ;YACrE,OAAO;QACX;QACA,SAAS,CAAC,CAAC;QACX,iBAAiB;IACrB;AACJ;AAEO,SAAS;IACZ,OAAO,IAAA,uLAAQ,EAAC;QACZ,UAAU;YAAC;SAAY;QACvB,SAAS;YACL,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAU,GAAG,QAAQ,UAAU,CAAC;YAChE,OAAO;QACX;QACA,iBAAiB;IACrB;AACJ;AAEO,SAAS;IACZ,MAAM,cAAc,IAAA,wMAAc;IAElC,OAAO,IAAA,6LAAW,EAAC;QACf,YAAY,OAAO,EAAE,MAAM,EAAE,MAAM,EAAgD;YAC/E,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,WAAW,CAAC,EAAE;gBAAE;gBAAQ;YAAO;YAC5E,OAAO;QACX;QACA,WAAW;YACP,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAY;YAAC;QAC5D;IACJ;AACJ;AAEO,SAAS;IACZ,OAAO,IAAA,uLAAQ,EAAC;QACZ,UAAU;YAAC;YAAU;SAAe;QACpC,SAAS;YACL,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAU,GAAG,QAAQ,oBAAoB,CAAC;YAC1E,OAAO;QACX;QACA,iBAAiB;IACrB;AACJ;AAEO,SAAS;IACZ,OAAO,IAAA,uLAAQ,EAAC;QACZ,UAAU;YAAC;YAAU;SAAc;QACnC,SAAS;YACL,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAU,GAAG,QAAQ,mBAAmB,CAAC;YACzE,OAAO;QACX;QACA,iBAAiB;IACrB;AACJ;AAEO,SAAS,oBAAoB,OAAY;IAC5C,OAAO,IAAA,uLAAQ,EAAC;QACZ,UAAU;YAAC;YAAqB;SAAQ;QACxC,SAAS;YACL,MAAM,SAAS,IAAI;YACnB,OAAO,OAAO,CAAC,SAAS,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM;gBACzC,IAAI,UAAU,aAAa,UAAU,QAAQ,UAAU,IAAI;oBACvD,OAAO,MAAM,CAAC,KAAK,OAAO;gBAC9B;YACJ;YACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,gJAAK,CAAC,GAAG,CAAkB,GAAG,QAAQ,yBAAyB,CAAC,EAAE;gBAAE;YAAO;YAClG,OAAO;QACX;QACA,iBAAiB;IACrB;AACJ"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/StrengthTable.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/StrengthTable.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/StrengthTable.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","ignoreList":[0]}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/StrengthTable.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/StrengthTable.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/StrengthTable.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA","ignoreList":[0]}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/FilterDrawer.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/FilterDrawer.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/FilterDrawer.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAmS,GAChU,iEACA","ignoreList":[0]}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/FilterDrawer.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/FilterDrawer.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/FilterDrawer.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA+Q,GAC5S,6CACA","ignoreList":[0]}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/QuickFiltersToolbar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/QuickFiltersToolbar.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/QuickFiltersToolbar.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0S,GACvU,wEACA","ignoreList":[0]}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/QuickFiltersToolbar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/QuickFiltersToolbar.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/QuickFiltersToolbar.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsR,GACnT,oDACA","ignoreList":[0]}},
    {"offset": {"line": 334, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/utils/globalFilter.ts"],"sourcesContent":["import { Stock } from \"@/hooks/useStocks\";\r\n\r\nexport type FilterType = \"text\" | \"number\" | \"enum\";\r\n\r\nexport interface FilterState {\r\n    type: FilterType;\r\n    selectedValues?: string[]; // For text/enum\r\n    min?: number; // For number\r\n    max?: number; // For number\r\n}\r\n\r\nexport const globalFilter = (data: Stock[], filters: Record<string, any>): Stock[] => {\r\n    if (!data || !filters) return data || [];\r\n\r\n    // 1. Enrich data with derived fields for easier filtering (same logic as before)\r\n    const enriched = data.map(stock => {\r\n        // 3D Average Strength Logic\r\n        let strength3D = \"Neutral\";\r\n        if (stock.history.avg_3_day_change_pct > 0.5) strength3D = \"Strong Buyers\";\r\n        else if (stock.history.avg_3_day_change_pct < -0.5) strength3D = \"Strong Sellers\";\r\n\r\n        // Indicators Composite\r\n        const indicatorsList = [];\r\n        if (stock.indicators.macd_status === \"above_zero\") indicatorsList.push(\"MACD Above Zero (Bullish)\");\r\n        if (stock.indicators.macd_status === \"below_zero\") indicatorsList.push(\"MACD Below Zero (Bearish)\");\r\n        if (stock.indicators.macd_status === \"near_zero\") indicatorsList.push(\"MACD Near Zero (Neutral)\");\r\n\r\n        if (stock.indicators.rsi_status === \"overbought\") indicatorsList.push(\"RSI Overbought\");\r\n        if (stock.indicators.rsi_status === \"oversold\") indicatorsList.push(\"RSI Oversold\");\r\n        if (stock.indicators.rsi_status === \"neutral\") indicatorsList.push(\"RSI Neutral\");\r\n\r\n        return {\r\n            ...stock,\r\n            derived: {\r\n                strength3D,\r\n                indicatorsList,\r\n                macdLabel: stock.indicators.macd_status === \"above_zero\" ? \"Above Zero\" :\r\n                    stock.indicators.macd_status === \"below_zero\" ? \"Below Zero\" : \"Near Zero\",\r\n                rsiLabel: stock.indicators.rsi_status === \"overbought\" ? \"Overbought\" :\r\n                    stock.indicators.rsi_status === \"oversold\" ? \"Oversold\" : \"Neutral\",\r\n                strengthLabel: stock.indicators.strength_label === \"buyers\" ? \"Buyers Dominating\" :\r\n                    stock.indicators.strength_label === \"sellers\" ? \"Sellers Dominating\" : \"Balanced\"\r\n            }\r\n        };\r\n    });\r\n\r\n    // 2. Filter\r\n    return enriched.filter(stock => {\r\n        // Handle \"Quick Filters\" (boolean flags from FilterDrawer)\r\n        if (filters.search && !stock.symbol.toLowerCase().includes(filters.search.toLowerCase()) && !stock.name?.toLowerCase().includes(filters.search.toLowerCase())) return false;\r\n        if (filters.sector && stock.sector !== filters.sector) return false;\r\n\r\n        if (filters.min_price && stock.current_price < Number(filters.min_price)) return false;\r\n        if (filters.max_price && stock.current_price > Number(filters.max_price)) return false;\r\n\r\n        if (filters.min_avg_3day_pct && stock.history.avg_3_day_change_pct < Number(filters.min_avg_3day_pct)) return false;\r\n        if (filters.max_avg_3day_pct && stock.history.avg_3_day_change_pct > Number(filters.max_avg_3day_pct)) return false;\r\n\r\n        if (filters.constant_only && !stock.flags.is_constant_price) return false;\r\n        if (filters.gainers_only && stock.current_change_pct <= 0) return false;\r\n        if (filters.losers_only && stock.current_change_pct >= 0) return false;\r\n        if (filters.high_volume_only && !stock.flags.is_high_volume) return false;\r\n\r\n        if (filters.macd_status && stock.indicators.macd_status !== filters.macd_status) return false;\r\n        if (filters.rsi_zone && stock.indicators.rsi_status !== filters.rsi_zone) return false;\r\n        if (filters.strength && stock.indicators.strength_label !== filters.strength) return false;\r\n\r\n        // Handle Column-Specific AutoFilters (from Table Headers)\r\n        // These keys usually come from the table's local state, but if we want to support them globally,\r\n        // we need to check if they exist in the 'filters' object passed in.\r\n        // For now, the 'filters' object passed here is mostly from the Drawer/QuickChips.\r\n        // The Table component combines these with its own column filters.\r\n\r\n        return true;\r\n    });\r\n};\r\n\r\n// Helper for Column Filters (used inside Table)\r\nexport const applyColumnFilters = (data: any[], columnFilters: Record<string, FilterState>) => {\r\n    return data.filter(item => {\r\n        return Object.entries(columnFilters).every(([key, filter]) => {\r\n            let value: any;\r\n\r\n            // Map keys to values (using dot notation support)\r\n            value = key.split('.').reduce((o, i) => o?.[i], item);\r\n\r\n            if (filter.type === \"number\") {\r\n                if (typeof value !== \"number\") return false;\r\n                if (filter.min !== undefined && value < filter.min) return false;\r\n                if (filter.max !== undefined && value > filter.max) return false;\r\n                return true;\r\n            } else {\r\n                // Text/Enum\r\n                if (!filter.selectedValues || filter.selectedValues.length === 0) return true;\r\n\r\n                if (Array.isArray(value)) {\r\n                    return value.some(v => filter.selectedValues?.includes(v));\r\n                }\r\n\r\n                return filter.selectedValues.includes(String(value));\r\n            }\r\n        });\r\n    });\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 425, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/app/strength-analyzer/page.tsx"],"sourcesContent":["import { useState, useMemo, useEffect } from \"react\";\r\nimport { useStrengthAnalysis, StockStrength } from \"@/hooks/useStocks\";\r\nimport StrengthTable from \"@/components/StrengthTable\";\r\nimport { Filter, RefreshCcw, Search, X } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useFilter } from \"@/context/FilterContext\";\r\nimport FilterDrawer from \"@/components/FilterDrawer\";\r\nimport QuickFiltersToolbar from \"@/components/QuickFiltersToolbar\";\r\nimport { globalFilter } from \"@/utils/globalFilter\";\r\n\r\nexport default function StrengthAnalyzerPage() {\r\n    // Local state for API params (if any specific API filters are needed)\r\n    // For now, we fetch all and filter client-side for consistency with other pages\r\n    const { data: stocks, isLoading, refetch } = useStrengthAnalysis({});\r\n\r\n    const [search, setSearch] = useState(\"\");\r\n    const [filters, setFilters] = useState<any>({});\r\n    const { isDrawerOpen, closeDrawer, setFilterCount } = useFilter();\r\n\r\n    // Sync filter count to context\r\n    useEffect(() => {\r\n        const count = Object.keys(filters).length;\r\n        setFilterCount(count);\r\n    }, [filters, setFilterCount]);\r\n\r\n    const handleReset = () => {\r\n        setFilters({});\r\n        setSearch(\"\");\r\n    };\r\n\r\n    // Apply Global Filter + Search\r\n    const filteredStocks = useMemo(() => {\r\n        let result = stocks || [];\r\n\r\n        // 1. Search\r\n        if (search) {\r\n            const q = search.toLowerCase();\r\n            result = result.filter(s =>\r\n                s.symbol.toLowerCase().includes(q) ||\r\n                s.name?.toLowerCase().includes(q)\r\n            );\r\n        }\r\n\r\n        // 2. Filters\r\n        // Cast as StockStrength[] because globalFilter returns Stock[] but preserves properties\r\n        return globalFilter(result, filters) as StockStrength[];\r\n    }, [stocks, search, filters]);\r\n\r\n    return (\r\n        <div className=\"min-h-screen w-full bg-gray-100 dark:bg-slate-900 text-gray-900 dark:text-gray-100 p-4 md:p-6\">\r\n            <FilterDrawer\r\n                isOpen={isDrawerOpen}\r\n                onClose={closeDrawer}\r\n                filters={filters}\r\n                setFilters={setFilters}\r\n                onReset={handleReset}\r\n            />\r\n\r\n            <div className=\"max-w-[1600px] mx-auto space-y-6\">\r\n\r\n                {/* Header Section */}\r\n                <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\r\n                    <div>\r\n                        <h1 className=\"text-3xl font-semibold text-gray-900 dark:text-gray-100\">\r\n                            Strength Analyzer\r\n                        </h1>\r\n                        <p className=\"text-gray-500 dark:text-gray-400 mt-1\">\r\n                            Deep dive into stock strength trends and momentum indicators ({filteredStocks.length})\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-3 w-full md:w-auto\">\r\n                        <div className=\"relative flex-1 md:w-64\">\r\n                            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search symbol...\"\r\n                                className=\"w-full pl-9 pr-4 py-2 rounded-lg border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-shadow\"\r\n                                value={search}\r\n                                onChange={(e) => setSearch(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        {Object.keys(filters).length > 0 && (\r\n                            <button\r\n                                onClick={handleReset}\r\n                                className=\"px-3 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors flex items-center gap-2 whitespace-nowrap\"\r\n                            >\r\n                                <X className=\"w-4 h-4\" /> Clear\r\n                            </button>\r\n                        )}\r\n\r\n                        <button\r\n                            onClick={() => refetch()}\r\n                            className=\"p-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors text-gray-600 dark:text-gray-300\"\r\n                            title=\"Refresh Data\"\r\n                        >\r\n                            <RefreshCcw className=\"w-5 h-5\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Main Content Card */}\r\n                <div className=\"bg-card text-card-foreground rounded-3xl shadow-sm dark:shadow-md border border-border overflow-hidden\">\r\n                    <QuickFiltersToolbar\r\n                        filters={filters}\r\n                        setFilters={setFilters}\r\n                        onReset={handleReset}\r\n                    />\r\n                    <div className=\"p-6 pt-0\">\r\n                        <StrengthTable stocks={filteredStocks} isLoading={isLoading} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;;;;;;;;;;AAEe,SAAS;IACpB,sEAAsE;IACtE,gFAAgF;IAChF,MAAM,EAAE,MAAM,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,IAAA,gJAAmB,EAAC,CAAC;IAElE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAM,CAAC;IAC7C,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG,IAAA,6IAAS;IAE/D,+BAA+B;IAC/B,IAAA,kNAAS,EAAC;QACN,MAAM,QAAQ,OAAO,IAAI,CAAC,SAAS,MAAM;QACzC,eAAe;IACnB,GAAG;QAAC;QAAS;KAAe;IAE5B,MAAM,cAAc;QAChB,WAAW,CAAC;QACZ,UAAU;IACd;IAEA,+BAA+B;IAC/B,MAAM,iBAAiB,IAAA,gNAAO,EAAC;QAC3B,IAAI,SAAS,UAAU,EAAE;QAEzB,YAAY;QACZ,IAAI,QAAQ;YACR,MAAM,IAAI,OAAO,WAAW;YAC5B,SAAS,OAAO,MAAM,CAAC,CAAA,IACnB,EAAE,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC,MAChC,EAAE,IAAI,EAAE,cAAc,SAAS;QAEvC;QAEA,aAAa;QACb,wFAAwF;QACxF,OAAO,IAAA,4IAAY,EAAC,QAAQ;IAChC,GAAG;QAAC;QAAQ;QAAQ;KAAQ;IAE5B,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC,6IAAY;gBACT,QAAQ;gBACR,SAAS;gBACT,SAAS;gBACT,YAAY;gBACZ,SAAS;;;;;;0BAGb,8OAAC;gBAAI,WAAU;;kCAGX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;;kDACG,8OAAC;wCAAG,WAAU;kDAA0D;;;;;;kDAGxE,8OAAC;wCAAE,WAAU;;4CAAwC;4CACc,eAAe,MAAM;4CAAC;;;;;;;;;;;;;0CAI7F,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;;0DACX,8OAAC,gNAAM;gDAAC,WAAU;;;;;;0DAClB,8OAAC;gDACG,MAAK;gDACL,aAAY;gDACZ,WAAU;gDACV,OAAO;gDACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;oCAIhD,OAAO,IAAI,CAAC,SAAS,MAAM,GAAG,mBAC3B,8OAAC;wCACG,SAAS;wCACT,WAAU;;0DAEV,8OAAC,iMAAC;gDAAC,WAAU;;;;;;4CAAY;;;;;;;kDAIjC,8OAAC;wCACG,SAAS,IAAM;wCACf,WAAU;wCACV,OAAM;kDAEN,cAAA,8OAAC,gOAAU;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;kCAMlC,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,oJAAmB;gCAChB,SAAS;gCACT,YAAY;gCACZ,SAAS;;;;;;0CAEb,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,8IAAa;oCAAC,QAAQ;oCAAgB,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM1E"}}]
}