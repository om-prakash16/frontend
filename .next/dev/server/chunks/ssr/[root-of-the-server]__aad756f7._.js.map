{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/hooks/useStocks.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport axios from \"axios\";\r\n\r\n// Types\r\nexport interface ChartDataPoint {\r\n    date: string;\r\n    open: number;\r\n    high: number;\r\n    low: number;\r\n    close: number;\r\n    volume: number;\r\n    macd?: number;\r\n    signal?: number;\r\n    hist?: number;\r\n    rsi?: number;\r\n}\r\n\r\nexport interface Stock {\r\n    symbol: string;\r\n    name: string;\r\n    sector: string;\r\n    current_price: number;\r\n    previous_close: number;\r\n    current_change_abs: number;\r\n    current_change: number;\r\n    day_high: number;\r\n    day_low: number;\r\n    volume: number;\r\n    market_cap?: number;\r\n    last_updated: string;\r\n    rank: number;\r\n\r\n    history: {\r\n        p_day1: number;\r\n        p_day2: number;\r\n        p_day3: number;\r\n        avg_3day: number;\r\n        volatility_3_day: number;\r\n    };\r\n\r\n    indicators: {\r\n        macd_line?: number;\r\n        signal_line?: number;\r\n        macd_histogram?: number;\r\n        macd_status: \"above\" | \"below\" | \"neutral\";\r\n        rsi_value?: number;\r\n        rsi_zone: \"overbought\" | \"oversold\" | \"neutral\";\r\n        trend: string;\r\n        buyer_strength_score: number;\r\n        seller_strength_score: number;\r\n        strength_label: string;\r\n    };\r\n\r\n    flags: {\r\n        is_constant_price: boolean;\r\n        is_gainer_today: boolean;\r\n        is_loser_today: boolean;\r\n        is_high_volume: boolean;\r\n        is_breakout_candidate: boolean;\r\n    };\r\n\r\n    // Strength Fields\r\n    current_strength: string;\r\n    day1_strength: string;\r\n    day2_strength: string;\r\n    day3_strength: string;\r\n    avg_3day_strength: string;\r\n\r\n    derived: any; // For frontend calculated fields\r\n}\r\n\r\nexport interface StockStrength extends Stock { }\r\n\r\nconst API_URL = \"http://localhost:8000/api/v1\";\r\n\r\nexport function useStocks(filters: any) {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"fno\", filters],\r\n        queryFn: async () => {\r\n            const params = new URLSearchParams();\r\n            Object.entries(filters).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null && value !== \"\") {\r\n                    params.append(key, String(value));\r\n                }\r\n            });\r\n\r\n            const url = `${API_URL}/stocks/fno`;\r\n            const { data } = await axios.get<Stock[]>(url, { params });\r\n            return data;\r\n        },\r\n        refetchInterval: 3000, // 3 seconds for faster updates during incremental load\r\n        staleTime: 10000, // Consider data fresh for 10 seconds\r\n    });\r\n}\r\n\r\nexport function useStockDetail(symbol: string | null) {\r\n    return useQuery({\r\n        queryKey: [\"stock\", symbol],\r\n        queryFn: async () => {\r\n            if (!symbol) return null;\r\n            const { data } = await axios.get<Stock>(`${API_URL}/stocks/${symbol}`);\r\n            return data;\r\n        },\r\n        enabled: !!symbol,\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useWatchlist() {\r\n    return useQuery({\r\n        queryKey: [\"watchlist\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/watchlist`);\r\n            return data;\r\n        },\r\n        refetchInterval: 5000,\r\n    });\r\n}\r\n\r\nexport function useToggleWatchlist() {\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async ({ symbol, action }: { symbol: string; action: \"add\" | \"remove\" }) => {\r\n            const { data } = await axios.post(`${API_URL}/watchlist/`, { symbol, action });\r\n            return data;\r\n        },\r\n        onSuccess: () => {\r\n            queryClient.invalidateQueries({ queryKey: [\"watchlist\"] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useGainers3Day() {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"gainers-3day\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/stocks/gainers-3day`);\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useLosers3Day() {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"losers-3day\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/stocks/losers-3day`);\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useStrengthAnalysis(filters: any) {\r\n    return useQuery({\r\n        queryKey: [\"strength-analysis\", filters],\r\n        queryFn: async () => {\r\n            const params = new URLSearchParams();\r\n            Object.entries(filters).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null && value !== \"\") {\r\n                    params.append(key, String(value));\r\n                }\r\n            });\r\n            const { data } = await axios.get<StockStrength[]>(`${API_URL}/stocks/strength-analyzer`, { params });\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useGrowwStrength(filters: any) {\r\n    return useQuery({\r\n        queryKey: [\"groww-strength\", filters],\r\n        queryFn: async () => {\r\n            const params = new URLSearchParams();\r\n            Object.entries(filters).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null && value !== \"\") {\r\n                    params.append(key, String(value));\r\n                }\r\n            });\r\n            const { data } = await axios.get<StockStrength[]>(`${API_URL}/groww/strength`, { params });\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/AutoFilter.tsx"],"sourcesContent":["import { useState, useMemo } from \"react\";\r\nimport { ArrowDown, ArrowUp, Check, Filter, Search, X } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport type FilterType = \"text\" | \"number\" | \"enum\";\r\n\r\nexport interface FilterState {\r\n    type: FilterType;\r\n    selectedValues?: string[]; // For text/enum\r\n    min?: number; // For number\r\n    max?: number; // For number\r\n}\r\n\r\ninterface AutoFilterProps {\r\n    columnKey: string;\r\n    type: FilterType;\r\n    options?: string[]; // Unique values for text/enum\r\n    onFilter: (state: FilterState | null) => void;\r\n    currentFilter: FilterState | null;\r\n    onSort: (direction: \"asc\" | \"desc\") => void;\r\n    sortDirection: \"asc\" | \"desc\" | null;\r\n    title: string;\r\n}\r\n\r\nexport default function AutoFilter({\r\n    columnKey,\r\n    type,\r\n    options = [],\r\n    onFilter,\r\n    currentFilter,\r\n    onSort,\r\n    sortDirection,\r\n    title,\r\n}: AutoFilterProps) {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [search, setSearch] = useState(\"\");\r\n\r\n    // Local state for filter inputs\r\n    const [localSelected, setLocalSelected] = useState<string[]>(\r\n        currentFilter?.selectedValues || options\r\n    );\r\n    const [localMin, setLocalMin] = useState<string>(\r\n        currentFilter?.min?.toString() || \"\"\r\n    );\r\n    const [localMax, setLocalMax] = useState<string>(\r\n        currentFilter?.max?.toString() || \"\"\r\n    );\r\n\r\n    const filteredOptions = useMemo(() => {\r\n        if (!search) return options;\r\n        return options.filter((opt) =>\r\n            opt.toLowerCase().includes(search.toLowerCase())\r\n        );\r\n    }, [options, search]);\r\n\r\n    const handleApply = () => {\r\n        if (type === \"number\") {\r\n            const min = localMin ? parseFloat(localMin) : undefined;\r\n            const max = localMax ? parseFloat(localMax) : undefined;\r\n            if (min === undefined && max === undefined) {\r\n                onFilter(null);\r\n            } else {\r\n                onFilter({ type, min, max });\r\n            }\r\n        } else {\r\n            if (localSelected.length === options.length) {\r\n                onFilter(null); // All selected = no filter\r\n            } else {\r\n                onFilter({ type, selectedValues: localSelected });\r\n            }\r\n        }\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const handleClear = () => {\r\n        setLocalSelected(options);\r\n        setLocalMin(\"\");\r\n        setLocalMax(\"\");\r\n        onFilter(null);\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const toggleOption = (opt: string) => {\r\n        setLocalSelected((prev) =>\r\n            prev.includes(opt)\r\n                ? prev.filter((p) => p !== opt)\r\n                : [...prev, opt]\r\n        );\r\n    };\r\n\r\n    const toggleAll = () => {\r\n        if (localSelected.length === filteredOptions.length) {\r\n            setLocalSelected([]);\r\n        } else {\r\n            setLocalSelected(filteredOptions);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative inline-block\">\r\n            <button\r\n                onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setIsOpen(!isOpen);\r\n                }}\r\n                className={cn(\r\n                    \"p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors\",\r\n                    currentFilter || sortDirection ? \"text-blue-600 dark:text-blue-400\" : \"text-gray-400 dark:text-gray-500\"\r\n                )}\r\n                title={`Filter ${title}`}\r\n            >\r\n                <Filter className=\"w-3 h-3\" />\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <>\r\n                    <div\r\n                        className=\"fixed inset-0 z-40\"\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            setIsOpen(false);\r\n                        }}\r\n                    />\r\n                    <div\r\n                        className=\"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-xl z-50 flex flex-col max-h-[400px]\"\r\n                        onClick={(e) => e.stopPropagation()}\r\n                    >\r\n                        {/* Header */}\r\n                        <div className=\"p-3 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between\">\r\n                            <span className=\"font-medium text-gray-900 dark:text-white text-sm\">Filter: {title}</span>\r\n                            <button onClick={() => setIsOpen(false)}>\r\n                                <X className=\"w-4 h-4 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white\" />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Sorting */}\r\n                        <div className=\"p-2 border-b border-gray-200 dark:border-slate-700 flex gap-2\">\r\n                            <button\r\n                                onClick={() => {\r\n                                    onSort(\"asc\");\r\n                                    setIsOpen(false);\r\n                                }}\r\n                                className={cn(\r\n                                    \"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs font-medium transition-colors\",\r\n                                    sortDirection === \"asc\"\r\n                                        ? \"bg-blue-600 text-white\"\r\n                                        : \"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600\"\r\n                                )}\r\n                            >\r\n                                <ArrowUp className=\"w-3 h-3\" /> Asc\r\n                            </button>\r\n                            <button\r\n                                onClick={() => {\r\n                                    onSort(\"desc\");\r\n                                    setIsOpen(false);\r\n                                }}\r\n                                className={cn(\r\n                                    \"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs font-medium transition-colors\",\r\n                                    sortDirection === \"desc\"\r\n                                        ? \"bg-blue-600 text-white\"\r\n                                        : \"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600\"\r\n                                )}\r\n                            >\r\n                                <ArrowDown className=\"w-3 h-3\" /> Desc\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Filter Content */}\r\n                        <div className=\"p-3 flex-1 overflow-y-auto min-h-0\">\r\n                            {type === \"number\" ? (\r\n                                <div className=\"space-y-3\">\r\n                                    <div>\r\n                                        <label className=\"block text-xs text-gray-500 dark:text-gray-400 mb-1\">Min Value</label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            value={localMin}\r\n                                            onChange={(e) => setLocalMin(e.target.value)}\r\n                                            className=\"w-full bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-sm text-gray-900 dark:text-white focus:border-blue-500 outline-none\"\r\n                                            placeholder=\"Min\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-xs text-gray-500 dark:text-gray-400 mb-1\">Max Value</label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            value={localMax}\r\n                                            onChange={(e) => setLocalMax(e.target.value)}\r\n                                            className=\"w-full bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-sm text-gray-900 dark:text-white focus:border-blue-500 outline-none\"\r\n                                            placeholder=\"Max\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"flex flex-col h-full\">\r\n                                    <div className=\"relative mb-2\">\r\n                                        <Search className=\"w-3 h-3 absolute left-2 top-2 text-gray-500\" />\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={search}\r\n                                            onChange={(e) => setSearch(e.target.value)}\r\n                                            className=\"w-full bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded pl-7 pr-2 py-1 text-xs text-gray-900 dark:text-white focus:border-blue-500 outline-none\"\r\n                                            placeholder=\"Search...\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-2 mb-2 pb-2 border-b border-gray-200 dark:border-slate-700\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={localSelected.length === filteredOptions.length && filteredOptions.length > 0}\r\n                                            onChange={toggleAll}\r\n                                            className=\"rounded bg-gray-200 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-blue-600 focus:ring-0\"\r\n                                        />\r\n                                        <span className=\"text-xs text-gray-600 dark:text-gray-300\">(Select All)</span>\r\n                                    </div>\r\n                                    <div className=\"space-y-1 overflow-y-auto max-h-[200px]\">\r\n                                        {filteredOptions.map((opt) => (\r\n                                            <label key={opt} className=\"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-slate-700/50 p-1 rounded\">\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    checked={localSelected.includes(opt)}\r\n                                                    onChange={() => toggleOption(opt)}\r\n                                                    className=\"rounded bg-gray-200 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-blue-600 focus:ring-0\"\r\n                                                />\r\n                                                <span className=\"text-xs text-gray-700 dark:text-gray-300 break-all\">{opt}</span>\r\n                                            </label>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Actions */}\r\n                        <div className=\"p-3 border-t border-gray-200 dark:border-slate-700 flex justify-between gap-2\">\r\n                            <button\r\n                                onClick={handleClear}\r\n                                className=\"px-3 py-1.5 text-xs font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\"\r\n                            >\r\n                                Clear\r\n                            </button>\r\n                            <button\r\n                                onClick={handleApply}\r\n                                className=\"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium transition-colors\"\r\n                            >\r\n                                Apply\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 666, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/utils/globalFilter.ts"],"sourcesContent":["import { Stock } from \"@/hooks/useStocks\";\r\n\r\nexport type FilterType = \"text\" | \"number\" | \"enum\";\r\n\r\nexport interface FilterState {\r\n    type: FilterType;\r\n    selectedValues?: string[]; // For text/enum\r\n    min?: number; // For number\r\n    max?: number; // For number\r\n}\r\n\r\nexport const enrichStockData = (data: Stock[]): Stock[] => {\r\n    return data.map(stock => {\r\n        // Avoid re-enriching if already done (check if derived exists and has keys)\r\n        if (stock.derived && stock.derived.indicatorsList) return stock;\r\n\r\n        // 3D Average Strength Logic\r\n        let strength3D = \"Neutral\";\r\n        if (stock.history.avg_3day > 0.5) strength3D = \"Strong Buyers\";\r\n        else if (stock.history.avg_3day < -0.5) strength3D = \"Strong Sellers\";\r\n\r\n        // Indicators Composite\r\n        const indicatorsList: string[] = [];\r\n        if (stock.indicators.macd_status === \"above\") indicatorsList.push(\"MACD Above\");\r\n        if (stock.indicators.macd_status === \"below\") indicatorsList.push(\"MACD Below\");\r\n        if (stock.indicators.macd_status === \"neutral\") indicatorsList.push(\"MACD Neutral\");\r\n\r\n        if (stock.indicators.rsi_zone === \"overbought\") indicatorsList.push(\"RSI Over\");\r\n        if (stock.indicators.rsi_zone === \"oversold\") indicatorsList.push(\"RSI Under\");\r\n        if (stock.indicators.rsi_zone === \"neutral\") indicatorsList.push(\"RSI Neutral\");\r\n\r\n        return {\r\n            ...stock,\r\n            derived: {\r\n                strength3D,\r\n                indicatorsList,\r\n                macdLabel: stock.indicators.macd_status === \"above\" ? \"Above\" :\r\n                    stock.indicators.macd_status === \"below\" ? \"Below\" : \"Neutral\",\r\n                rsiLabel: stock.indicators.rsi_zone === \"overbought\" ? \"Over\" :\r\n                    stock.indicators.rsi_zone === \"oversold\" ? \"Under\" : \"Neutral\",\r\n                strengthLabel: stock.indicators.strength_label === \"buyers\" ? \"Buyers Dominating\" :\r\n                    stock.indicators.strength_label === \"sellers\" ? \"Sellers Dominating\" : \"Balanced\"\r\n            }\r\n        };\r\n    });\r\n};\r\n\r\nexport const globalFilter = (data: Stock[], filters: Record<string, any>): Stock[] => {\r\n    if (!data || !filters) return data || [];\r\n\r\n    // Data should be enriched before passing here, but we can access properties safely\r\n    return data.filter(stock => {\r\n        // Handle \"Quick Filters\" (boolean flags from FilterDrawer)\r\n        if (filters.search) {\r\n            const searchLower = filters.search.toLowerCase();\r\n            if (!stock.symbol.toLowerCase().includes(searchLower) && !stock.name?.toLowerCase().includes(searchLower)) return false;\r\n        }\r\n        if (filters.sector && stock.sector !== filters.sector) return false;\r\n\r\n        if (filters.min_price && stock.current_price < Number(filters.min_price)) return false;\r\n        if (filters.max_price && stock.current_price > Number(filters.max_price)) return false;\r\n\r\n        if (filters.min_avg_3day_pct && stock.history.avg_3day < Number(filters.min_avg_3day_pct)) return false;\r\n        if (filters.max_avg_3day_pct && stock.history.avg_3day > Number(filters.max_avg_3day_pct)) return false;\r\n\r\n        if (filters.constant_only && !stock.flags.is_constant_price) return false;\r\n        if (filters.gainers_only && stock.current_change <= 0) return false;\r\n        if (filters.losers_only && stock.current_change >= 0) return false;\r\n        if (filters.high_volume_only && !stock.flags.is_high_volume) return false;\r\n\r\n        if (filters.macd_status && stock.indicators.macd_status !== filters.macd_status) return false;\r\n        if (filters.rsi_zone && stock.indicators.rsi_zone !== filters.rsi_zone) return false; // Fixed: rsi_zone property\r\n        if (filters.strength && stock.indicators.strength_label !== filters.strength) return false;\r\n\r\n        return true;\r\n    });\r\n};\r\n\r\n// Helper for Column Filters (used inside Table)\r\nexport const applyColumnFilters = (data: any[], columnFilters: Record<string, FilterState>) => {\r\n    return data.filter(item => {\r\n        return Object.entries(columnFilters).every(([key, filter]) => {\r\n            let value: any;\r\n\r\n            // Map keys to values (using dot notation support)\r\n            value = key.split('.').reduce((o, i) => o?.[i], item);\r\n\r\n            if (filter.type === \"number\") {\r\n                if (typeof value !== \"number\") return false;\r\n                if (filter.min !== undefined && value < filter.min) return false;\r\n                if (filter.max !== undefined && value > filter.max) return false;\r\n                return true;\r\n            } else {\r\n                // Text/Enum\r\n                if (!filter.selectedValues || filter.selectedValues.length === 0) return true;\r\n\r\n                // Handle Array values (if cell contains multiple items)\r\n                if (Array.isArray(value)) {\r\n                    return value.some(v => filter.selectedValues?.some(f => String(v).toUpperCase() === f.toUpperCase()));\r\n                }\r\n\r\n                // Standard String Value\r\n                const cellValue = String(value).toUpperCase();\r\n                return filter.selectedValues.some(f => cellValue.includes(f.toUpperCase()));\r\n            }\r\n        });\r\n    });\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 755, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/ui/StrengthMeter.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\n\r\ninterface StrengthMeterProps {\r\n    label?: string;\r\n    buyerScore?: number;\r\n    sellerScore?: number;\r\n}\r\n\r\nexport function StrengthMeter({ label, buyerScore, sellerScore }: StrengthMeterProps) {\r\n    // If scores are provided, use them for the ratio\r\n    // If not, infer 100% based on label\r\n    let bScore = buyerScore;\r\n    let sScore = sellerScore;\r\n\r\n    if (bScore === undefined || sScore === undefined) {\r\n        if (label === \"Buyers Dominating\" || label === \"Buyers\") { bScore = 100; sScore = 0; }\r\n        else if (label === \"Sellers Dominating\" || label === \"Sellers\") { bScore = 0; sScore = 100; }\r\n        else { bScore = 50; sScore = 50; }\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-1 w-full\">\r\n            <div className=\"flex h-1.5 w-full rounded-full overflow-hidden bg-gray-200 dark:bg-slate-700\">\r\n                <div className=\"bg-green-500 dark:bg-green-400 h-full transition-all duration-300\" style={{ width: `${bScore}%` }} />\r\n                <div className=\"bg-red-500 dark:bg-red-400 h-full transition-all duration-300\" style={{ width: `${sScore}%` }} />\r\n            </div>\r\n            <div className=\"flex justify-between text-[10px] font-medium leading-none\">\r\n                <span className={cn(\"text-green-600 dark:text-green-400\", bScore! > sScore! ? \"font-bold\" : \"opacity-90\")}>\r\n                    {bScore! > sScore! ? \"Buyers\" : \"\"}\r\n                </span>\r\n                <span className={cn(\"text-red-600 dark:text-red-400\", sScore! > bScore! ? \"font-bold\" : \"opacity-90\")}>\r\n                    {sScore! > bScore! ? \"Sellers\" : \"\"}\r\n                </span>\r\n                {bScore === sScore && <span className=\"text-gray-500 dark:text-gray-400\">Balanced</span>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAQO,SAAS,cAAc,EAAE,KAAK,EAAE,UAAU,EAAE,WAAW,EAAsB;IAChF,iDAAiD;IACjD,oCAAoC;IACpC,IAAI,SAAS;IACb,IAAI,SAAS;IAEb,IAAI,WAAW,aAAa,WAAW,WAAW;QAC9C,IAAI,UAAU,uBAAuB,UAAU,UAAU;YAAE,SAAS;YAAK,SAAS;QAAG,OAChF,IAAI,UAAU,wBAAwB,UAAU,WAAW;YAAE,SAAS;YAAG,SAAS;QAAK,OACvF;YAAE,SAAS;YAAI,SAAS;QAAI;IACrC;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;wBAAoE,OAAO;4BAAE,OAAO,GAAG,OAAO,CAAC,CAAC;wBAAC;;;;;;kCAChH,8OAAC;wBAAI,WAAU;wBAAgE,OAAO;4BAAE,OAAO,GAAG,OAAO,CAAC,CAAC;wBAAC;;;;;;;;;;;;0BAEhH,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAK,WAAW,IAAA,yHAAE,EAAC,sCAAsC,SAAU,SAAU,cAAc;kCACvF,SAAU,SAAU,WAAW;;;;;;kCAEpC,8OAAC;wBAAK,WAAW,IAAA,yHAAE,EAAC,kCAAkC,SAAU,SAAU,cAAc;kCACnF,SAAU,SAAU,YAAY;;;;;;oBAEpC,WAAW,wBAAU,8OAAC;wBAAK,WAAU;kCAAmC;;;;;;;;;;;;;;;;;;AAIzF"}},
    {"offset": {"line": 862, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/FilterDrawer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Fragment, useState, useEffect } from \"react\";\r\nimport { Dialog, Transition, Disclosure } from \"@headlessui/react\";\r\nimport { X, ChevronDown, ChevronUp, RotateCcw } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface FilterDrawerProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    filters: any;\r\n    setFilters: (filters: any) => void;\r\n    onReset: () => void;\r\n}\r\n\r\nexport default function FilterDrawer({\r\n    isOpen,\r\n    onClose,\r\n    filters,\r\n    setFilters,\r\n    onReset,\r\n}: FilterDrawerProps) {\r\n    // Persist filters to localStorage\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem(\"stockFilters\");\r\n        if (saved) {\r\n            try {\r\n                const parsed = JSON.parse(saved);\r\n                // Only load if not empty to avoid overwriting initial state if needed\r\n                if (Object.keys(parsed).length > 0) {\r\n                    // We don't auto-set here to avoid infinite loops or hydration mismatch\r\n                    // But we could offer a \"Load Saved\" or just init state in parent.\r\n                    // For now, let's just save when changed.\r\n                }\r\n            } catch (e) {\r\n                console.error(\"Failed to load filters\", e);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(\"stockFilters\", JSON.stringify(filters));\r\n    }, [filters]);\r\n\r\n    const handleInputChange = (key: string, value: any) => {\r\n        setFilters((prev: any) => {\r\n            const next = { ...prev, [key]: value };\r\n            if (value === \"\" || value === null) delete next[key];\r\n            return next;\r\n        });\r\n    };\r\n\r\n    const handleCheckboxChange = (key: string, checked: boolean) => {\r\n        setFilters((prev: any) => {\r\n            const next = { ...prev, [key]: checked };\r\n            if (!checked) delete next[key];\r\n            return next;\r\n        });\r\n    };\r\n\r\n    const FilterSection = ({ title, children, defaultOpen = true }: { title: string, children: React.ReactNode, defaultOpen?: boolean }) => (\r\n        <Disclosure defaultOpen={defaultOpen}>\r\n            {({ open }) => (\r\n                <div className=\"border-b border-gray-200 dark:border-slate-700 py-4\">\r\n                    <Disclosure.Button className=\"flex w-full justify-between items-center text-left text-sm font-medium text-gray-900 dark:text-white focus:outline-none\">\r\n                        <span>{title}</span>\r\n                        {open ? <ChevronUp className=\"h-4 w-4 text-gray-500\" /> : <ChevronDown className=\"h-4 w-4 text-gray-500\" />}\r\n                    </Disclosure.Button>\r\n                    <Disclosure.Panel className=\"pt-4 space-y-4\">\r\n                        {children}\r\n                    </Disclosure.Panel>\r\n                </div>\r\n            )}\r\n        </Disclosure>\r\n    );\r\n\r\n    return (\r\n        <Transition.Root show={isOpen} as={Fragment}>\r\n            <Dialog as=\"div\" className=\"relative z-50\" onClose={onClose}>\r\n                <Transition.Child\r\n                    as={Fragment}\r\n                    enter=\"ease-in-out duration-300\"\r\n                    enterFrom=\"opacity-0\"\r\n                    enterTo=\"opacity-100\"\r\n                    leave=\"ease-in-out duration-300\"\r\n                    leaveFrom=\"opacity-100\"\r\n                    leaveTo=\"opacity-0\"\r\n                >\r\n                    <div className=\"fixed inset-0 bg-black/50 transition-opacity\" />\r\n                </Transition.Child>\r\n\r\n                <div className=\"fixed inset-0 overflow-hidden\">\r\n                    <div className=\"absolute inset-0 overflow-hidden\">\r\n                        <div className=\"pointer-events-none fixed inset-y-0 left-0 flex max-w-full pr-10\">\r\n                            <Transition.Child\r\n                                as={Fragment}\r\n                                enter=\"transform transition ease-in-out duration-300 sm:duration-500\"\r\n                                enterFrom=\"-translate-x-full\"\r\n                                enterTo=\"translate-x-0\"\r\n                                leave=\"transform transition ease-in-out duration-300 sm:duration-500\"\r\n                                leaveFrom=\"translate-x-0\"\r\n                                leaveTo=\"-translate-x-full\"\r\n                            >\r\n                                <Dialog.Panel className=\"pointer-events-auto w-screen max-w-md\">\r\n                                    <div className=\"flex h-full flex-col overflow-y-scroll bg-white dark:bg-slate-900 shadow-xl\">\r\n                                        <div className=\"px-4 py-6 sm:px-6 border-b border-gray-200 dark:border-slate-700\">\r\n                                            <div className=\"flex items-start justify-between\">\r\n                                                <Dialog.Title className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n                                                    Advanced Filters\r\n                                                </Dialog.Title>\r\n                                                <div className=\"ml-3 flex h-7 items-center\">\r\n                                                    <button\r\n                                                        type=\"button\"\r\n                                                        className=\"relative -m-2 p-2 text-gray-400 hover:text-gray-500\"\r\n                                                        onClick={onClose}\r\n                                                    >\r\n                                                        <span className=\"absolute -inset-0.5\" />\r\n                                                        <span className=\"sr-only\">Close panel</span>\r\n                                                        <X className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"relative flex-1 px-4 py-6 sm:px-6\">\r\n\r\n                                            {/* Search */}\r\n                                            <div className=\"mb-6\">\r\n                                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                                                    Search Symbol\r\n                                                </label>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"e.g. RELIANCE\"\r\n                                                    className=\"w-full bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md px-3 py-2 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                                    value={filters.search || \"\"}\r\n                                                    onChange={(e) => handleInputChange(\"search\", e.target.value)}\r\n                                                />\r\n                                            </div>\r\n\r\n                                            {/* Sections */}\r\n                                            <FilterSection title=\"Market Data\">\r\n                                                <div className=\"grid grid-cols-2 gap-4\">\r\n                                                    <div>\r\n                                                        <label className=\"block text-xs text-gray-500 dark:text-gray-400 mb-1\">Min Price</label>\r\n                                                        <input\r\n                                                            type=\"number\"\r\n                                                            className=\"w-full bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1 text-sm text-gray-900 dark:text-white outline-none\"\r\n                                                            value={filters.min_price || \"\"}\r\n                                                            onChange={(e) => handleInputChange(\"min_price\", e.target.value)}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <label className=\"block text-xs text-gray-500 dark:text-gray-400 mb-1\">Max Price</label>\r\n                                                        <input\r\n                                                            type=\"number\"\r\n                                                            className=\"w-full bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1 text-sm text-gray-900 dark:text-white outline-none\"\r\n                                                            value={filters.max_price || \"\"}\r\n                                                            onChange={(e) => handleInputChange(\"max_price\", e.target.value)}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div className=\"mt-4\">\r\n                                                    <label className=\"block text-xs text-gray-500 dark:text-gray-400 mb-1\">Sector</label>\r\n                                                    <select\r\n                                                        className=\"w-full bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1 text-sm text-gray-900 dark:text-white outline-none\"\r\n                                                        value={filters.sector || \"\"}\r\n                                                        onChange={(e) => handleInputChange(\"sector\", e.target.value)}\r\n                                                    >\r\n                                                        <option value=\"\">All Sectors</option>\r\n                                                        <option value=\"Nifty 50\">Nifty 50</option>\r\n                                                        <option value=\"Bank Nifty\">Bank Nifty</option>\r\n                                                        <option value=\"IT\">IT</option>\r\n                                                        <option value=\"Auto\">Auto</option>\r\n                                                        <option value=\"Pharma\">Pharma</option>\r\n                                                        <option value=\"FMCG\">FMCG</option>\r\n                                                        <option value=\"Metals\">Metals</option>\r\n                                                        <option value=\"Energy\">Energy</option>\r\n                                                    </select>\r\n                                                </div>\r\n                                            </FilterSection>\r\n\r\n                                            <FilterSection title=\"Performance (3-Day)\">\r\n                                                <div className=\"grid grid-cols-2 gap-4\">\r\n                                                    <div>\r\n                                                        <label className=\"block text-xs text-gray-500 dark:text-gray-400 mb-1\">Min Avg %</label>\r\n                                                        <input\r\n                                                            type=\"number\"\r\n                                                            step=\"0.1\"\r\n                                                            className=\"w-full bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1 text-sm text-gray-900 dark:text-white outline-none\"\r\n                                                            value={filters.min_avg_3day_pct || \"\"}\r\n                                                            onChange={(e) => handleInputChange(\"min_avg_3day_pct\", e.target.value)}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <label className=\"block text-xs text-gray-500 dark:text-gray-400 mb-1\">Max Avg %</label>\r\n                                                        <input\r\n                                                            type=\"number\"\r\n                                                            step=\"0.1\"\r\n                                                            className=\"w-full bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1 text-sm text-gray-900 dark:text-white outline-none\"\r\n                                                            value={filters.max_avg_3day_pct || \"\"}\r\n                                                            onChange={(e) => handleInputChange(\"max_avg_3day_pct\", e.target.value)}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </FilterSection>\r\n\r\n                                            <FilterSection title=\"Quick Filters\">\r\n                                                <div className=\"space-y-3\">\r\n                                                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            className=\"rounded bg-gray-200 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-blue-600\"\r\n                                                            checked={filters.constant_only || false}\r\n                                                            onChange={(e) => handleCheckboxChange(\"constant_only\", e.target.checked)}\r\n                                                        />\r\n                                                        <span className=\"text-sm text-gray-700 dark:text-gray-300\">Constant Price (Stability)</span>\r\n                                                    </label>\r\n                                                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            className=\"rounded bg-gray-200 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-blue-600\"\r\n                                                            checked={filters.gainers_only || false}\r\n                                                            onChange={(e) => handleCheckboxChange(\"gainers_only\", e.target.checked)}\r\n                                                        />\r\n                                                        <span className=\"text-sm text-gray-700 dark:text-gray-300\">Gainers Only</span>\r\n                                                    </label>\r\n                                                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            className=\"rounded bg-gray-200 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-blue-600\"\r\n                                                            checked={filters.losers_only || false}\r\n                                                            onChange={(e) => handleCheckboxChange(\"losers_only\", e.target.checked)}\r\n                                                        />\r\n                                                        <span className=\"text-sm text-gray-700 dark:text-gray-300\">Losers Only</span>\r\n                                                    </label>\r\n                                                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            className=\"rounded bg-gray-200 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-blue-600\"\r\n                                                            checked={filters.high_volume_only || false}\r\n                                                            onChange={(e) => handleCheckboxChange(\"high_volume_only\", e.target.checked)}\r\n                                                        />\r\n                                                        <span className=\"text-sm text-gray-700 dark:text-gray-300\">High Volume Only</span>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </FilterSection>\r\n\r\n                                            <FilterSection title=\"Technical Indicators\">\r\n                                                <div className=\"space-y-4\">\r\n                                                    <div>\r\n                                                        <label className=\"block text-xs text-gray-500 dark:text-gray-400 mb-1\">MACD Status</label>\r\n                                                        <select\r\n                                                            className=\"w-full bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1 text-sm text-gray-900 dark:text-white outline-none\"\r\n                                                            value={filters.macd_status || \"\"}\r\n                                                            onChange={(e) => handleInputChange(\"macd_status\", e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\">Any</option>\r\n                                                            <option value=\"above\">Above Zero (Bullish)</option>\r\n                                                            <option value=\"below\">Below Zero (Bearish)</option>\r\n                                                            <option value=\"neutral\">Near Zero (Neutral)</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <label className=\"block text-xs text-gray-500 dark:text-gray-400 mb-1\">RSI Zone</label>\r\n                                                        <select\r\n                                                            className=\"w-full bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1 text-sm text-gray-900 dark:text-white outline-none\"\r\n                                                            value={filters.rsi_zone || \"\"}\r\n                                                            onChange={(e) => handleInputChange(\"rsi_zone\", e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\">Any</option>\r\n                                                            <option value=\"overbought\">Overbought</option>\r\n                                                            <option value=\"oversold\">Oversold</option>\r\n                                                            <option value=\"neutral\">Neutral</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <label className=\"block text-xs text-gray-500 dark:text-gray-400 mb-1\">Strength</label>\r\n                                                        <select\r\n                                                            className=\"w-full bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1 text-sm text-gray-900 dark:text-white outline-none\"\r\n                                                            value={filters.strength || \"\"}\r\n                                                            onChange={(e) => handleInputChange(\"strength\", e.target.value)}\r\n                                                        >\r\n                                                            <option value=\"\">Any</option>\r\n                                                            <option value=\"BUYERS\">Buyers Dominating</option>\r\n                                                            <option value=\"SELLERS\">Sellers Dominating</option>\r\n                                                            <option value=\"BALANCED\">Balanced</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </FilterSection>\r\n                                        </div>\r\n\r\n                                        <div className=\"border-t border-gray-200 dark:border-slate-700 px-4 py-6 sm:px-6\">\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"flex w-full items-center justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600\"\r\n                                                onClick={onReset}\r\n                                            >\r\n                                                <RotateCcw className=\"w-4 h-4 mr-2\" />\r\n                                                Reset All Filters\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </Dialog.Panel>\r\n                            </Transition.Child>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Dialog>\r\n        </Transition.Root>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1755, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/QuickFiltersToolbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { TrendingUp, TrendingDown, BarChart3, X, Search } from \"lucide-react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface QuickFiltersToolbarProps {\r\n    filters: any;\r\n    setFilters: (filters: any) => void;\r\n    onReset?: () => void;\r\n    className?: string;\r\n}\r\n\r\nexport default function QuickFiltersToolbar({ filters, setFilters, onReset, className }: QuickFiltersToolbarProps) {\r\n\r\n    const FilterPill = ({ label, active, onClick, icon: Icon }: any) => (\r\n        <button\r\n            onClick={onClick}\r\n            className={cn(\r\n                \"relative px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 flex items-center gap-2 whitespace-nowrap\",\r\n                active\r\n                    ? \"text-primary-foreground shadow-md\"\r\n                    : \"text-muted-foreground hover:bg-accent hover:text-accent-foreground\"\r\n            )}\r\n        >\r\n            {active && (\r\n                <motion.div\r\n                    layoutId=\"activePill\"\r\n                    className=\"absolute inset-0 bg-primary rounded-full\"\r\n                    transition={{ type: \"spring\", bounce: 0.2, duration: 0.6 }}\r\n                />\r\n            )}\r\n            <span className=\"relative z-10 flex items-center gap-2\">\r\n                {Icon && <Icon className=\"w-4 h-4\" />}\r\n                {label}\r\n            </span>\r\n        </button>\r\n    );\r\n\r\n    return (\r\n        <div className={cn(\"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 border-b border-border\", className)}>\r\n\r\n            {/* Search Bar */}\r\n            <div className=\"relative w-full sm:w-64\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search stocks...\"\r\n                    value={filters.search || \"\"}\r\n                    onChange={(e) => setFilters((p: any) => ({ ...p, search: e.target.value }))}\r\n                    className=\"w-full pl-9 pr-4 py-2 rounded-full text-sm border border-border bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-all shadow-sm\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"flex flex-wrap gap-2 p-1.5 bg-muted/50 rounded-full border border-border/50 w-full sm:w-auto overflow-x-auto\">\r\n                <FilterPill\r\n                    label=\"All Stocks\"\r\n                    active={!filters.gainers_only && !filters.losers_only && !filters.high_volume_only}\r\n                    onClick={() => setFilters((p: any) => {\r\n                        const { gainers_only, losers_only, high_volume_only, ...rest } = p;\r\n                        return rest;\r\n                    })}\r\n                />\r\n                <FilterPill\r\n                    label=\"Gainers\"\r\n                    icon={TrendingUp}\r\n                    active={filters.gainers_only}\r\n                    onClick={() => setFilters((p: any) => ({ ...p, gainers_only: !p.gainers_only, losers_only: false }))}\r\n                />\r\n                <FilterPill\r\n                    label=\"Losers\"\r\n                    icon={TrendingDown}\r\n                    active={filters.losers_only}\r\n                    onClick={() => setFilters((p: any) => ({ ...p, losers_only: !p.losers_only, gainers_only: false }))}\r\n                />\r\n                <FilterPill\r\n                    label=\"High Volume\"\r\n                    icon={BarChart3}\r\n                    active={filters.high_volume_only}\r\n                    onClick={() => setFilters((p: any) => ({ ...p, high_volume_only: !p.high_volume_only }))}\r\n                />\r\n            </div>\r\n\r\n            {Object.keys(filters).length > 0 && onReset && (\r\n                <button\r\n                    onClick={onReset}\r\n                    className=\"px-4 py-2 text-sm font-medium text-destructive hover:bg-destructive/10 rounded-full transition-colors flex items-center gap-2 whitespace-nowrap\"\r\n                >\r\n                    <X className=\"w-4 h-4\" /> Clear Filters\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAJA;;;;;AAae,SAAS,oBAAoB,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAA4B;IAE7G,MAAM,aAAa,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,IAAI,EAAO,iBAC3D,8OAAC;YACG,SAAS;YACT,WAAW,IAAA,yHAAE,EACT,6HACA,SACM,sCACA;;gBAGT,wBACG,8OAAC,oMAAM,CAAC,GAAG;oBACP,UAAS;oBACT,WAAU;oBACV,YAAY;wBAAE,MAAM;wBAAU,QAAQ;wBAAK,UAAU;oBAAI;;;;;;8BAGjE,8OAAC;oBAAK,WAAU;;wBACX,sBAAQ,8OAAC;4BAAK,WAAU;;;;;;wBACxB;;;;;;;;;;;;;IAKb,qBACI,8OAAC;QAAI,WAAW,IAAA,yHAAE,EAAC,2FAA2F;;0BAG1G,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,gNAAM;wBAAC,WAAU;;;;;;kCAClB,8OAAC;wBACG,MAAK;wBACL,aAAY;wBACZ,OAAO,QAAQ,MAAM,IAAI;wBACzB,UAAU,CAAC,IAAM,WAAW,CAAC,IAAW,CAAC;oCAAE,GAAG,CAAC;oCAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;gCAAC,CAAC;wBACzE,WAAU;;;;;;;;;;;;0BAIlB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBACG,OAAM;wBACN,QAAQ,CAAC,QAAQ,YAAY,IAAI,CAAC,QAAQ,WAAW,IAAI,CAAC,QAAQ,gBAAgB;wBAClF,SAAS,IAAM,WAAW,CAAC;gCACvB,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,gBAAgB,EAAE,GAAG,MAAM,GAAG;gCACjE,OAAO;4BACX;;;;;;kCAEJ,8OAAC;wBACG,OAAM;wBACN,MAAM,gOAAU;wBAChB,QAAQ,QAAQ,YAAY;wBAC5B,SAAS,IAAM,WAAW,CAAC,IAAW,CAAC;oCAAE,GAAG,CAAC;oCAAE,cAAc,CAAC,EAAE,YAAY;oCAAE,aAAa;gCAAM,CAAC;;;;;;kCAEtG,8OAAC;wBACG,OAAM;wBACN,MAAM,sOAAY;wBAClB,QAAQ,QAAQ,WAAW;wBAC3B,SAAS,IAAM,WAAW,CAAC,IAAW,CAAC;oCAAE,GAAG,CAAC;oCAAE,aAAa,CAAC,EAAE,WAAW;oCAAE,cAAc;gCAAM,CAAC;;;;;;kCAErG,8OAAC;wBACG,OAAM;wBACN,MAAM,+NAAS;wBACf,QAAQ,QAAQ,gBAAgB;wBAChC,SAAS,IAAM,WAAW,CAAC,IAAW,CAAC;oCAAE,GAAG,CAAC;oCAAE,kBAAkB,CAAC,EAAE,gBAAgB;gCAAC,CAAC;;;;;;;;;;;;YAI7F,OAAO,IAAI,CAAC,SAAS,MAAM,GAAG,KAAK,yBAChC,8OAAC;gBACG,SAAS;gBACT,WAAU;;kCAEV,8OAAC,iMAAC;wBAAC,WAAU;;;;;;oBAAY;;;;;;;;;;;;;AAK7C"}},
    {"offset": {"line": 1937, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/app/strength-analyzer/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useMemo, useEffect } from \"react\";\r\nimport { useStrengthAnalysis, StockStrength } from \"@/hooks/useStocks\";\r\nimport StrengthTable from \"@/components/StrengthTable\";\r\nimport { Filter, RefreshCcw, Search, X } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useFilter } from \"@/context/FilterContext\";\r\nimport FilterDrawer from \"@/components/FilterDrawer\";\r\nimport QuickFiltersToolbar from \"@/components/QuickFiltersToolbar\";\r\nimport { globalFilter, enrichStockData } from \"@/utils/globalFilter\";\r\n\r\nexport default function StrengthAnalyzerPage() {\r\n    // Local state for API params (if any specific API filters are needed)\r\n    // For now, we fetch all and filter client-side for consistency with other pages\r\n    const { data: stocks, isLoading, refetch } = useStrengthAnalysis({});\r\n\r\n    const [search, setSearch] = useState(\"\");\r\n    const [filters, setFilters] = useState<any>({});\r\n    const { isDrawerOpen, closeDrawer, setFilterCount } = useFilter();\r\n\r\n    // Sync filter count to context\r\n    useEffect(() => {\r\n        const count = Object.keys(filters).length;\r\n        setFilterCount(count);\r\n    }, [filters, setFilterCount]);\r\n\r\n    const handleReset = () => {\r\n        setFilters({});\r\n        setSearch(\"\");\r\n    };\r\n\r\n    // Apply Global Filter + Search\r\n    const filteredStocks = useMemo(() => {\r\n        let result = stocks || [];\r\n\r\n        // 0. Enrich Data\r\n        result = enrichStockData(result);\r\n\r\n        // 1. Search\r\n        if (search) {\r\n            const q = search.toLowerCase();\r\n            result = result.filter(s =>\r\n                s.symbol.toLowerCase().includes(q) ||\r\n                s.name?.toLowerCase().includes(q)\r\n            );\r\n        }\r\n\r\n        // 2. Filters\r\n        // Cast as StockStrength[] because globalFilter returns Stock[] but preserves properties\r\n        return globalFilter(result, filters) as StockStrength[];\r\n    }, [stocks, search, filters]);\r\n\r\n    return (\r\n        <div className=\"min-h-screen w-full bg-background text-foreground p-4 md:p-6 animate-in fade-in duration-500\">\r\n            <FilterDrawer\r\n                isOpen={isDrawerOpen}\r\n                onClose={closeDrawer}\r\n                filters={filters}\r\n                setFilters={setFilters}\r\n                onReset={handleReset}\r\n            />\r\n\r\n            <div className=\"w-full space-y-6\">\r\n\r\n                {/* Header Section */}\r\n                <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\r\n                    <div>\r\n                        <h1 className=\"text-3xl font-semibold text-foreground\">\r\n                            Strength Analyzer\r\n                        </h1>\r\n                        <p className=\"text-muted-foreground mt-1\">\r\n                            Deep dive into stock strength trends and momentum indicators ({filteredStocks.length})\r\n                        </p>\r\n                    </div>\r\n\r\n                    {Object.keys(filters).length > 0 && (\r\n                        <button\r\n                            onClick={handleReset}\r\n                            className=\"px-3 py-2 rounded-lg text-sm font-medium text-red-600 dark:text-red-400 hover:bg-destructive/10 transition-colors flex items-center gap-2 whitespace-nowrap\"\r\n                        >\r\n                            <X className=\"w-4 h-4\" /> Clear\r\n                        </button>\r\n                    )}\r\n\r\n                    <button\r\n                        onClick={() => refetch()}\r\n                        className=\"p-2 bg-card border border-border rounded-lg hover:bg-accent transition-colors text-muted-foreground\"\r\n                        title=\"Refresh Data\"\r\n                    >\r\n                        <RefreshCcw className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Content Card */}\r\n            <div className=\"bg-card text-card-foreground rounded-3xl shadow-sm dark:shadow-md border border-border overflow-hidden\">\r\n                <QuickFiltersToolbar\r\n                    filters={filters}\r\n                    setFilters={setFilters}\r\n                    onReset={handleReset}\r\n                />\r\n                <div className=\"p-6 pt-0\">\r\n                    <StrengthTable stocks={filteredStocks} isLoading={isLoading} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAVA;;;;;;;;;;AAYe,SAAS;IACpB,sEAAsE;IACtE,gFAAgF;IAChF,MAAM,EAAE,MAAM,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,IAAA,gJAAmB,EAAC,CAAC;IAElE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAM,CAAC;IAC7C,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG,IAAA,6IAAS;IAE/D,+BAA+B;IAC/B,IAAA,kNAAS,EAAC;QACN,MAAM,QAAQ,OAAO,IAAI,CAAC,SAAS,MAAM;QACzC,eAAe;IACnB,GAAG;QAAC;QAAS;KAAe;IAE5B,MAAM,cAAc;QAChB,WAAW,CAAC;QACZ,UAAU;IACd;IAEA,+BAA+B;IAC/B,MAAM,iBAAiB,IAAA,gNAAO,EAAC;QAC3B,IAAI,SAAS,UAAU,EAAE;QAEzB,iBAAiB;QACjB,SAAS,IAAA,+IAAe,EAAC;QAEzB,YAAY;QACZ,IAAI,QAAQ;YACR,MAAM,IAAI,OAAO,WAAW;YAC5B,SAAS,OAAO,MAAM,CAAC,CAAA,IACnB,EAAE,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC,MAChC,EAAE,IAAI,EAAE,cAAc,SAAS;QAEvC;QAEA,aAAa;QACb,wFAAwF;QACxF,OAAO,IAAA,4IAAY,EAAC,QAAQ;IAChC,GAAG;QAAC;QAAQ;QAAQ;KAAQ;IAE5B,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC,6IAAY;gBACT,QAAQ;gBACR,SAAS;gBACT,SAAS;gBACT,YAAY;gBACZ,SAAS;;;;;;0BAGb,8OAAC;gBAAI,WAAU;0BAGX,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;;8CACG,8OAAC;oCAAG,WAAU;8CAAyC;;;;;;8CAGvD,8OAAC;oCAAE,WAAU;;wCAA6B;wCACyB,eAAe,MAAM;wCAAC;;;;;;;;;;;;;wBAI5F,OAAO,IAAI,CAAC,SAAS,MAAM,GAAG,mBAC3B,8OAAC;4BACG,SAAS;4BACT,WAAU;;8CAEV,8OAAC,iMAAC;oCAAC,WAAU;;;;;;gCAAY;;;;;;;sCAIjC,8OAAC;4BACG,SAAS,IAAM;4BACf,WAAU;4BACV,OAAM;sCAEN,cAAA,8OAAC,gOAAU;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;0BAMlC,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,oJAAmB;wBAChB,SAAS;wBACT,YAAY;wBACZ,SAAS;;;;;;kCAEb,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,8IAAa;4BAAC,QAAQ;4BAAgB,WAAW;;;;;;;;;;;;;;;;;;;;;;;AAMtE"}}]
}