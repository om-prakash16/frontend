{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/hooks/useStocks.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport axios from \"axios\";\r\n\r\n// Types\r\nexport interface ChartDataPoint {\r\n    date: string;\r\n    open: number;\r\n    high: number;\r\n    low: number;\r\n    close: number;\r\n    volume: number;\r\n    macd?: number;\r\n    signal?: number;\r\n    hist?: number;\r\n    rsi?: number;\r\n    ema_20?: number;\r\n    ema_50?: number;\r\n}\r\n\r\nexport interface Stock {\r\n    symbol: string;\r\n    name?: string;\r\n    sector?: string;\r\n    current_price: number;\r\n    previous_close: number;\r\n    current_change_abs: number;\r\n    current_change_pct: number;\r\n    day_high: number;\r\n    day_low: number;\r\n    volume: number;\r\n    market_cap?: number;\r\n    last_updated: string;\r\n    rank: number;\r\n    history: {\r\n        day_1_change_pct: number;\r\n        day_2_change_pct: number;\r\n        day_3_change_pct: number;\r\n        avg_3_day_change_pct: number;\r\n        volatility_3_day: number;\r\n    };\r\n    indicators: {\r\n        macd_line?: number;\r\n        signal_line?: number;\r\n        macd_histogram?: number;\r\n        macd_status: string; // above_zero, below_zero, near_zero\r\n        rsi_value?: number;\r\n        rsi_status: string; // overbought, oversold, neutral\r\n        sma_20?: number;\r\n        sma_50?: number;\r\n        ema_20?: number;\r\n        ema_50?: number;\r\n        trend: string;\r\n        buyer_strength_score: number;\r\n        seller_strength_score: number;\r\n        strength_label: string; // buyers, sellers, balanced\r\n    };\r\n    flags: {\r\n        is_constant_price: boolean;\r\n        is_gainer_today: boolean;\r\n        is_loser_today: boolean;\r\n        is_high_volume: boolean;\r\n        is_breakout_candidate: boolean;\r\n    };\r\n    chart_data?: ChartDataPoint[];\r\n}\r\n\r\nconst API_URL = \"http://localhost:8000/api/v1\";\r\n\r\nexport function useStocks(filters: any) {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"fno\", filters],\r\n        queryFn: async () => {\r\n            const params = new URLSearchParams();\r\n            Object.entries(filters).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null && value !== \"\") {\r\n                    params.append(key, String(value));\r\n                }\r\n            });\r\n\r\n            const url = `${API_URL}/stocks/fno`;\r\n            const { data } = await axios.get<Stock[]>(url, { params });\r\n            return data;\r\n        },\r\n        refetchInterval: 15000, // 15 seconds to reduce load\r\n        staleTime: 10000, // Consider data fresh for 10 seconds\r\n    });\r\n}\r\n\r\nexport function useStockDetail(symbol: string | null) {\r\n    return useQuery({\r\n        queryKey: [\"stock\", symbol],\r\n        queryFn: async () => {\r\n            if (!symbol) return null;\r\n            const { data } = await axios.get<Stock>(`${API_URL}/stocks/${symbol}`);\r\n            return data;\r\n        },\r\n        enabled: !!symbol,\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useWatchlist() {\r\n    return useQuery({\r\n        queryKey: [\"watchlist\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/watchlist`);\r\n            return data;\r\n        },\r\n        refetchInterval: 5000,\r\n    });\r\n}\r\n\r\nexport function useToggleWatchlist() {\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async ({ symbol, action }: { symbol: string; action: \"add\" | \"remove\" }) => {\r\n            const { data } = await axios.post(`${API_URL}/watchlist/`, { symbol, action });\r\n            return data;\r\n        },\r\n        onSuccess: () => {\r\n            queryClient.invalidateQueries({ queryKey: [\"watchlist\"] });\r\n        },\r\n    });\r\n}\r\n\r\nexport function useGainers3Day() {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"gainers-3day\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/stocks/gainers-3day`);\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n\r\nexport function useLosers3Day() {\r\n    return useQuery({\r\n        queryKey: [\"stocks\", \"losers-3day\"],\r\n        queryFn: async () => {\r\n            const { data } = await axios.get<Stock[]>(`${API_URL}/stocks/losers-3day`);\r\n            return data;\r\n        },\r\n        refetchInterval: 15000,\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AAAA;AAAA;AACA;;;;AAiEA,MAAM,UAAU;AAET,SAAS,UAAU,OAAY;;IAClC,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAU;YAAO;SAAQ;QACpC,OAAO;kCAAE;gBACL,MAAM,SAAS,IAAI;gBACnB,OAAO,OAAO,CAAC,SAAS,OAAO;0CAAC,CAAC,CAAC,KAAK,MAAM;wBACzC,IAAI,UAAU,aAAa,UAAU,QAAQ,UAAU,IAAI;4BACvD,OAAO,MAAM,CAAC,KAAK,OAAO;wBAC9B;oBACJ;;gBAEA,MAAM,MAAM,GAAG,QAAQ,WAAW,CAAC;gBACnC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,mJAAK,CAAC,GAAG,CAAU,KAAK;oBAAE;gBAAO;gBACxD,OAAO;YACX;;QACA,iBAAiB;QACjB,WAAW;IACf;AACJ;GAlBgB;;QACL,0LAAQ;;;AAmBZ,SAAS,eAAe,MAAqB;;IAChD,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAS;SAAO;QAC3B,OAAO;uCAAE;gBACL,IAAI,CAAC,QAAQ,OAAO;gBACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,mJAAK,CAAC,GAAG,CAAQ,GAAG,QAAQ,QAAQ,EAAE,QAAQ;gBACrE,OAAO;YACX;;QACA,SAAS,CAAC,CAAC;QACX,iBAAiB;IACrB;AACJ;IAXgB;;QACL,0LAAQ;;;AAYZ,SAAS;;IACZ,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;SAAY;QACvB,OAAO;qCAAE;gBACL,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,mJAAK,CAAC,GAAG,CAAU,GAAG,QAAQ,UAAU,CAAC;gBAChE,OAAO;YACX;;QACA,iBAAiB;IACrB;AACJ;IATgB;;QACL,0LAAQ;;;AAUZ,SAAS;;IACZ,MAAM,cAAc,IAAA,2MAAc;IAElC,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;8CAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAgD;gBAC/E,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,WAAW,CAAC,EAAE;oBAAE;oBAAQ;gBAAO;gBAC5E,OAAO;YACX;;QACA,SAAS;8CAAE;gBACP,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAY;gBAAC;YAC5D;;IACJ;AACJ;IAZgB;;QACQ,2MAAc;QAE3B,gMAAW;;;AAWf,SAAS;;IACZ,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAU;SAAe;QACpC,OAAO;uCAAE;gBACL,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,mJAAK,CAAC,GAAG,CAAU,GAAG,QAAQ,oBAAoB,CAAC;gBAC1E,OAAO;YACX;;QACA,iBAAiB;IACrB;AACJ;IATgB;;QACL,0LAAQ;;;AAUZ,SAAS;;IACZ,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU;YAAC;YAAU;SAAc;QACnC,OAAO;sCAAE;gBACL,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,mJAAK,CAAC,GAAG,CAAU,GAAG,QAAQ,mBAAmB,CAAC;gBACzE,OAAO;YACX;;QACA,iBAAiB;IACrB;AACJ;IATgB;;QACL,0LAAQ"}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/lib/utils.ts"],"sourcesContent":["export function cn(...classes: (string | boolean | undefined | null)[]) {\r\n  return classes.filter(Boolean).join(\" \");\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,SAAS,GAAG,GAAG,OAAgD;IACpE,OAAO,QAAQ,MAAM,CAAC,SAAS,IAAI,CAAC;AACtC"}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/StockDetailModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Stock, useStockDetail, ChartDataPoint } from \"@/hooks/useStocks\";\r\nimport { X, TrendingUp, TrendingDown, Activity, BarChart2 } from \"lucide-react\";\r\nimport { Line, LineChart, ResponsiveContainer, Tooltip, XAxis, YAxis, BarChart, Bar, ComposedChart, ReferenceLine, Area, AreaChart } from \"recharts\";\r\nimport { format } from \"date-fns\";\r\nimport { useState } from \"react\";\r\n\r\ninterface StockDetailModalProps {\r\n    stock: Stock | null;\r\n    onClose: () => void;\r\n}\r\n\r\nexport default function StockDetailModal({ stock: initialStock, onClose }: StockDetailModalProps) {\r\n    // We use the hook to fetch detailed data including chart_data\r\n    const { data: detailedStock, isLoading } = useStockDetail(initialStock?.symbol || null);\r\n\r\n    // Use detailed stock if available, otherwise fallback to initial stock (which has no chart data)\r\n    const stock = detailedStock || initialStock;\r\n\r\n    if (!stock) return null;\r\n\r\n    const chartData = stock.chart_data || [];\r\n    const hasChartData = chartData.length > 0;\r\n\r\n    // Calculate price change for header\r\n    const isPositive = stock.current_change_pct >= 0;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200\">\r\n            <div className=\"bg-gray-900 border border-gray-800 rounded-xl w-full max-w-6xl max-h-[95vh] overflow-y-auto shadow-2xl flex flex-col\">\r\n                {/* Header */}\r\n                <div className=\"p-6 border-b border-gray-800 flex items-center justify-between sticky top-0 bg-gray-900 z-10\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div>\r\n                            <h2 className=\"text-3xl font-bold text-white tracking-tight\">{stock.symbol}</h2>\r\n                            <p className=\"text-gray-400 text-sm\">{stock.name}</p>\r\n                        </div>\r\n                        <div className=\"flex flex-col items-end\">\r\n                            <div className=\"text-2xl font-mono font-bold text-white\">₹{stock.current_price.toFixed(2)}</div>\r\n                            <div className={`flex items-center gap-1 text-sm font-medium ${isPositive ? 'text-green-500' : 'text-red-500'}`}>\r\n                                {isPositive ? <TrendingUp className=\"w-4 h-4\" /> : <TrendingDown className=\"w-4 h-4\" />}\r\n                                {stock.current_change_abs > 0 ? '+' : ''}{stock.current_change_abs.toFixed(2)} ({stock.current_change_pct.toFixed(2)}%)\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <button onClick={onClose} className=\"p-2 hover:bg-gray-800 rounded-full transition-colors group\">\r\n                        <X className=\"w-6 h-6 text-gray-400 group-hover:text-white\" />\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"p-6 grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1\">\r\n                    {/* Main Chart Area (2/3 width) */}\r\n                    <div className=\"lg:col-span-2 space-y-6\">\r\n                        {/* Price & Volume Chart */}\r\n                        <div className=\"bg-gray-800/30 rounded-xl p-4 border border-gray-800 h-[400px] flex flex-col\">\r\n                            <div className=\"flex items-center justify-between mb-4\">\r\n                                <h3 className=\"text-sm font-medium text-gray-400 flex items-center gap-2\">\r\n                                    <Activity className=\"w-4 h-4\" /> Price & Volume\r\n                                </h3>\r\n                                <div className=\"flex gap-2\">\r\n                                    {/* Timeframe selectors could go here */}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {isLoading ? (\r\n                                <div className=\"flex-1 flex items-center justify-center text-gray-500\">Loading Chart Data...</div>\r\n                            ) : hasChartData ? (\r\n                                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                    <ComposedChart data={chartData}>\r\n                                        <defs>\r\n                                            <linearGradient id=\"colorPrice\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                                <stop offset=\"5%\" stopColor=\"#3b82f6\" stopOpacity={0.3} />\r\n                                                <stop offset=\"95%\" stopColor=\"#3b82f6\" stopOpacity={0} />\r\n                                            </linearGradient>\r\n                                        </defs>\r\n                                        <XAxis\r\n                                            dataKey=\"date\"\r\n                                            stroke=\"#4b5563\"\r\n                                            fontSize={10}\r\n                                            tickFormatter={(str) => format(new Date(str), 'MMM d')}\r\n                                            minTickGap={30}\r\n                                        />\r\n                                        <YAxis\r\n                                            yAxisId=\"left\"\r\n                                            domain={['auto', 'auto']}\r\n                                            stroke=\"#4b5563\"\r\n                                            fontSize={10}\r\n                                            tickFormatter={(val) => `₹${val}`}\r\n                                        />\r\n                                        <YAxis\r\n                                            yAxisId=\"right\"\r\n                                            orientation=\"right\"\r\n                                            stroke=\"#4b5563\"\r\n                                            fontSize={10}\r\n                                            tickFormatter={(val) => `${(val / 1000000).toFixed(1)}M`}\r\n                                        />\r\n                                        <Tooltip\r\n                                            contentStyle={{ backgroundColor: '#111827', borderColor: '#374151', color: '#f3f4f6' }}\r\n                                            itemStyle={{ color: '#f3f4f6' }}\r\n                                            labelFormatter={(label) => format(new Date(label), 'MMM d, yyyy')}\r\n                                        />\r\n                                        <Area\r\n                                            yAxisId=\"left\"\r\n                                            type=\"monotone\"\r\n                                            dataKey=\"close\"\r\n                                            stroke=\"#3b82f6\"\r\n                                            fillOpacity={1}\r\n                                            fill=\"url(#colorPrice)\"\r\n                                            strokeWidth={2}\r\n                                            name=\"Price\"\r\n                                        />\r\n                                        <Bar\r\n                                            yAxisId=\"right\"\r\n                                            dataKey=\"volume\"\r\n                                            fill=\"#374151\"\r\n                                            opacity={0.5}\r\n                                            name=\"Volume\"\r\n                                        />\r\n                                    </ComposedChart>\r\n                                </ResponsiveContainer>\r\n                            ) : (\r\n                                <div className=\"flex-1 flex items-center justify-center text-gray-500\">No chart data available</div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Indicators (MACD & RSI) */}\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 h-[200px]\">\r\n                            {/* MACD */}\r\n                            <div className=\"bg-gray-800/30 rounded-xl p-4 border border-gray-800 flex flex-col\">\r\n                                <h3 className=\"text-xs font-medium text-gray-400 mb-2\">MACD</h3>\r\n                                {hasChartData ? (\r\n                                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                        <ComposedChart data={chartData}>\r\n                                            <XAxis dataKey=\"date\" hide />\r\n                                            <YAxis domain={['auto', 'auto']} hide />\r\n                                            <Tooltip\r\n                                                contentStyle={{ backgroundColor: '#111827', borderColor: '#374151', fontSize: '12px' }}\r\n                                                labelStyle={{ display: 'none' }}\r\n                                            />\r\n                                            <Line type=\"monotone\" dataKey=\"macd\" stroke=\"#3b82f6\" dot={false} strokeWidth={1.5} />\r\n                                            <Line type=\"monotone\" dataKey=\"signal\" stroke=\"#f59e0b\" dot={false} strokeWidth={1.5} />\r\n                                            <Bar dataKey=\"hist\" fill=\"#10b981\" />\r\n                                        </ComposedChart>\r\n                                    </ResponsiveContainer>\r\n                                ) : <div className=\"flex-1 bg-gray-800/20 rounded animate-pulse\" />}\r\n                            </div>\r\n\r\n                            {/* RSI */}\r\n                            <div className=\"bg-gray-800/30 rounded-xl p-4 border border-gray-800 flex flex-col\">\r\n                                <h3 className=\"text-xs font-medium text-gray-400 mb-2\">RSI (14)</h3>\r\n                                {hasChartData ? (\r\n                                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                        <LineChart data={chartData}>\r\n                                            <XAxis dataKey=\"date\" hide />\r\n                                            <YAxis domain={[0, 100]} hide />\r\n                                            <ReferenceLine y={70} stroke=\"#ef4444\" strokeDasharray=\"3 3\" />\r\n                                            <ReferenceLine y={30} stroke=\"#10b981\" strokeDasharray=\"3 3\" />\r\n                                            <Tooltip\r\n                                                contentStyle={{ backgroundColor: '#111827', borderColor: '#374151', fontSize: '12px' }}\r\n                                                labelStyle={{ display: 'none' }}\r\n                                            />\r\n                                            <Line type=\"monotone\" dataKey=\"rsi\" stroke=\"#8b5cf6\" dot={false} strokeWidth={1.5} />\r\n                                        </LineChart>\r\n                                    </ResponsiveContainer>\r\n                                ) : <div className=\"flex-1 bg-gray-800/20 rounded animate-pulse\" />}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Sidebar Stats (1/3 width) */}\r\n                    <div className=\"space-y-6\">\r\n                        {/* Key Stats Grid */}\r\n                        <div className=\"bg-gray-800/30 rounded-xl p-6 border border-gray-800\">\r\n                            <h3 className=\"text-sm font-medium text-gray-400 mb-4 flex items-center gap-2\">\r\n                                <BarChart2 className=\"w-4 h-4\" /> Market Stats\r\n                            </h3>\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <div className=\"text-xs text-gray-500\">Day High</div>\r\n                                    <div className=\"font-mono text-white\">₹{stock.day_high.toFixed(2)}</div>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"text-xs text-gray-500\">Day Low</div>\r\n                                    <div className=\"font-mono text-white\">₹{stock.day_low.toFixed(2)}</div>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"text-xs text-gray-500\">Prev Close</div>\r\n                                    <div className=\"font-mono text-white\">₹{stock.previous_close.toFixed(2)}</div>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"text-xs text-gray-500\">Volume</div>\r\n                                    <div className=\"font-mono text-white\">{(stock.volume / 1000000).toFixed(2)}M</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Technical Summary */}\r\n                        <div className=\"bg-gray-800/30 rounded-xl p-6 border border-gray-800\">\r\n                            <h3 className=\"text-sm font-medium text-gray-400 mb-4\">Technical Summary</h3>\r\n                            <div className=\"space-y-4\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <span className=\"text-sm text-gray-400\">Trend</span>\r\n                                    <span className={`px-2 py-1 rounded text-xs font-medium uppercase ${stock.indicators.trend === 'uptrend' ? 'bg-green-500/10 text-green-500' :\r\n                                            stock.indicators.trend === 'downtrend' ? 'bg-red-500/10 text-red-500' : 'bg-gray-500/10 text-gray-400'\r\n                                        }`}>{stock.indicators.trend}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <span className=\"text-sm text-gray-400\">RSI Status</span>\r\n                                    <span className={`text-sm font-medium ${stock.indicators.rsi_status === 'overbought' ? 'text-red-400' :\r\n                                            stock.indicators.rsi_status === 'oversold' ? 'text-green-400' : 'text-gray-300'\r\n                                        }`}>{stock.indicators.rsi_status.replace('_', ' ')}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <span className=\"text-sm text-gray-400\">MACD Signal</span>\r\n                                    <span className={`text-sm font-medium ${stock.indicators.macd_status.includes('bullish') ? 'text-green-400' :\r\n                                            stock.indicators.macd_status.includes('bearish') ? 'text-red-400' : 'text-gray-300'\r\n                                        }`}>{stock.indicators.macd_status.replace('_', ' ')}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Strength Meter */}\r\n                        <div className=\"bg-gray-800/30 rounded-xl p-6 border border-gray-800\">\r\n                            <h3 className=\"text-sm font-medium text-gray-400 mb-4\">Market Sentiment</h3>\r\n                            <div className=\"flex justify-between text-xs mb-2\">\r\n                                <span className=\"text-green-400\">Buyers {stock.indicators.buyer_strength_score}%</span>\r\n                                <span className=\"text-red-400\">Sellers {stock.indicators.seller_strength_score}%</span>\r\n                            </div>\r\n                            <div className=\"w-full h-2 bg-gray-700 rounded-full overflow-hidden flex mb-2\">\r\n                                <div className=\"bg-green-500 h-full transition-all duration-500\" style={{ width: `${stock.indicators.buyer_strength_score}%` }} />\r\n                                <div className=\"bg-red-500 h-full transition-all duration-500\" style={{ width: `${stock.indicators.seller_strength_score}%` }} />\r\n                            </div>\r\n                            <div className=\"text-center text-sm font-medium text-white\">\r\n                                {stock.indicators.strength_label}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1130, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/StocksTable.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Stock, useWatchlist, useToggleWatchlist } from \"@/hooks/useStocks\";\r\nimport { ArrowDown, ArrowUp, Minus, Star, Filter, X } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useState } from \"react\";\r\nimport StockDetailModal from \"./StockDetailModal\";\r\n\r\ninterface StocksTableProps {\r\n    stocks: Stock[];\r\n    isLoading: boolean;\r\n    onSort: (key: string) => void;\r\n    sortConfig: { key: string; direction: \"asc\" | \"desc\" };\r\n    simpleMode?: boolean;\r\n    onFilter?: (key: string, value: string | null) => void;\r\n    activeFilters?: Record<string, string>;\r\n}\r\n\r\nexport default function StocksTable({ stocks, isLoading, onSort, sortConfig, simpleMode = false, onFilter, activeFilters = {} }: StocksTableProps) {\r\n    const [selectedStock, setSelectedStock] = useState<Stock | null>(null);\r\n    const [displayCount, setDisplayCount] = useState(50);\r\n    const [openFilter, setOpenFilter] = useState<string | null>(null);\r\n\r\n    const { data: watchlist } = useWatchlist();\r\n    const { mutate: toggleWatchlist } = useToggleWatchlist();\r\n\r\n    const isInWatchlist = (symbol: string) => {\r\n        return watchlist?.some(s => s.symbol === symbol);\r\n    };\r\n\r\n    const handleToggleWatchlist = (symbol: string) => {\r\n        const action = isInWatchlist(symbol) ? \"remove\" : \"add\";\r\n        toggleWatchlist({ symbol, action });\r\n    };\r\n\r\n    const handleLoadMore = () => {\r\n        setDisplayCount(prev => prev + 50);\r\n    };\r\n\r\n    const displayedStocks = stocks.slice(0, displayCount);\r\n\r\n    const FilterDropdown = ({ columnKey, options }: { columnKey: string, options: { label: string, value: string }[] }) => {\r\n        if (openFilter !== columnKey) return null;\r\n        return (\r\n            <div className=\"absolute top-full right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-xl z-50\">\r\n                <div className=\"p-2 space-y-1\">\r\n                    <button\r\n                        className={cn(\"w-full text-left px-3 py-2 rounded hover:bg-gray-700 text-sm\", !activeFilters[columnKey] && \"bg-blue-900/30 text-blue-400\")}\r\n                        onClick={() => {\r\n                            onFilter?.(columnKey, null);\r\n                            setOpenFilter(null);\r\n                        }}\r\n                    >\r\n                        All\r\n                    </button>\r\n                    {options.map(opt => (\r\n                        <button\r\n                            key={opt.value}\r\n                            className={cn(\"w-full text-left px-3 py-2 rounded hover:bg-gray-700 text-sm\", activeFilters[columnKey] === opt.value && \"bg-blue-900/30 text-blue-400\")}\r\n                            onClick={() => {\r\n                                onFilter?.(columnKey, opt.value);\r\n                                setOpenFilter(null);\r\n                            }}\r\n                        >\r\n                            {opt.label}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (isLoading) {\r\n        return <div className=\"text-center py-20 text-gray-500\">Loading market data...</div>;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"overflow-x-auto rounded-lg border border-gray-800 bg-gray-900/50 min-h-[600px]\">\r\n                <table className=\"w-full text-sm text-left relative\">\r\n                    <thead className=\"text-xs text-gray-400 uppercase bg-gray-800/50 sticky top-0 z-20 backdrop-blur-sm\">\r\n                        <tr>\r\n                            {!simpleMode && (\r\n                                <th\r\n                                    className={cn(\"px-4 py-3 cursor-pointer transition-colors hover:bg-gray-800\", sortConfig.key === \"rank\" ? \"text-blue-400\" : \"text-gray-400 hover:text-white\")}\r\n                                    onClick={() => onSort(\"rank\")}\r\n                                >\r\n                                    <div className=\"flex items-center gap-1\">\r\n                                        Rank\r\n                                        {sortConfig.key === \"rank\" && (sortConfig.direction === \"asc\" ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />)}\r\n                                    </div>\r\n                                </th>\r\n                            )}\r\n                            <th className=\"px-4 py-3\">Symbol</th>\r\n                            <th\r\n                                className={cn(\"px-4 py-3 cursor-pointer transition-colors hover:bg-gray-800\", sortConfig.key === \"current_price\" ? \"text-blue-400\" : \"text-gray-400 hover:text-white\")}\r\n                                onClick={() => onSort(\"current_price\")}\r\n                            >\r\n                                <div className=\"flex items-center gap-1\">\r\n                                    Price\r\n                                    {sortConfig.key === \"current_price\" && (sortConfig.direction === \"asc\" ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />)}\r\n                                </div>\r\n                            </th>\r\n                            {!simpleMode && (\r\n                                <th\r\n                                    className={cn(\"px-4 py-3 cursor-pointer transition-colors hover:bg-gray-800\", sortConfig.key === \"current_change_pct\" ? \"text-blue-400\" : \"text-gray-400 hover:text-white\")}\r\n                                    onClick={() => onSort(\"current_change_pct\")}\r\n                                >\r\n                                    <div className=\"flex items-center gap-1\">\r\n                                        Change % (Current)\r\n                                        {sortConfig.key === \"current_change_pct\" && (sortConfig.direction === \"asc\" ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />)}\r\n                                    </div>\r\n                                </th>\r\n                            )}\r\n                            {!simpleMode && (\r\n                                <>\r\n                                    <th\r\n                                        className={cn(\"px-4 py-3 text-xs cursor-pointer transition-colors hover:bg-gray-800\", sortConfig.key === \"day_1_change_pct\" ? \"text-blue-400\" : \"text-gray-500 hover:text-white\")}\r\n                                        onClick={() => onSort(\"day_1_change_pct\")}\r\n                                    >\r\n                                        <div className=\"flex items-center gap-1\">\r\n                                            Day 1 % (P)\r\n                                            {sortConfig.key === \"day_1_change_pct\" && (sortConfig.direction === \"asc\" ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />)}\r\n                                        </div>\r\n                                    </th>\r\n                                    <th\r\n                                        className={cn(\"px-4 py-3 text-xs cursor-pointer transition-colors hover:bg-gray-800\", sortConfig.key === \"day_2_change_pct\" ? \"text-blue-400\" : \"text-gray-500 hover:text-white\")}\r\n                                        onClick={() => onSort(\"day_2_change_pct\")}\r\n                                    >\r\n                                        <div className=\"flex items-center gap-1\">\r\n                                            Day 2 % (P)\r\n                                            {sortConfig.key === \"day_2_change_pct\" && (sortConfig.direction === \"asc\" ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />)}\r\n                                        </div>\r\n                                    </th>\r\n                                    <th\r\n                                        className={cn(\"px-4 py-3 text-xs cursor-pointer transition-colors hover:bg-gray-800\", sortConfig.key === \"day_3_change_pct\" ? \"text-blue-400\" : \"text-gray-500 hover:text-white\")}\r\n                                        onClick={() => onSort(\"day_3_change_pct\")}\r\n                                    >\r\n                                        <div className=\"flex items-center gap-1\">\r\n                                            Day 3 % (P)\r\n                                            {sortConfig.key === \"day_3_change_pct\" && (sortConfig.direction === \"asc\" ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />)}\r\n                                        </div>\r\n                                    </th>\r\n                                </>\r\n                            )}\r\n                            <th\r\n                                className={cn(\"px-4 py-3 cursor-pointer transition-colors hover:bg-gray-800\", sortConfig.key === \"avg_3_day_change_pct\" ? \"text-blue-400\" : \"text-gray-400 hover:text-white\")}\r\n                                onClick={() => onSort(\"avg_3_day_change_pct\")}\r\n                            >\r\n                                <div className=\"flex items-center gap-1\">\r\n                                    3-Day Avg %\r\n                                    {sortConfig.key === \"avg_3_day_change_pct\" && (sortConfig.direction === \"asc\" ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />)}\r\n                                </div>\r\n                            </th>\r\n                            {!simpleMode && (\r\n                                <>\r\n                                    <th className=\"px-4 py-3 relative\">\r\n                                        <div className=\"flex items-center justify-between gap-2\">\r\n                                            <span>Indicators</span>\r\n                                            <div className=\"flex gap-1\">\r\n                                                <button\r\n                                                    onClick={() => setOpenFilter(openFilter === \"macd_status\" ? null : \"macd_status\")}\r\n                                                    className={cn(\"p-1 rounded hover:bg-gray-700\", activeFilters[\"macd_status\"] ? \"text-blue-400\" : \"text-gray-500\")}\r\n                                                    title=\"Filter MACD\"\r\n                                                >\r\n                                                    <span className=\"text-[10px] font-bold\">M</span>\r\n                                                    <Filter className=\"w-3 h-3 inline ml-0.5\" />\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => setOpenFilter(openFilter === \"rsi_zone\" ? null : \"rsi_zone\")}\r\n                                                    className={cn(\"p-1 rounded hover:bg-gray-700\", activeFilters[\"rsi_zone\"] ? \"text-blue-400\" : \"text-gray-500\")}\r\n                                                    title=\"Filter RSI\"\r\n                                                >\r\n                                                    <span className=\"text-[10px] font-bold\">R</span>\r\n                                                    <Filter className=\"w-3 h-3 inline ml-0.5\" />\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                        <FilterDropdown\r\n                                            columnKey=\"macd_status\"\r\n                                            options={[\r\n                                                { label: \"Above Zero (Bullish)\", value: \"above_zero\" },\r\n                                                { label: \"Below Zero (Bearish)\", value: \"below_zero\" },\r\n                                                { label: \"Near Zero (Neutral)\", value: \"near_zero\" },\r\n                                            ]}\r\n                                        />\r\n                                        <FilterDropdown\r\n                                            columnKey=\"rsi_zone\"\r\n                                            options={[\r\n                                                { label: \"Overbought (>70)\", value: \"overbought\" },\r\n                                                { label: \"Oversold (<30)\", value: \"oversold\" },\r\n                                                { label: \"Neutral (30-70)\", value: \"neutral\" },\r\n                                            ]}\r\n                                        />\r\n                                    </th>\r\n                                    <th className=\"px-4 py-3 relative\">\r\n                                        <div className=\"flex items-center justify-between gap-2\">\r\n                                            <span\r\n                                                className={cn(\"cursor-pointer transition-colors hover:text-white\", sortConfig.key === \"buyer_strength_score\" ? \"text-blue-400\" : \"text-gray-400\")}\r\n                                                onClick={() => onSort(\"buyer_strength_score\")}\r\n                                            >\r\n                                                Strength\r\n                                            </span>\r\n                                            <button\r\n                                                onClick={() => setOpenFilter(openFilter === \"strength\" ? null : \"strength\")}\r\n                                                className={cn(\"p-1 rounded hover:bg-gray-700\", activeFilters[\"strength\"] ? \"text-blue-400\" : \"text-gray-500\")}\r\n                                            >\r\n                                                <Filter className=\"w-3 h-3\" />\r\n                                            </button>\r\n                                        </div>\r\n                                        <FilterDropdown\r\n                                            columnKey=\"strength\"\r\n                                            options={[\r\n                                                { label: \"Buyers Dominating\", value: \"buyers\" },\r\n                                                { label: \"Sellers Dominating\", value: \"sellers\" },\r\n                                                { label: \"Balanced\", value: \"balanced\" },\r\n                                            ]}\r\n                                        />\r\n                                    </th>\r\n                                    <th className=\"px-4 py-3 text-right\">Action</th>\r\n                                </>\r\n                            )}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-800\">\r\n                        {displayedStocks.map((stock) => (\r\n                            <tr\r\n                                key={stock.symbol}\r\n                                className=\"hover:bg-gray-800/50 transition-colors group cursor-pointer\"\r\n                                onClick={() => setSelectedStock(stock)}\r\n                            >\r\n                                {!simpleMode && <td className=\"px-4 py-3 font-medium text-gray-300\">#{stock.rank}</td>}\r\n                                <td className=\"px-4 py-3\">\r\n                                    <div className=\"font-bold text-white\">{stock.symbol}</div>\r\n                                    <div className=\"text-xs text-gray-500\">{stock.name || stock.symbol}</div>\r\n                                </td>\r\n                                <td className=\"px-4 py-3 font-mono text-white\">₹{stock.current_price.toFixed(2)}</td>\r\n                                {!simpleMode && (\r\n                                    <td className={cn(\"px-4 py-3 font-medium\",\r\n                                        stock.current_change_pct > 0 ? \"text-green-500\" : stock.current_change_pct < 0 ? \"text-red-500\" : \"text-gray-400\"\r\n                                    )}>\r\n                                        <div className=\"flex items-center gap-1\">\r\n                                            {stock.current_change_pct > 0 ? <ArrowUp className=\"w-3 h-3\" /> : stock.current_change_pct < 0 ? <ArrowDown className=\"w-3 h-3\" /> : <Minus className=\"w-3 h-3\" />}\r\n                                            {stock.current_change_pct.toFixed(2)}%\r\n                                        </div>\r\n                                    </td>\r\n                                )}\r\n                                {!simpleMode && (\r\n                                    <>\r\n                                        <td className={cn(\"px-4 py-3 text-xs\", stock.history.day_1_change_pct > 0 ? \"text-green-500\" : \"text-red-500\")}>\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                {stock.history.day_1_change_pct > 0 ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />}\r\n                                                {stock.history.day_1_change_pct.toFixed(2)}%\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className={cn(\"px-4 py-3 text-xs\", stock.history.day_2_change_pct > 0 ? \"text-green-500\" : \"text-red-500\")}>\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                {stock.history.day_2_change_pct > 0 ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />}\r\n                                                {stock.history.day_2_change_pct.toFixed(2)}%\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className={cn(\"px-4 py-3 text-xs\", stock.history.day_3_change_pct > 0 ? \"text-green-500\" : \"text-red-500\")}>\r\n                                            <div className=\"flex items-center gap-1\">\r\n                                                {stock.history.day_3_change_pct > 0 ? <ArrowUp className=\"w-3 h-3\" /> : <ArrowDown className=\"w-3 h-3\" />}\r\n                                                {stock.history.day_3_change_pct.toFixed(2)}%\r\n                                            </div>\r\n                                        </td>\r\n                                    </>\r\n                                )}\r\n                                <td className={cn(\"px-4 py-3 font-medium\",\r\n                                    Math.abs(stock.history.avg_3_day_change_pct) < 0.01 ? \"text-blue-400\" :\r\n                                        stock.history.avg_3_day_change_pct > 0 ? \"text-green-400\" : \"text-red-400\"\r\n                                )}>\r\n                                    <div className=\"flex items-center gap-1\">\r\n                                        {stock.history.avg_3_day_change_pct > 0 ? <ArrowUp className=\"w-3 h-3\" /> : stock.history.avg_3_day_change_pct < 0 ? <ArrowDown className=\"w-3 h-3\" /> : <Minus className=\"w-3 h-3\" />}\r\n                                        {stock.history.avg_3_day_change_pct.toFixed(2)}%\r\n                                    </div>\r\n                                </td>\r\n                                {!simpleMode && (\r\n                                    <>\r\n                                        <td className=\"px-4 py-3\">\r\n                                            <div className=\"flex flex-col gap-1 text-xs\">\r\n                                                <span className={cn(\r\n                                                    stock.indicators.macd_status === \"above_zero\" ? \"text-green-500\" :\r\n                                                        stock.indicators.macd_status === \"below_zero\" ? \"text-red-500\" : \"text-gray-400\"\r\n                                                )}>\r\n                                                    MACD: {stock.indicators.macd_status.replace(\"_\", \" \")}\r\n                                                </span>\r\n                                                <span className={cn(\r\n                                                    stock.indicators.rsi_status === \"overbought\" ? \"text-red-400\" :\r\n                                                        stock.indicators.rsi_status === \"oversold\" ? \"text-green-400\" : \"text-gray-400\"\r\n                                                )}>\r\n                                                    RSI: {stock.indicators.rsi_status} ({stock.indicators.rsi_value?.toFixed(0)})\r\n                                                </span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3\">\r\n                                            <div className=\"w-24 h-2 bg-gray-700 rounded-full overflow-hidden flex\">\r\n                                                <div className=\"bg-green-500 h-full\" style={{ width: `${stock.indicators.buyer_strength_score}%` }} />\r\n                                                <div className=\"bg-red-500 h-full\" style={{ width: `${stock.indicators.seller_strength_score}%` }} />\r\n                                            </div>\r\n                                            <div className=\"text-xs mt-1 text-gray-400 capitalize\">{stock.indicators.strength_label}</div>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-3 text-right\">\r\n\r\n                                            <button\r\n                                                className=\"p-2 hover:bg-gray-700 rounded-full transition-colors text-gray-400 hover:text-yellow-500\"\r\n                                                onClick={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    handleToggleWatchlist(stock.symbol);\r\n                                                }}\r\n                                            >\r\n                                                <Star className={cn(\"w-4 h-4\", isInWatchlist(stock.symbol) ? \"fill-yellow-500 text-yellow-500\" : \"\")} />\r\n                                            </button>\r\n                                        </td>\r\n                                    </>\r\n                                )}\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            {!simpleMode && stocks.length > displayCount && (\r\n                <div className=\"mt-4 flex justify-center\">\r\n                    <button\r\n                        onClick={handleLoadMore}\r\n                        className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full text-sm font-medium transition-colors\"\r\n                    >\r\n                        Load More Stocks\r\n                    </button>\r\n                </div>\r\n            )}\r\n\r\n            <StockDetailModal\r\n                stock={selectedStock}\r\n                onClose={() => setSelectedStock(null)}\r\n            />\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2085, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/components/FiltersPanel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Search, X } from \"lucide-react\";\r\n\r\ninterface FiltersPanelProps {\r\n    filters: any;\r\n    setFilters: (filters: any) => void;\r\n    onReset?: () => void;\r\n}\r\n\r\nexport default function FiltersPanel({ filters, setFilters, onReset }: FiltersPanelProps) {\r\n    const handleChange = (key: string, value: any) => {\r\n        setFilters({ ...filters, [key]: value });\r\n    };\r\n\r\n    const clearFilters = () => {\r\n        if (onReset) {\r\n            onReset();\r\n        } else {\r\n            setFilters({});\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"w-full md:w-64 flex-shrink-0 bg-gray-900/50 border border-gray-800 rounded-lg p-4 h-fit sticky top-24\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n                <h2 className=\"font-bold text-lg text-white\">Filters</h2>\r\n                <button\r\n                    onClick={clearFilters}\r\n                    className=\"px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 border border-red-500/20 rounded hover:bg-red-500/20 transition-colors\"\r\n                >\r\n                    Reset Filters\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n                {/* Search */}\r\n                <div>\r\n                    <label className=\"text-xs text-gray-400 mb-1 block\">Search</label>\r\n                    <div className=\"relative\">\r\n                        <Search className=\"absolute left-2 top-2.5 w-4 h-4 text-gray-500\" />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Symbol or Name\"\r\n                            className=\"w-full bg-gray-800 border border-gray-700 rounded-md py-2 pl-8 pr-3 text-sm text-white focus:outline-none focus:border-blue-500\"\r\n                            value={filters.search || \"\"}\r\n                            onChange={(e) => handleChange(\"search\", e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Sector */}\r\n                <div>\r\n                    <label className=\"text-xs text-gray-400 mb-1 block\">Sector</label>\r\n                    <select\r\n                        className=\"w-full bg-gray-800 border border-gray-700 rounded-md py-2 px-3 text-sm text-white focus:outline-none focus:border-blue-500\"\r\n                        value={filters.sector || \"\"}\r\n                        onChange={(e) => handleChange(\"sector\", e.target.value)}\r\n                    >\r\n                        <option value=\"\">All Sectors</option>\r\n                        <option value=\"IT\">IT</option>\r\n                        <option value=\"Financials\">Financials</option>\r\n                        <option value=\"Automobile\">Automobile</option>\r\n                        <option value=\"Pharma\">Pharma</option>\r\n                        <option value=\"Energy\">Energy</option>\r\n                        <option value=\"Metals\">Metals</option>\r\n                        <option value=\"Consumer Goods\">Consumer Goods</option>\r\n                        <option value=\"Construction\">Construction</option>\r\n                        <option value=\"Telecom\">Telecom</option>\r\n                        <option value=\"Services\">Services</option>\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Price Range */}\r\n                <div>\r\n                    <label className=\"text-xs text-gray-400 mb-1 block\">Price Range</label>\r\n                    <div className=\"flex gap-2\">\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Min\"\r\n                            className=\"w-1/2 bg-gray-800 border border-gray-700 rounded-md py-2 px-2 text-sm text-white focus:outline-none focus:border-blue-500\"\r\n                            value={filters.min_price || \"\"}\r\n                            onChange={(e) => handleChange(\"min_price\", e.target.value)}\r\n                        />\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Max\"\r\n                            className=\"w-1/2 bg-gray-800 border border-gray-700 rounded-md py-2 px-2 text-sm text-white focus:outline-none focus:border-blue-500\"\r\n                            value={filters.max_price || \"\"}\r\n                            onChange={(e) => handleChange(\"max_price\", e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 3-Day Avg Change */}\r\n                <div>\r\n                    <label className=\"text-xs text-gray-400 mb-1 block\">3-Day Avg Change %</label>\r\n                    <div className=\"flex gap-2\">\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Min %\"\r\n                            className=\"w-1/2 bg-gray-800 border border-gray-700 rounded-md py-2 px-2 text-sm text-white focus:outline-none focus:border-blue-500\"\r\n                            value={filters.min_avg_3day_pct || \"\"}\r\n                            onChange={(e) => handleChange(\"min_avg_3day_pct\", e.target.value)}\r\n                        />\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Max %\"\r\n                            className=\"w-1/2 bg-gray-800 border border-gray-700 rounded-md py-2 px-2 text-sm text-white focus:outline-none focus:border-blue-500\"\r\n                            value={filters.max_avg_3day_pct || \"\"}\r\n                            onChange={(e) => handleChange(\"max_avg_3day_pct\", e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Toggles */}\r\n                <div className=\"space-y-2 pt-2\">\r\n                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            className=\"rounded bg-gray-800 border-gray-700 text-blue-500 focus:ring-0\"\r\n                            checked={filters.constant_only || false}\r\n                            onChange={(e) => handleChange(\"constant_only\", e.target.checked)}\r\n                        />\r\n                        <span className=\"text-sm text-gray-300\">Constant Price Only</span>\r\n                    </label>\r\n                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            className=\"rounded bg-gray-800 border-gray-700 text-blue-500 focus:ring-0\"\r\n                            checked={filters.gainers_only || false}\r\n                            onChange={(e) => handleChange(\"gainers_only\", e.target.checked)}\r\n                        />\r\n                        <span className=\"text-sm text-gray-300\">Gainers Only</span>\r\n                    </label>\r\n                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            className=\"rounded bg-gray-800 border-gray-700 text-blue-500 focus:ring-0\"\r\n                            checked={filters.losers_only || false}\r\n                            onChange={(e) => handleChange(\"losers_only\", e.target.checked)}\r\n                        />\r\n                        <span className=\"text-sm text-gray-300\">Losers Only</span>\r\n                    </label>\r\n                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            className=\"rounded bg-gray-800 border-gray-700 text-blue-500 focus:ring-0\"\r\n                            checked={filters.high_volume_only || false}\r\n                            onChange={(e) => handleChange(\"high_volume_only\", e.target.checked)}\r\n                        />\r\n                        <span className=\"text-sm text-gray-300\">High Volume Only</span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2532, "column": 0}, "map": {"version":3,"sources":["file:///E:/Mr%20Aakash/frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport StocksTable from \"@/components/StocksTable\";\r\nimport FiltersPanel from \"@/components/FiltersPanel\";\r\nimport { useStocks } from \"@/hooks/useStocks\";\r\n\r\nexport default function Home() {\r\n  const [filters, setFilters] = useState<any>({});\r\n  const [activeFilters, setActiveFilters] = useState<Record<string, string>>({});\r\n  const [sortConfig, setSortConfig] = useState<{ key: string; direction: \"asc\" | \"desc\" }>({ key: \"avg_3_day_change_pct\", direction: \"desc\" });\r\n\r\n  // Merge sort and active header filters into main filters for API\r\n  const queryFilters = {\r\n    ...filters,\r\n    ...activeFilters,\r\n    sort_by: sortConfig.key,\r\n    sort_dir: sortConfig.direction,\r\n  };\r\n\r\n  const { data: stocks, isLoading, error } = useStocks(queryFilters);\r\n\r\n  const handleSort = (key: string) => {\r\n    setSortConfig((current) => ({\r\n      key,\r\n      direction: current.key === key && current.direction === \"desc\" ? \"asc\" : \"desc\",\r\n    }));\r\n  };\r\n\r\n  const handleHeaderFilter = (key: string, value: string | null) => {\r\n    setActiveFilters(prev => {\r\n      const next = { ...prev };\r\n      if (value === null) {\r\n        delete next[key];\r\n      } else {\r\n        next[key] = value;\r\n      }\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setFilters({});\r\n    setActiveFilters({});\r\n    setSortConfig({ key: \"avg_3_day_change_pct\", direction: \"desc\" });\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col md:flex-row gap-6\">\r\n      <FiltersPanel filters={filters} setFilters={setFilters} onReset={handleReset} />\r\n\r\n      <div className=\"flex-1 min-w-0\">\r\n        <div className=\"mb-4 flex items-center justify-between\">\r\n          <h1 className=\"text-2xl font-bold text-white\">F&O Stocks Analysis</h1>\r\n          <div className=\"text-sm text-gray-400\">\r\n            {stocks?.length || 0} stocks found\r\n          </div>\r\n        </div>\r\n\r\n        {error ? (\r\n          <div className=\"p-4 bg-red-900/50 border border-red-800 rounded-lg text-red-200\">\r\n            Error loading data: {(error as Error).message}. Ensure backend is running on port 8000.\r\n          </div>\r\n        ) : (\r\n          <StocksTable\r\n            stocks={stocks || []}\r\n            isLoading={isLoading}\r\n            onSort={handleSort}\r\n            sortConfig={sortConfig}\r\n            onFilter={handleHeaderFilter}\r\n            activeFilters={activeFilters}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAM,CAAC;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAyB,CAAC;IAC5E,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAA6C;QAAE,KAAK;QAAwB,WAAW;IAAO;IAE1I,iEAAiE;IACjE,MAAM,eAAe;QACnB,GAAG,OAAO;QACV,GAAG,aAAa;QAChB,SAAS,WAAW,GAAG;QACvB,UAAU,WAAW,SAAS;IAChC;IAEA,MAAM,EAAE,MAAM,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,yIAAS,EAAC;IAErD,MAAM,aAAa,CAAC;QAClB,cAAc,CAAC,UAAY,CAAC;gBAC1B;gBACA,WAAW,QAAQ,GAAG,KAAK,OAAO,QAAQ,SAAS,KAAK,SAAS,QAAQ;YAC3E,CAAC;IACH;IAEA,MAAM,qBAAqB,CAAC,KAAa;QACvC,iBAAiB,CAAA;YACf,MAAM,OAAO;gBAAE,GAAG,IAAI;YAAC;YACvB,IAAI,UAAU,MAAM;gBAClB,OAAO,IAAI,CAAC,IAAI;YAClB,OAAO;gBACL,IAAI,CAAC,IAAI,GAAG;YACd;YACA,OAAO;QACT;IACF;IAEA,MAAM,cAAc;QAClB,WAAW,CAAC;QACZ,iBAAiB,CAAC;QAClB,cAAc;YAAE,KAAK;YAAwB,WAAW;QAAO;IACjE;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,gJAAY;gBAAC,SAAS;gBAAS,YAAY;gBAAY,SAAS;;;;;;0BAEjE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAgC;;;;;;0CAC9C,6LAAC;gCAAI,WAAU;;oCACZ,QAAQ,UAAU;oCAAE;;;;;;;;;;;;;oBAIxB,sBACC,6LAAC;wBAAI,WAAU;;4BAAkE;4BACzD,MAAgB,OAAO;4BAAC;;;;;;6CAGhD,6LAAC,+IAAW;wBACV,QAAQ,UAAU,EAAE;wBACpB,WAAW;wBACX,QAAQ;wBACR,YAAY;wBACZ,UAAU;wBACV,eAAe;;;;;;;;;;;;;;;;;;AAM3B;GArEwB;;QAaqB,yIAAS;;;KAb9B"}}]
}