(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7524,e=>{"use strict";var t=e.i(43476),r=e.i(93613),s=e.i(25063),a=e.i(75558);let n=(0,e.i(75254).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var i=e.i(70273),l=e.i(21218),o=e.i(39312),d=e.i(75157),c=e.i(71645),u=e.i(18566),h=e.i(4300),x=e.i(72806),y=e.i(95116),p=e.i(79865);function m({stocks:e,isLoading:m,simpleMode:g=!1,variant:b="card",marketHeaders:v}){let f=(0,u.useRouter)(),[j,w]=(0,c.useState)(50),k={current:v?.current||"Today Change",p1:v?.p1||"Past Day 1 %",p2:v?.p2||"Past Day 2 %",p3:v?.p3||"Past Day 3 %"},[N,_]=(0,c.useState)({}),[S,C]=(0,c.useState)({key:"current_change",direction:"desc"}),{data:F}=(0,r.useWatchlist)(),{mutate:L}=(0,r.useToggleWatchlist)(),M=e=>F?.some(t=>t.symbol===e),A=(e,t)=>{_(r=>{let s={...r};return null===t?delete s[e]:s[e]=t,s})},D=(e,t)=>{C({key:e,direction:t})},R=(0,c.useMemo)(()=>e?(0,x.applyColumnFilters)(e,N).sort((e,t)=>{let{key:r,direction:s}=S;if("history.avg_3day"===r){let r=Math.abs(e.history?.avg_3day||0),a=Math.abs(t.history?.avg_3day||0);return r<a?"asc"===s?-1:1:r>a?"asc"===s?1:-1:0}let a=(e,t)=>t.split(".").reduce((e,t)=>e?.[t],e),n=a(e,r),i=a(t,r);return null==n?1:null==i?-1:n<i?"asc"===s?-1:1:n>i?"asc"===s?1:-1:0}):[],[e,N,S]),O=R.slice(0,j);return m?(0,t.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,r)=>(0,t.jsx)("div",{className:"h-16 bg-gray-100 dark:bg-slate-800 rounded-lg animate-pulse"},r))}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:(0,d.cn)("w-full overflow-x-auto min-h-[600px]","rounded-2xl border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-sm dark:shadow-md"),children:(0,t.jsxs)("table",{className:"min-w-full table-auto border-separate border-spacing-y-1 text-sm text-left relative",children:[(0,t.jsx)("thead",{className:"text-xs uppercase bg-gray-50 dark:bg-slate-800 text-gray-500 dark:text-gray-400 font-semibold tracking-wider",children:(0,t.jsxs)("tr",{children:[!g&&(0,t.jsx)("th",{className:"px-3 py-2 w-12 text-center sticky left-0 z-30 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",children:"Rank"}),(0,t.jsx)("th",{className:(0,d.cn)("px-3 py-2 w-40 sticky z-30 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",g?"left-0":"left-12"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{children:"Symbol"}),(0,t.jsx)(h.default,{columnKey:"symbol",title:"Symbol",type:"text",options:e.length?(0,y.getUniqueValues)(e,"symbol"):[],onFilter:e=>A("symbol",e),currentFilter:N.symbol||null,onSort:e=>D("symbol",e),sortDirection:"symbol"===S.key?S.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-24 text-right border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)("span",{children:"Price"}),(0,t.jsx)(h.default,{columnKey:"current_price",title:"Price",type:"number",onFilter:e=>A("current_price",e),currentFilter:N.current_price||null,onSort:e=>D("current_price",e),sortDirection:"current_price"===S.key?S.direction:null})]})}),!g&&(0,t.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:k.current}),(0,t.jsx)(h.default,{columnKey:"current_change",title:k.current,type:"number",onFilter:e=>A("current_change",e),currentFilter:N.current_change||null,onSort:e=>D("current_change",e),sortDirection:"current_change"===S.key?S.direction:null})]})}),!g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:k.p1}),(0,t.jsx)(h.default,{columnKey:"history.p_day1",title:k.p1,type:"number",onFilter:e=>A("history.p_day1",e),currentFilter:N["history.p_day1"]||null,onSort:e=>D("history.p_day1",e),sortDirection:"history.p_day1"===S.key?S.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:k.p2}),(0,t.jsx)(h.default,{columnKey:"history.p_day2",title:k.p2,type:"number",onFilter:e=>A("history.p_day2",e),currentFilter:N["history.p_day2"]||null,onSort:e=>D("history.p_day2",e),sortDirection:"history.p_day2"===S.key?S.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:k.p3}),(0,t.jsx)(h.default,{columnKey:"history.p_day3",title:k.p3,type:"number",onFilter:e=>A("history.p_day3",e),currentFilter:N["history.p_day3"]||null,onSort:e=>D("history.p_day3",e),sortDirection:"history.p_day3"===S.key?S.direction:null})]})})]}),(0,t.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"3D Avg %"}),(0,t.jsx)(h.default,{columnKey:"history.avg_3day",title:"3D Avg %",type:"number",onFilter:e=>A("history.avg_3day",e),currentFilter:N["history.avg_3day"]||null,onSort:e=>D("history.avg_3day",e),sortDirection:"history.avg_3day"===S.key?S.direction:null})]})}),!g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("th",{className:"px-3 py-2 w-40 text-center border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"Indicators"}),(0,t.jsx)(h.default,{columnKey:"derived.indicatorsList",title:"Indicators",type:"enum",options:["MACD Above","MACD Below","MACD Neutral","RSI Over","RSI Under","RSI Neutral"],onFilter:e=>A("derived.indicatorsList",e),currentFilter:N["derived.indicatorsList"]||null,onSort:e=>D("derived.indicatorsList",e),sortDirection:"derived.indicatorsList"===S.key?S.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-16 text-center border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"M"}),(0,t.jsx)(h.default,{columnKey:"derived.macdLabel",title:"M",type:"enum",options:["Above","Below","Neutral"],onFilter:e=>A("derived.macdLabel",e),currentFilter:N["derived.macdLabel"]||null,onSort:e=>D("derived.macdLabel",e),sortDirection:"derived.macdLabel"===S.key?S.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-16 text-center border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"R"}),(0,t.jsx)(h.default,{columnKey:"derived.rsiLabel",title:"R",type:"enum",options:["Over","Under","Neutral"],onFilter:e=>A("derived.rsiLabel",e),currentFilter:N["derived.rsiLabel"]||null,onSort:e=>D("derived.rsiLabel",e),sortDirection:"derived.rsiLabel"===S.key?S.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-40 text-center border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"Today Strength"}),(0,t.jsx)(h.default,{columnKey:"current_strength",title:"Today Strength",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:e=>A("current_strength",e),currentFilter:N.current_strength||null,onSort:e=>D("current_strength",e),sortDirection:"current_strength"===S.key?S.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-40 text-center border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"3D Avg Str"}),(0,t.jsx)(h.default,{columnKey:"avg_3day_strength",title:"3D Avg Str",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:e=>A("avg_3day_strength",e),currentFilter:N.avg_3day_strength||null,onSort:e=>D("avg_3day_strength",e),sortDirection:"avg_3day_strength"===S.key?S.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-12 text-center border-b border-border",children:"Action"})]})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-border",children:O.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-accent/50 transition-colors group cursor-pointer border-b border-border last:border-0",onClick:()=>{var t;return t=e.symbol,void f.push(`/stocks/${t}`)},children:[!g&&(0,t.jsxs)("td",{className:"px-3 py-2 font-medium text-muted-foreground text-center",children:["#",e.rank]}),(0,t.jsxs)("td",{className:"px-3 py-2 sticky left-0 z-10 bg-card group-hover:bg-accent/50 border-r border-border whitespace-nowrap",children:[(0,t.jsx)("div",{className:"font-bold text-foreground",children:e.symbol}),(0,t.jsx)("div",{className:"text-[10px] text-muted-foreground",children:e.sector})]}),(0,t.jsxs)("td",{className:"px-3 py-2 font-mono text-foreground text-right whitespace-nowrap",children:["â‚¹",e.current_price.toFixed(2)]}),!g&&(0,t.jsx)("td",{className:(0,d.cn)("px-3 py-2 font-medium text-center whitespace-nowrap",(0,y.getPctColor)(e.current_change)),children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[e.current_change>0?(0,t.jsx)(a.ArrowUp,{className:"w-3 h-3"}):e.current_change<0?(0,t.jsx)(s.ArrowDown,{className:"w-3 h-3"}):(0,t.jsx)(n,{className:"w-3 h-3"}),e.current_change?.toFixed(2)||"0.00","%"]})}),!g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("td",{className:(0,d.cn)("px-3 py-2 text-xs text-center whitespace-nowrap",(0,y.getPctColor)(e.history.p_day1)),children:[e.history.p_day1?.toFixed(2)||"-","%"]}),(0,t.jsxs)("td",{className:(0,d.cn)("px-3 py-2 text-xs text-center whitespace-nowrap",(0,y.getPctColor)(e.history.p_day2)),children:[e.history.p_day2?.toFixed(2)||"-","%"]}),(0,t.jsxs)("td",{className:(0,d.cn)("px-3 py-2 text-xs text-center whitespace-nowrap",(0,y.getPctColor)(e.history.p_day3)),children:[e.history.p_day3?.toFixed(2)||"-","%"]})]}),(0,t.jsx)("td",{className:(0,d.cn)("px-3 py-2 font-medium text-center whitespace-nowrap",(0,y.getPctColor)(e.history.avg_3day)),children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[e.history.avg_3day>0?(0,t.jsx)(a.ArrowUp,{className:"w-3 h-3"}):e.history.avg_3day<0?(0,t.jsx)(s.ArrowDown,{className:"w-3 h-3"}):(0,t.jsx)(n,{className:"w-3 h-3"}),e.history.avg_3day?.toFixed(2)||"0.00","%"]})}),!g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-[10px] text-center text-muted-foreground",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5",children:[(0,t.jsxs)("span",{className:(0,d.cn)("Above"===e.derived.macdLabel?"text-green-600 dark:text-green-400":"Below"===e.derived.macdLabel?"text-red-600 dark:text-red-400":"text-muted-foreground"),children:["MACD: ",e.derived.macdLabel]}),(0,t.jsxs)("span",{className:(0,d.cn)("Under"===e.derived.rsiLabel?"text-green-600 dark:text-green-400":"Over"===e.derived.rsiLabel?"text-red-600 dark:text-red-400":"text-muted-foreground"),children:["RSI: ",e.derived.rsiLabel]})]})}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,t.jsx)(l.Activity,{className:(0,d.cn)("w-4 h-4 mx-auto","Above"===e.derived.macdLabel?"text-green-500 dark:text-green-400":"Below"===e.derived.macdLabel?"text-red-500 dark:text-red-400":"text-muted-foreground")})}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,t.jsx)(o.Zap,{className:(0,d.cn)("w-4 h-4 mx-auto","Under"===e.derived.rsiLabel?"text-green-500 dark:text-green-400":"Over"===e.derived.rsiLabel?"text-red-500 dark:text-red-400":"text-blue-400 dark:text-blue-500")})}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,t.jsx)(p.StrengthMeter,{label:e.current_strength})}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,t.jsx)(p.StrengthMeter,{label:e.avg_3day_strength})}),(0,t.jsx)("td",{className:"px-3 py-2 text-center whitespace-nowrap",children:(0,t.jsx)("button",{className:"p-1.5 hover:bg-accent rounded-full transition-colors text-muted-foreground hover:text-yellow-500 dark:hover:text-yellow-400",onClick:t=>{var r;let s;t.stopPropagation(),s=M(r=e.symbol)?"remove":"add",L({symbol:r,action:s})},children:(0,t.jsx)(i.Star,{className:(0,d.cn)("w-4 h-4",M(e.symbol)?"fill-yellow-500 text-yellow-500 dark:text-yellow-400 dark:fill-yellow-400":"")})})})]})]},e.symbol))})]})}),!g&&R.length>j&&(0,t.jsx)("div",{className:"mt-4 flex justify-center",children:(0,t.jsx)("button",{onClick:()=>{w(e=>e+50)},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full text-sm font-medium transition-colors shadow-sm",children:"Load More Stocks"})})]})}e.s(["default",()=>m],7524)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},14595,(e,t,r)=>{"use strict";var s=e.r(71645),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useSyncExternalStore,i=s.useRef,l=s.useEffect,o=s.useMemo,d=s.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,s,c){var u=i(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;var x=n(e,(u=o(function(){function e(e){if(!l){if(l=!0,n=e,e=s(e),void 0!==c&&h.hasValue){var t=h.value;if(c(t,e))return i=t}return i=e}if(t=i,a(n,e))return t;var r=s(e);return void 0!==c&&c(t,r)?(n=e,t):(n=e,i=r)}var n,i,l=!1,o=void 0===r?null:r;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]},[t,r,s,c]))[0],u[1]);return l(function(){h.hasValue=!0,h.value=x},[x]),d(x),x}},13027,(e,t,r)=>{"use strict";t.exports=e.r(14595)},17923,e=>{"use strict";let t=(0,e.i(75254).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>t],17923)},21218,e=>{"use strict";let t=(0,e.i(75254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],21218)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},93613,70273,4300,72806,95116,79865,e=>{"use strict";var t=e.i(66027),r=e.i(71645),s=e.i(14272),a=e.i(40143),n=e.i(15823),i=e.i(19273),l=class extends n.Subscribable{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,i.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,i.hashKey)(t.mutationKey)!==(0,i.hashKey)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#a(),this.#n()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#a(){let e=this.#r?.state??(0,s.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){a.notifyManager.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r,s),this.#s.onSettled?.(e.data,null,t,r,s)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r,s),this.#s.onSettled?.(void 0,e.error,t,r,s))}this.listeners.forEach(e=>{e(this.#t)})})}},o=e.i(12598),d=e.i(81949);let c="http://localhost:8000/api/v1";function u(e){return(0,t.useQuery)({queryKey:["stocks","fno",e],queryFn:async()=>{let t=new URLSearchParams;Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,String(r))});let r=`${c}/stocks/fno`,{data:s}=await d.default.get(r,{params:t});return s},refetchInterval:3e3,staleTime:1e4})}function h(){return(0,t.useQuery)({queryKey:["watchlist"],queryFn:async()=>{let{data:e}=await d.default.get(`${c}/watchlist`);return e},refetchInterval:5e3})}function x(){let e=(0,o.useQueryClient)();return function(e,t){let s=(0,o.useQueryClient)(void 0),[n]=r.useState(()=>new l(s,e));r.useEffect(()=>{n.setOptions(e)},[n,e]);let d=r.useSyncExternalStore(r.useCallback(e=>n.subscribe(a.notifyManager.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),c=r.useCallback((e,t)=>{n.mutate(e,t).catch(i.noop)},[n]);if(d.error&&(0,i.shouldThrowError)(n.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:c,mutateAsync:d.mutate}}({mutationFn:async({symbol:e,action:t})=>{let{data:r}=await d.default.post(`${c}/watchlist/`,{symbol:e,action:t});return r},onSuccess:()=>{e.invalidateQueries({queryKey:["watchlist"]})}})}function y(){return(0,t.useQuery)({queryKey:["stocks","gainers-3day"],queryFn:async()=>{let{data:e}=await d.default.get(`${c}/stocks/gainers-3day`);return e},refetchInterval:15e3})}function p(){return(0,t.useQuery)({queryKey:["stocks","losers-3day"],queryFn:async()=>{let{data:e}=await d.default.get(`${c}/stocks/losers-3day`);return e},refetchInterval:15e3})}function m(e){return(0,t.useQuery)({queryKey:["strength-analysis",e],queryFn:async()=>{let t=new URLSearchParams;Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,String(r))});let{data:r}=await d.default.get(`${c}/stocks/strength-analyzer`,{params:t});return r},refetchInterval:15e3})}e.s(["useGainers3Day",()=>y,"useLosers3Day",()=>p,"useStocks",()=>u,"useStrengthAnalysis",()=>m,"useToggleWatchlist",()=>x,"useWatchlist",()=>h],93613);let g=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>g],70273);var b=e.i(43476),v=e.i(25063),f=e.i(75558),j=e.i(47615),w=e.i(55436),k=e.i(37727),N=e.i(75157);function _({columnKey:e,type:t,options:s=[],onFilter:a,currentFilter:n,onSort:i,sortDirection:l,title:o}){let[d,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),[x,y]=(0,r.useState)(n?.selectedValues||s),[p,m]=(0,r.useState)(n?.min?.toString()||""),[g,_]=(0,r.useState)(n?.max?.toString()||""),S=(0,r.useMemo)(()=>u?s.filter(e=>e.toLowerCase().includes(u.toLowerCase())):s,[s,u]);return(0,b.jsxs)("div",{className:"relative inline-block",children:[(0,b.jsx)("button",{onClick:e=>{e.stopPropagation(),c(!d)},className:(0,N.cn)("p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",n||l?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"),title:`Filter ${o}`,children:(0,b.jsx)(j.Filter,{className:"w-3 h-3"})}),d&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-40",onClick:e=>{e.stopPropagation(),c(!1)}}),(0,b.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-xl z-50 flex flex-col max-h-[400px]",onClick:e=>e.stopPropagation(),children:[(0,b.jsxs)("div",{className:"p-3 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:["Filter: ",o]}),(0,b.jsx)("button",{onClick:()=>c(!1),children:(0,b.jsx)(k.X,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"})})]}),(0,b.jsxs)("div",{className:"p-2 border-b border-gray-200 dark:border-slate-700 flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>{i("asc"),c(!1)},className:(0,N.cn)("flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs font-medium transition-colors","asc"===l?"bg-blue-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"),children:[(0,b.jsx)(f.ArrowUp,{className:"w-3 h-3"})," Asc"]}),(0,b.jsxs)("button",{onClick:()=>{i("desc"),c(!1)},className:(0,N.cn)("flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs font-medium transition-colors","desc"===l?"bg-blue-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"),children:[(0,b.jsx)(v.ArrowDown,{className:"w-3 h-3"})," Desc"]})]}),(0,b.jsx)("div",{className:"p-3 flex-1 overflow-y-auto min-h-0",children:"number"===t?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Min Value"}),(0,b.jsx)("input",{type:"number",value:p,onChange:e=>m(e.target.value),className:"w-full bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-sm text-gray-900 dark:text-white focus:border-blue-500 outline-none",placeholder:"Min"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Max Value"}),(0,b.jsx)("input",{type:"number",value:g,onChange:e=>_(e.target.value),className:"w-full bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-sm text-gray-900 dark:text-white focus:border-blue-500 outline-none",placeholder:"Max"})]})]}):(0,b.jsxs)("div",{className:"flex flex-col h-full",children:[(0,b.jsxs)("div",{className:"relative mb-2",children:[(0,b.jsx)(w.Search,{className:"w-3 h-3 absolute left-2 top-2 text-gray-500"}),(0,b.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),className:"w-full bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded pl-7 pr-2 py-1 text-xs text-gray-900 dark:text-white focus:border-blue-500 outline-none",placeholder:"Search..."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-gray-200 dark:border-slate-700",children:[(0,b.jsx)("input",{type:"checkbox",checked:x.length===S.length&&S.length>0,onChange:()=>{x.length===S.length?y([]):y(S)},className:"rounded bg-gray-200 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-blue-600 focus:ring-0"}),(0,b.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"(Select All)"})]}),(0,b.jsx)("div",{className:"space-y-1 overflow-y-auto max-h-[200px]",children:S.map(e=>(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-slate-700/50 p-1 rounded",children:[(0,b.jsx)("input",{type:"checkbox",checked:x.includes(e),onChange:()=>{y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"rounded bg-gray-200 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-blue-600 focus:ring-0"}),(0,b.jsx)("span",{className:"text-xs text-gray-700 dark:text-gray-300 break-all",children:e})]},e))})]})}),(0,b.jsxs)("div",{className:"p-3 border-t border-gray-200 dark:border-slate-700 flex justify-between gap-2",children:[(0,b.jsx)("button",{onClick:()=>{y(s),m(""),_(""),a(null),c(!1)},className:"px-3 py-1.5 text-xs font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Clear"}),(0,b.jsx)("button",{onClick:()=>{if("number"===t){let e=p?parseFloat(p):void 0,r=g?parseFloat(g):void 0;void 0===e&&void 0===r?a(null):a({type:t,min:e,max:r})}else x.length===s.length?a(null):a({type:t,selectedValues:x});c(!1)},className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium transition-colors",children:"Apply"})]})]})]})]})}function S({label:e,buyerScore:t,sellerScore:r}){let s=t,a=r;return(void 0===s||void 0===a)&&("Buyers Dominating"===e||"Buyers"===e?(s=100,a=0):"Sellers Dominating"===e||"Sellers"===e?(s=0,a=100):(s=50,a=50)),(0,b.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,b.jsxs)("div",{className:"flex h-1.5 w-full rounded-full overflow-hidden bg-gray-200 dark:bg-slate-700",children:[(0,b.jsx)("div",{className:"bg-green-500 dark:bg-green-400 h-full transition-all duration-300",style:{width:`${s}%`}}),(0,b.jsx)("div",{className:"bg-red-500 dark:bg-red-400 h-full transition-all duration-300",style:{width:`${a}%`}})]}),(0,b.jsxs)("div",{className:"flex justify-between text-[10px] font-medium leading-none",children:[(0,b.jsx)("span",{className:(0,N.cn)("text-green-600 dark:text-green-400",s>a?"font-bold":"opacity-70"),children:s>a?"Buyers":""}),(0,b.jsx)("span",{className:(0,N.cn)("text-red-600 dark:text-red-400",a>s?"font-bold":"opacity-70"),children:a>s?"Sellers":""}),s===a&&(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Balanced"})]})]})}e.s(["default",()=>_],4300),e.s(["applyColumnFilters",0,(e,t)=>e.filter(e=>Object.entries(t).every(([t,r])=>{let s;if(s=t.split(".").reduce((e,t)=>e?.[t],e),"number"===r.type)return"number"==typeof s&&(void 0===r.min||!(s<r.min))&&(void 0===r.max||!(s>r.max));{if(!r.selectedValues||0===r.selectedValues.length)return!0;if(Array.isArray(s))return s.some(e=>r.selectedValues?.some(t=>String(e).toUpperCase()===t.toUpperCase()));let e=String(s).toUpperCase();return r.selectedValues.some(t=>e.includes(t.toUpperCase()))}})),"enrichStockData",0,e=>e.map(e=>{if(e.derived&&e.derived.indicatorsList)return e;let t="Neutral";e.history.avg_3day>.5?t="Strong Buyers":e.history.avg_3day<-.5&&(t="Strong Sellers");let r=[];return"above"===e.indicators.macd_status&&r.push("MACD Above"),"below"===e.indicators.macd_status&&r.push("MACD Below"),"neutral"===e.indicators.macd_status&&r.push("MACD Neutral"),"overbought"===e.indicators.rsi_zone&&r.push("RSI Over"),"oversold"===e.indicators.rsi_zone&&r.push("RSI Under"),"neutral"===e.indicators.rsi_zone&&r.push("RSI Neutral"),{...e,derived:{strength3D:t,indicatorsList:r,macdLabel:"above"===e.indicators.macd_status?"Above":"below"===e.indicators.macd_status?"Below":"Neutral",rsiLabel:"overbought"===e.indicators.rsi_zone?"Over":"oversold"===e.indicators.rsi_zone?"Under":"Neutral",strengthLabel:"buyers"===e.indicators.strength_label?"Buyers Dominating":"sellers"===e.indicators.strength_label?"Sellers Dominating":"Balanced"}}}),"globalFilter",0,(e,t)=>e&&t?e.filter(e=>{if(t.search){let r=t.search.toLowerCase();if(!e.symbol.toLowerCase().includes(r)&&!e.name?.toLowerCase().includes(r))return!1}return!(t.sector&&e.sector!==t.sector||t.min_price&&e.current_price<Number(t.min_price)||t.max_price&&e.current_price>Number(t.max_price)||t.min_avg_3day_pct&&e.history.avg_3day<Number(t.min_avg_3day_pct)||t.max_avg_3day_pct&&e.history.avg_3day>Number(t.max_avg_3day_pct))&&(!t.constant_only||!!e.flags.is_constant_price)&&(!t.gainers_only||!(e.current_change<=0))&&(!t.losers_only||!(e.current_change>=0))&&(!t.high_volume_only||!!e.flags.is_high_volume)&&(!t.macd_status||e.indicators.macd_status===t.macd_status)&&(!t.rsi_zone||e.indicators.rsi_zone===t.rsi_zone)&&(!t.strength||e.indicators.strength_label===t.strength)&&!0}):e||[]],72806),e.s(["getPctColor",0,e=>e>0?"text-green-600 dark:text-green-400":e<0?"text-red-600 dark:text-red-400":"text-gray-400 dark:text-gray-500","getUniqueValues",0,(e,t)=>{let r=new Set;return e.forEach(e=>{let s=t.split(".").reduce((e,t)=>e?.[t],e);s&&r.add(String(s))}),Array.from(r).sort()}],95116),e.s(["StrengthMeter",()=>S],79865)}]);