(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90092,e=>{"use strict";let t=(0,e.i(75254).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);e.s(["RefreshCcw",()=>t],90092)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},14595,(e,t,r)=>{"use strict";var s=e.r(71645),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useSyncExternalStore,i=s.useRef,l=s.useEffect,d=s.useMemo,o=s.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,s,c){var u=i(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;var y=n(e,(u=d(function(){function e(e){if(!l){if(l=!0,n=e,e=s(e),void 0!==c&&h.hasValue){var t=h.value;if(c(t,e))return i=t}return i=e}if(t=i,a(n,e))return t;var r=s(e);return void 0!==c&&c(t,r)?(n=e,t):(n=e,i=r)}var n,i,l=!1,d=void 0===r?null:r;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]},[t,r,s,c]))[0],u[1]);return l(function(){h.hasValue=!0,h.value=y},[y]),o(y),y}},13027,(e,t,r)=>{"use strict";t.exports=e.r(14595)},17923,e=>{"use strict";let t=(0,e.i(75254).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>t],17923)},21218,e=>{"use strict";let t=(0,e.i(75254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],21218)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},93613,70273,4300,72806,95116,79865,e=>{"use strict";var t=e.i(66027),r=e.i(71645),s=e.i(14272),a=e.i(40143),n=e.i(15823),i=e.i(19273),l=class extends n.Subscribable{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,i.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,i.hashKey)(t.mutationKey)!==(0,i.hashKey)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#a(),this.#n()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#a(){let e=this.#r?.state??(0,s.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){a.notifyManager.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r,s),this.#s.onSettled?.(e.data,null,t,r,s)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r,s),this.#s.onSettled?.(void 0,e.error,t,r,s))}this.listeners.forEach(e=>{e(this.#t)})})}},d=e.i(12598),o=e.i(81949);let c="http://localhost:8000/api/v1";function u(e){return(0,t.useQuery)({queryKey:["stocks","fno",e],queryFn:async()=>{let t=new URLSearchParams;Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,String(r))});let r=`${c}/stocks/fno`,{data:s}=await o.default.get(r,{params:t});return s},refetchInterval:3e3,staleTime:1e4})}function h(){return(0,t.useQuery)({queryKey:["watchlist"],queryFn:async()=>{let{data:e}=await o.default.get(`${c}/watchlist`);return e},refetchInterval:5e3})}function y(){let e=(0,d.useQueryClient)();return function(e,t){let s=(0,d.useQueryClient)(void 0),[n]=r.useState(()=>new l(s,e));r.useEffect(()=>{n.setOptions(e)},[n,e]);let o=r.useSyncExternalStore(r.useCallback(e=>n.subscribe(a.notifyManager.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),c=r.useCallback((e,t)=>{n.mutate(e,t).catch(i.noop)},[n]);if(o.error&&(0,i.shouldThrowError)(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}({mutationFn:async({symbol:e,action:t})=>{let{data:r}=await o.default.post(`${c}/watchlist/`,{symbol:e,action:t});return r},onSuccess:()=>{e.invalidateQueries({queryKey:["watchlist"]})}})}function x(){return(0,t.useQuery)({queryKey:["stocks","gainers-3day"],queryFn:async()=>{let{data:e}=await o.default.get(`${c}/stocks/gainers-3day`);return e},refetchInterval:15e3})}function p(){return(0,t.useQuery)({queryKey:["stocks","losers-3day"],queryFn:async()=>{let{data:e}=await o.default.get(`${c}/stocks/losers-3day`);return e},refetchInterval:15e3})}function g(e){return(0,t.useQuery)({queryKey:["strength-analysis",e],queryFn:async()=>{let t=new URLSearchParams;Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,String(r))});let{data:r}=await o.default.get(`${c}/stocks/strength-analyzer`,{params:t});return r},refetchInterval:15e3})}e.s(["useGainers3Day",()=>x,"useLosers3Day",()=>p,"useStocks",()=>u,"useStrengthAnalysis",()=>g,"useToggleWatchlist",()=>y,"useWatchlist",()=>h],93613);let b=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>b],70273);var m=e.i(43476),v=e.i(25063),f=e.i(75558),j=e.i(47615),k=e.i(55436),_=e.i(37727),w=e.i(75157);function N({columnKey:e,type:t,options:s=[],onFilter:a,currentFilter:n,onSort:i,sortDirection:l,title:d}){let[o,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),[y,x]=(0,r.useState)(n?.selectedValues||s),[p,g]=(0,r.useState)(n?.min?.toString()||""),[b,N]=(0,r.useState)(n?.max?.toString()||""),S=(0,r.useMemo)(()=>u?s.filter(e=>e.toLowerCase().includes(u.toLowerCase())):s,[s,u]);return(0,m.jsxs)("div",{className:"relative inline-block",children:[(0,m.jsx)("button",{onClick:e=>{e.stopPropagation(),c(!o)},className:(0,w.cn)("p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",n||l?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"),title:`Filter ${d}`,children:(0,m.jsx)(j.Filter,{className:"w-3 h-3"})}),o&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"fixed inset-0 z-40",onClick:e=>{e.stopPropagation(),c(!1)}}),(0,m.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-xl z-50 flex flex-col max-h-[400px]",onClick:e=>e.stopPropagation(),children:[(0,m.jsxs)("div",{className:"p-3 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[(0,m.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:["Filter: ",d]}),(0,m.jsx)("button",{onClick:()=>c(!1),children:(0,m.jsx)(_.X,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"})})]}),(0,m.jsxs)("div",{className:"p-2 border-b border-gray-200 dark:border-slate-700 flex gap-2",children:[(0,m.jsxs)("button",{onClick:()=>{i("asc"),c(!1)},className:(0,w.cn)("flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs font-medium transition-colors","asc"===l?"bg-blue-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"),children:[(0,m.jsx)(f.ArrowUp,{className:"w-3 h-3"})," Asc"]}),(0,m.jsxs)("button",{onClick:()=>{i("desc"),c(!1)},className:(0,w.cn)("flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs font-medium transition-colors","desc"===l?"bg-blue-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"),children:[(0,m.jsx)(v.ArrowDown,{className:"w-3 h-3"})," Desc"]})]}),(0,m.jsx)("div",{className:"p-3 flex-1 overflow-y-auto min-h-0",children:"number"===t?(0,m.jsxs)("div",{className:"space-y-3",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Min Value"}),(0,m.jsx)("input",{type:"number",value:p,onChange:e=>g(e.target.value),className:"w-full bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-sm text-gray-900 dark:text-white focus:border-blue-500 outline-none",placeholder:"Min"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Max Value"}),(0,m.jsx)("input",{type:"number",value:b,onChange:e=>N(e.target.value),className:"w-full bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-sm text-gray-900 dark:text-white focus:border-blue-500 outline-none",placeholder:"Max"})]})]}):(0,m.jsxs)("div",{className:"flex flex-col h-full",children:[(0,m.jsxs)("div",{className:"relative mb-2",children:[(0,m.jsx)(k.Search,{className:"w-3 h-3 absolute left-2 top-2 text-gray-500"}),(0,m.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),className:"w-full bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded pl-7 pr-2 py-1 text-xs text-gray-900 dark:text-white focus:border-blue-500 outline-none",placeholder:"Search..."})]}),(0,m.jsxs)("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-gray-200 dark:border-slate-700",children:[(0,m.jsx)("input",{type:"checkbox",checked:y.length===S.length&&S.length>0,onChange:()=>{y.length===S.length?x([]):x(S)},className:"rounded bg-gray-200 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-blue-600 focus:ring-0"}),(0,m.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"(Select All)"})]}),(0,m.jsx)("div",{className:"space-y-1 overflow-y-auto max-h-[200px]",children:S.map(e=>(0,m.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-slate-700/50 p-1 rounded",children:[(0,m.jsx)("input",{type:"checkbox",checked:y.includes(e),onChange:()=>{x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"rounded bg-gray-200 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-blue-600 focus:ring-0"}),(0,m.jsx)("span",{className:"text-xs text-gray-700 dark:text-gray-300 break-all",children:e})]},e))})]})}),(0,m.jsxs)("div",{className:"p-3 border-t border-gray-200 dark:border-slate-700 flex justify-between gap-2",children:[(0,m.jsx)("button",{onClick:()=>{x(s),g(""),N(""),a(null),c(!1)},className:"px-3 py-1.5 text-xs font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Clear"}),(0,m.jsx)("button",{onClick:()=>{if("number"===t){let e=p?parseFloat(p):void 0,r=b?parseFloat(b):void 0;void 0===e&&void 0===r?a(null):a({type:t,min:e,max:r})}else y.length===s.length?a(null):a({type:t,selectedValues:y});c(!1)},className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium transition-colors",children:"Apply"})]})]})]})]})}function S({label:e,buyerScore:t,sellerScore:r}){let s=t,a=r;return(void 0===s||void 0===a)&&("Buyers Dominating"===e||"Buyers"===e?(s=100,a=0):"Sellers Dominating"===e||"Sellers"===e?(s=0,a=100):(s=50,a=50)),(0,m.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,m.jsxs)("div",{className:"flex h-1.5 w-full rounded-full overflow-hidden bg-gray-200 dark:bg-slate-700",children:[(0,m.jsx)("div",{className:"bg-green-500 dark:bg-green-400 h-full transition-all duration-300",style:{width:`${s}%`}}),(0,m.jsx)("div",{className:"bg-red-500 dark:bg-red-400 h-full transition-all duration-300",style:{width:`${a}%`}})]}),(0,m.jsxs)("div",{className:"flex justify-between text-[10px] font-medium leading-none",children:[(0,m.jsx)("span",{className:(0,w.cn)("text-green-600 dark:text-green-400",s>a?"font-bold":"opacity-70"),children:s>a?"Buyers":""}),(0,m.jsx)("span",{className:(0,w.cn)("text-red-600 dark:text-red-400",a>s?"font-bold":"opacity-70"),children:a>s?"Sellers":""}),s===a&&(0,m.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Balanced"})]})]})}e.s(["default",()=>N],4300),e.s(["applyColumnFilters",0,(e,t)=>e.filter(e=>Object.entries(t).every(([t,r])=>{let s;if(s=t.split(".").reduce((e,t)=>e?.[t],e),"number"===r.type)return"number"==typeof s&&(void 0===r.min||!(s<r.min))&&(void 0===r.max||!(s>r.max));{if(!r.selectedValues||0===r.selectedValues.length)return!0;if(Array.isArray(s))return s.some(e=>r.selectedValues?.some(t=>String(e).toUpperCase()===t.toUpperCase()));let e=String(s).toUpperCase();return r.selectedValues.some(t=>e.includes(t.toUpperCase()))}})),"enrichStockData",0,e=>e.map(e=>{if(e.derived&&e.derived.indicatorsList)return e;let t="Neutral";e.history.avg_3day>.5?t="Strong Buyers":e.history.avg_3day<-.5&&(t="Strong Sellers");let r=[];return"above"===e.indicators.macd_status&&r.push("MACD Above"),"below"===e.indicators.macd_status&&r.push("MACD Below"),"neutral"===e.indicators.macd_status&&r.push("MACD Neutral"),"overbought"===e.indicators.rsi_zone&&r.push("RSI Over"),"oversold"===e.indicators.rsi_zone&&r.push("RSI Under"),"neutral"===e.indicators.rsi_zone&&r.push("RSI Neutral"),{...e,derived:{strength3D:t,indicatorsList:r,macdLabel:"above"===e.indicators.macd_status?"Above":"below"===e.indicators.macd_status?"Below":"Neutral",rsiLabel:"overbought"===e.indicators.rsi_zone?"Over":"oversold"===e.indicators.rsi_zone?"Under":"Neutral",strengthLabel:"buyers"===e.indicators.strength_label?"Buyers Dominating":"sellers"===e.indicators.strength_label?"Sellers Dominating":"Balanced"}}}),"globalFilter",0,(e,t)=>e&&t?e.filter(e=>{if(t.search){let r=t.search.toLowerCase();if(!e.symbol.toLowerCase().includes(r)&&!e.name?.toLowerCase().includes(r))return!1}return!(t.sector&&e.sector!==t.sector||t.min_price&&e.current_price<Number(t.min_price)||t.max_price&&e.current_price>Number(t.max_price)||t.min_avg_3day_pct&&e.history.avg_3day<Number(t.min_avg_3day_pct)||t.max_avg_3day_pct&&e.history.avg_3day>Number(t.max_avg_3day_pct))&&(!t.constant_only||!!e.flags.is_constant_price)&&(!t.gainers_only||!(e.current_change<=0))&&(!t.losers_only||!(e.current_change>=0))&&(!t.high_volume_only||!!e.flags.is_high_volume)&&(!t.macd_status||e.indicators.macd_status===t.macd_status)&&(!t.rsi_zone||e.indicators.rsi_zone===t.rsi_zone)&&(!t.strength||e.indicators.strength_label===t.strength)&&!0}):e||[]],72806),e.s(["getPctColor",0,e=>e>0?"text-green-600 dark:text-green-400":e<0?"text-red-600 dark:text-red-400":"text-gray-400 dark:text-gray-500","getUniqueValues",0,(e,t)=>{let r=new Set;return e.forEach(e=>{let s=t.split(".").reduce((e,t)=>e?.[t],e);s&&r.add(String(s))}),Array.from(r).sort()}],95116),e.s(["StrengthMeter",()=>S],79865)},82718,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(93613),a=e.i(70273),n=e.i(21218),i=e.i(39312),l=e.i(75157),d=e.i(18566),o=e.i(4300),c=e.i(72806),u=e.i(95116),h=e.i(79865);function y({stocks:e,isLoading:y,marketHeaders:x}){let p=(0,d.useRouter)(),[g,b]=(0,r.useState)(50),m={current:x?.current||"Today Change",p1:x?.p1||"Past Day 1 %",p2:x?.p2||"Past Day 2 %",p3:x?.p3||"Past Day 3 %"},[v,f]=(0,r.useState)({}),[j,k]=(0,r.useState)({key:"current_change",direction:"desc"}),{data:_}=(0,s.useWatchlist)(),{mutate:w}=(0,s.useToggleWatchlist)(),N=e=>_?.some(t=>t.symbol===e),S=(e,t)=>{f(r=>{let s={...r};return null===t?delete s[e]:s[e]=t,s})},L=(e,t)=>{k({key:e,direction:t})},C=(0,r.useMemo)(()=>e?(0,c.applyColumnFilters)(e,v).sort((e,t)=>{let r,s,{key:a,direction:n}=j;return(r="current_change"===a?e.current_change:"history.p_day1"===a?e.history?.p_day1:"day1_strength"===a?e.day1_strength:"history.p_day2"===a?e.history?.p_day2:"day2_strength"===a?e.day2_strength:"history.p_day3"===a?e.history?.p_day3:"day3_strength"===a?e.day3_strength:"derived.macdLabel"===a?e.derived?.macdLabel:"derived.rsiLabel"===a?e.derived?.rsiLabel:a.split(".").reduce((e,t)=>e?.[t],e),void 0===s&&(s="current_change"===a?t.current_change:"history.p_day1"===a?t.history?.p_day1:"day1_strength"===a?t.day1_strength:"history.p_day2"===a?t.history?.p_day2:"day2_strength"===a?t.day2_strength:"history.p_day3"===a?t.history?.p_day3:"day3_strength"===a?t.day3_strength:"derived.macdLabel"===a?t.derived?.macdLabel:"derived.rsiLabel"===a?t.derived?.rsiLabel:a.split(".").reduce((e,t)=>e?.[t],t)),null==r)?1:null==s?-1:r<s?"asc"===n?-1:1:r>s?"asc"===n?1:-1:0}):[],[e,v,j]),F=C.slice(0,g),M=t=>e.length?(0,u.getUniqueValues)(e,t):[];return y?(0,t.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,r)=>(0,t.jsx)("div",{className:"h-16 bg-gray-100 dark:bg-slate-800 rounded-lg animate-pulse"},r))}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:(0,l.cn)("w-full overflow-x-auto min-h-[600px]","rounded-2xl border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-sm dark:shadow-md"),children:(0,t.jsxs)("table",{className:"min-w-full table-auto border-separate border-spacing-y-1 text-sm text-left relative",children:[(0,t.jsx)("thead",{className:"text-xs text-gray-600 dark:text-gray-300 uppercase bg-gray-50 dark:bg-slate-800 sticky top-0 z-20 backdrop-blur-sm",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2 w-28 sticky left-0 z-30 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{children:"Symbol"}),(0,t.jsx)(o.default,{columnKey:"symbol",title:"Symbol",type:"text",options:M("symbol"),onFilter:e=>S("symbol",e),currentFilter:v.symbol||null,onSort:e=>L("symbol",e),sortDirection:"symbol"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:m.current}),(0,t.jsx)(o.default,{columnKey:"current_change",title:m.current,type:"number",onFilter:e=>S("current_change",e),currentFilter:v.current_change||null,onSort:e=>L("current_change",e),sortDirection:"current_change"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-36 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"Today Str"}),(0,t.jsx)(o.default,{columnKey:"current_strength",title:"Today Str",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:e=>S("current_strength",e),currentFilter:v.current_strength||null,onSort:e=>L("current_strength",e),sortDirection:"current_strength"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:m.p1}),(0,t.jsx)(o.default,{columnKey:"history.p_day1",title:m.p1,type:"number",onFilter:e=>S("history.p_day1",e),currentFilter:v["history.p_day1"]||null,onSort:e=>L("history.p_day1",e),sortDirection:"history.p_day1"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-36 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"P1 Str"}),(0,t.jsx)(o.default,{columnKey:"day1_strength",title:"P1 Str",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:e=>S("day1_strength",e),currentFilter:v.day1_strength||null,onSort:e=>L("day1_strength",e),sortDirection:"day1_strength"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:m.p2}),(0,t.jsx)(o.default,{columnKey:"history.p_day2",title:m.p2,type:"number",onFilter:e=>S("history.p_day2",e),currentFilter:v["history.p_day2"]||null,onSort:e=>L("history.p_day2",e),sortDirection:"history.p_day2"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-36 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"P2 Str"}),(0,t.jsx)(o.default,{columnKey:"day2_strength",title:"P2 Str",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:e=>S("day2_strength",e),currentFilter:v.day2_strength||null,onSort:e=>L("day2_strength",e),sortDirection:"day2_strength"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:m.p3}),(0,t.jsx)(o.default,{columnKey:"history.p_day3",title:m.p3,type:"number",onFilter:e=>S("history.p_day3",e),currentFilter:v["history.p_day3"]||null,onSort:e=>L("history.p_day3",e),sortDirection:"history.p_day3"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-36 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"P3 Str"}),(0,t.jsx)(o.default,{columnKey:"day3_strength",title:"P3 Str",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:e=>S("day3_strength",e),currentFilter:v.day3_strength||null,onSort:e=>L("day3_strength",e),sortDirection:"day3_strength"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"3D Avg %"}),(0,t.jsx)(o.default,{columnKey:"history.avg_3day",title:"3D Avg %",type:"number",onFilter:e=>S("history.avg_3day",e),currentFilter:v["history.avg_3day"]||null,onSort:e=>L("history.avg_3day",e),sortDirection:"history.avg_3day"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-40 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"3D Avg Str"}),(0,t.jsx)(o.default,{columnKey:"avg_3day_strength",title:"3D Avg Str",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:e=>S("avg_3day_strength",e),currentFilter:v.avg_3day_strength||null,onSort:e=>L("avg_3day_strength",e),sortDirection:"avg_3day_strength"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-44 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"Indicators"}),(0,t.jsx)(o.default,{columnKey:"derived.indicatorsList",title:"Indicators",type:"enum",options:M("derived.indicatorsList"),onFilter:e=>S("derived.indicatorsList",e),currentFilter:v["derived.indicatorsList"]||null,onSort:e=>L("derived.indicatorsList",e),sortDirection:"derived.indicatorsList"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-16 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"M"}),(0,t.jsx)(o.default,{columnKey:"derived.macdLabel",title:"M",type:"enum",options:["Above","Below","Neutral"],onFilter:e=>S("derived.macdLabel",e),currentFilter:v["derived.macdLabel"]||null,onSort:e=>L("derived.macdLabel",e),sortDirection:"derived.macdLabel"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-16 text-center border-b border-gray-200 dark:border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"R"}),(0,t.jsx)(o.default,{columnKey:"derived.rsiLabel",title:"R",type:"enum",options:["Over","Under","Neutral"],onFilter:e=>S("derived.rsiLabel",e),currentFilter:v["derived.rsiLabel"]||null,onSort:e=>L("derived.rsiLabel",e),sortDirection:"derived.rsiLabel"===j.key?j.direction:null})]})}),(0,t.jsx)("th",{className:"px-3 py-2 w-12 text-center border-b border-gray-200 dark:border-slate-700",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:F.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-100 dark:hover:bg-slate-700/50 transition-colors group cursor-pointer border-b border-gray-200 dark:border-slate-700 last:border-0",onClick:()=>{var t;return t=e.symbol,void p.push(`/stocks/${t}`)},children:[(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap sticky left-0 z-10 bg-white dark:bg-slate-800 group-hover:bg-gray-100 dark:group-hover:bg-slate-700/50 border-r border-gray-200 dark:border-slate-700",children:(0,t.jsx)("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:e.symbol})}),(0,t.jsxs)("td",{className:(0,l.cn)("px-3 py-2 whitespace-nowrap font-medium text-center",(0,u.getPctColor)(e.current_change)),children:[e.current_change?.toFixed(2)||"0.00","%"]}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,t.jsx)(h.StrengthMeter,{label:e.current_strength,buyerScore:e.indicators.buyer_strength_score,sellerScore:e.indicators.seller_strength_score})}),(0,t.jsxs)("td",{className:(0,l.cn)("px-3 py-2 whitespace-nowrap text-xs text-center",(0,u.getPctColor)(e.history.p_day1)),children:[e.history.p_day1?.toFixed(2)||"-","%"]}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,t.jsx)(h.StrengthMeter,{label:e.day1_strength})}),(0,t.jsxs)("td",{className:(0,l.cn)("px-3 py-2 whitespace-nowrap text-xs text-center",(0,u.getPctColor)(e.history.p_day2)),children:[e.history.p_day2?.toFixed(2)||"-","%"]}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,t.jsx)(h.StrengthMeter,{label:e.day2_strength})}),(0,t.jsxs)("td",{className:(0,l.cn)("px-3 py-2 whitespace-nowrap text-xs text-center",(0,u.getPctColor)(e.history.p_day3)),children:[e.history.p_day3?.toFixed(2)||"-","%"]}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,t.jsx)(h.StrengthMeter,{label:e.day3_strength})}),(0,t.jsxs)("td",{className:(0,l.cn)("px-3 py-2 whitespace-nowrap font-medium text-center",(0,u.getPctColor)(e.history.avg_3day)),children:[e.history.avg_3day?.toFixed(2)||"0.00","%"]}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,t.jsx)(h.StrengthMeter,{label:e.avg_3day_strength})}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-[10px] text-center text-gray-500 dark:text-gray-400",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-0.5",children:[(0,t.jsxs)("span",{className:(0,l.cn)("Above"===e.derived.macdLabel?"text-green-600 dark:text-green-400":"Below"===e.derived.macdLabel?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400"),children:["MACD: ",e.derived.macdLabel]}),(0,t.jsxs)("span",{className:(0,l.cn)("Under"===e.derived.rsiLabel?"text-green-600 dark:text-green-400":"Over"===e.derived.rsiLabel?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400"),children:["RSI: ",e.derived.rsiLabel]})]})}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,t.jsx)(n.Activity,{className:(0,l.cn)("w-4 h-4 mx-auto","Above"===e.derived.macdLabel?"text-green-500 dark:text-green-400":"Below"===e.derived.macdLabel?"text-red-500 dark:text-red-400":"text-gray-500 dark:text-gray-500")})}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,t.jsx)(i.Zap,{className:(0,l.cn)("w-4 h-4 mx-auto","Under"===e.derived.rsiLabel?"text-green-500 dark:text-green-400":"Over"===e.derived.rsiLabel?"text-red-500 dark:text-red-400":"text-blue-400 dark:text-blue-500")})}),(0,t.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,t.jsx)("button",{className:"p-1.5 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-full transition-colors text-gray-400 dark:text-gray-500 hover:text-yellow-500 dark:hover:text-yellow-400",onClick:t=>{var r;let s;t.stopPropagation(),s=N(r=e.symbol)?"remove":"add",w({symbol:r,action:s})},children:(0,t.jsx)(a.Star,{className:(0,l.cn)("w-4 h-4",N(e.symbol)?"fill-yellow-500 text-yellow-500 dark:text-yellow-400 dark:fill-yellow-400":"")})})})]},e.symbol))})]})}),C.length>g&&(0,t.jsx)("div",{className:"mt-4 flex justify-center",children:(0,t.jsx)("button",{onClick:()=>{b(e=>e+50)},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full text-sm font-medium transition-colors shadow-sm",children:"Load More"})})]})}var x=e.i(90092),p=e.i(37727),g=e.i(85152),b=e.i(59931),m=e.i(14007);function v(){let{data:e,isLoading:a,refetch:n}=(0,s.useStrengthAnalysis)({}),[i,l]=(0,r.useState)(""),[d,o]=(0,r.useState)({}),{isDrawerOpen:u,closeDrawer:h,setFilterCount:v}=(0,g.useFilter)();(0,r.useEffect)(()=>{v(Object.keys(d).length)},[d,v]);let f=()=>{o({}),l("")},j=(0,r.useMemo)(()=>{let t=e||[];if(t=(0,c.enrichStockData)(t),i){let e=i.toLowerCase();t=t.filter(t=>t.symbol.toLowerCase().includes(e)||t.name?.toLowerCase().includes(e))}return(0,c.globalFilter)(t,d)},[e,i,d]);return(0,t.jsxs)("div",{className:"min-h-screen w-full bg-background text-foreground p-4 md:p-6 animate-in fade-in duration-500",children:[(0,t.jsx)(b.default,{isOpen:u,onClose:h,filters:d,setFilters:o,onReset:f}),(0,t.jsx)("div",{className:"w-full space-y-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-semibold text-foreground",children:"Strength Analyzer"}),(0,t.jsxs)("p",{className:"text-muted-foreground mt-1",children:["Deep dive into stock strength trends and momentum indicators (",j.length,")"]})]}),Object.keys(d).length>0&&(0,t.jsxs)("button",{onClick:f,className:"px-3 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-destructive/10 transition-colors flex items-center gap-2 whitespace-nowrap",children:[(0,t.jsx)(p.X,{className:"w-4 h-4"})," Clear"]}),(0,t.jsx)("button",{onClick:()=>n(),className:"p-2 bg-card border border-border rounded-lg hover:bg-accent transition-colors text-muted-foreground",title:"Refresh Data",children:(0,t.jsx)(x.RefreshCcw,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"bg-card text-card-foreground rounded-3xl shadow-sm dark:shadow-md border border-border overflow-hidden",children:[(0,t.jsx)(m.default,{filters:d,setFilters:o,onReset:f}),(0,t.jsx)("div",{className:"p-6 pt-0",children:(0,t.jsx)(y,{stocks:j,isLoading:a})})]})]})}e.s(["default",()=>v],82718)}]);