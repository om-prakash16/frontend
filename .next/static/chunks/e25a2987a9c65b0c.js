(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(7524),n=e.i(59931),i=e.i(14007),l=e.i(93613),a=e.i(72806),d=e.i(37727),o=e.i(25652),c=e.i(35408),x=e.i(21218),u=e.i(17923),h=e.i(85152);e.i(46932);var m=e.i(75157);function g(){let[e,g]=(0,s.useState)({}),{isDrawerOpen:f,closeDrawer:b,setFilterCount:j}=(0,h.useFilter)(),{data:p,isLoading:v,error:k}=(0,l.useStocks)(e),N=(0,s.useMemo)(()=>p?(0,a.enrichStockData)(p):[],[p]);(0,s.useEffect)(()=>{j(Object.keys(e).length)},[e,j]),(0,s.useEffect)(()=>{j(Object.keys(e).length)},[e,j]);let y=()=>{g({})},w=(0,s.useMemo)(()=>{if(!p||0===p.length)return null;let e=p.length,t=p.filter(e=>e.current_change>0).length,s=p.filter(e=>e.current_change<0).length,r=[...p].sort((e,t)=>t.current_change-e.current_change),n=r[0];return{total:e,advances:t,declines:s,topGainer:n,topLoser:r[r.length-1],sentiment:t>s?"Bullish":s>t?"Bearish":"Neutral"}},[p]),C=({title:e,value:s,subValue:r,icon:n,colorClass:i})=>(0,t.jsxs)("div",{className:"bg-card text-card-foreground p-5 rounded-3xl border border-border shadow-sm dark:shadow-md flex items-center justify-between transition-all hover:shadow-md dark:hover:shadow-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-1",children:e}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-foreground",children:s}),r&&(0,t.jsx)("p",{className:(0,m.cn)("text-xs font-medium mt-1",i),children:r})]}),(0,t.jsx)("div",{className:(0,m.cn)("p-3 rounded-2xl opacity-20",i?.replace("text-","bg-")),children:(0,t.jsx)(n,{className:(0,m.cn)("w-7 h-7",i)})})]});return(0,t.jsxs)("div",{className:"flex flex-col gap-8 pb-10 animate-in fade-in duration-500",children:[(0,t.jsx)(n.default,{isOpen:f,onClose:b,filters:e,setFilters:g,onReset:y}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-semibold text-foreground tracking-tight",children:"Trade Analyzer Dashboard"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Professional F&O analysis with strict trading-day logic"})]}),w&&(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(C,{title:"Market Sentiment",value:w.sentiment,subValue:`${w.advances} Adv / ${w.declines} Dec`,icon:x.Activity,colorClass:"Bullish"===w.sentiment?"text-green-600 dark:text-green-400":"Bearish"===w.sentiment?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}),(0,t.jsx)(C,{title:"Top Gainer",value:w.topGainer?.symbol,subValue:`+${w.topGainer?.current_change?.toFixed(2)||"0.00"}%`,icon:o.TrendingUp,colorClass:"text-green-600 dark:text-green-400"}),(0,t.jsx)(C,{title:"Top Loser",value:w.topLoser?.symbol,subValue:`${w.topLoser?.current_change?.toFixed(2)||"0.00"}%`,icon:c.TrendingDown,colorClass:"text-red-600 dark:text-red-400"}),(0,t.jsx)(C,{title:"Active Stocks",value:w.total,subValue:"Tracked Symbols",icon:u.BarChart3,colorClass:"text-blue-600 dark:text-blue-400"})]})]}),(0,t.jsxs)("div",{className:"bg-card text-card-foreground rounded-3xl border border-border shadow-sm dark:shadow-md overflow-hidden",children:[(0,t.jsx)(i.default,{filters:e,setFilters:g,onReset:y}),(0,t.jsx)("div",{className:"min-h-[500px]",children:k?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-destructive/10 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(d.X,{className:"w-6 h-6 text-destructive"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-1",children:"Connection Error"}),(0,t.jsx)("p",{className:"text-muted-foreground max-w-sm",children:"Could not connect to the backend server. Please ensure it is running on port 8000."})]}):(0,t.jsx)(r.default,{stocks:N,isLoading:v,variant:"plain"})})]})]})}e.s(["default",()=>g])}]);