module.exports=[28560,21374,18719,40718,31842,40276,a=>{"use strict";var b=a.i(33217),c=a.i(72131),d=a.i(12794),e=a.i(18544),f=a.i(33791),g=a.i(42871),h=class extends f.Subscribable{#a;#b=void 0;#c;#d;constructor(a,b){super(),this.#a=a,this.setOptions(b),this.bindMethods(),this.#e()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){let b=this.options;this.options=this.#a.defaultMutationOptions(a),(0,g.shallowEqualObjects)(this.options,b)||this.#a.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#c,observer:this}),b?.mutationKey&&this.options.mutationKey&&(0,g.hashKey)(b.mutationKey)!==(0,g.hashKey)(this.options.mutationKey)?this.reset():this.#c?.state.status==="pending"&&this.#c.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#c?.removeObserver(this)}onMutationUpdate(a){this.#e(),this.#f(a)}getCurrentResult(){return this.#b}reset(){this.#c?.removeObserver(this),this.#c=void 0,this.#e(),this.#f()}mutate(a,b){return this.#d=b,this.#c?.removeObserver(this),this.#c=this.#a.getMutationCache().build(this.#a,this.options),this.#c.addObserver(this),this.#c.execute(a)}#e(){let a=this.#c?.state??(0,d.getDefaultState)();this.#b={...a,isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset}}#f(a){e.notifyManager.batch(()=>{if(this.#d&&this.hasListeners()){let b=this.#b.variables,c=this.#b.context,d={client:this.#a,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#d.onSuccess?.(a.data,b,c,d),this.#d.onSettled?.(a.data,null,b,c,d)):a?.type==="error"&&(this.#d.onError?.(a.error,b,c,d),this.#d.onSettled?.(void 0,a.error,b,c,d))}this.listeners.forEach(a=>{a(this.#b)})})}},i=a.i(37927),j=a.i(83490);let k="http://localhost:8000/api/v1";function l(a){return(0,b.useQuery)({queryKey:["stocks","fno",a],queryFn:async()=>{let b=new URLSearchParams;Object.entries(a).forEach(([a,c])=>{null!=c&&""!==c&&b.append(a,String(c))});let c=`${k}/stocks/fno`,{data:d}=await j.default.get(c,{params:b});return d},refetchInterval:3e3,staleTime:1e4})}function m(){return(0,b.useQuery)({queryKey:["watchlist"],queryFn:async()=>{let{data:a}=await j.default.get(`${k}/watchlist`);return a},refetchInterval:5e3})}function n(){let a=(0,i.useQueryClient)();return function(a,b){let d=(0,i.useQueryClient)(void 0),[f]=c.useState(()=>new h(d,a));c.useEffect(()=>{f.setOptions(a)},[f,a]);let j=c.useSyncExternalStore(c.useCallback(a=>f.subscribe(e.notifyManager.batchCalls(a)),[f]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),k=c.useCallback((a,b)=>{f.mutate(a,b).catch(g.noop)},[f]);if(j.error&&(0,g.shouldThrowError)(f.options.throwOnError,[j.error]))throw j.error;return{...j,mutate:k,mutateAsync:j.mutate}}({mutationFn:async({symbol:a,action:b})=>{let{data:c}=await j.default.post(`${k}/watchlist/`,{symbol:a,action:b});return c},onSuccess:()=>{a.invalidateQueries({queryKey:["watchlist"]})}})}function o(){return(0,b.useQuery)({queryKey:["stocks","gainers-3day"],queryFn:async()=>{let{data:a}=await j.default.get(`${k}/stocks/gainers-3day`);return a},refetchInterval:15e3})}function p(){return(0,b.useQuery)({queryKey:["stocks","losers-3day"],queryFn:async()=>{let{data:a}=await j.default.get(`${k}/stocks/losers-3day`);return a},refetchInterval:15e3})}function q(a){return(0,b.useQuery)({queryKey:["strength-analysis",a],queryFn:async()=>{let b=new URLSearchParams;Object.entries(a).forEach(([a,c])=>{null!=c&&""!==c&&b.append(a,String(c))});let{data:c}=await j.default.get(`${k}/stocks/strength-analyzer`,{params:b});return c},refetchInterval:15e3})}a.s(["useGainers3Day",()=>o,"useLosers3Day",()=>p,"useStocks",()=>l,"useStrengthAnalysis",()=>q,"useToggleWatchlist",()=>n,"useWatchlist",()=>m],28560);let r=(0,a.i(70106).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>r],21374);var s=a.i(87924),t=a.i(85668),u=a.i(95490),v=a.i(69012),w=a.i(87532),x=a.i(33508),y=a.i(68114);function z({columnKey:a,type:b,options:d=[],onFilter:e,currentFilter:f,onSort:g,sortDirection:h,title:i}){let[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(f?.selectedValues||d),[p,q]=(0,c.useState)(f?.min?.toString()||""),[r,z]=(0,c.useState)(f?.max?.toString()||""),A=(0,c.useMemo)(()=>l?d.filter(a=>a.toLowerCase().includes(l.toLowerCase())):d,[d,l]);return(0,s.jsxs)("div",{className:"relative inline-block",children:[(0,s.jsx)("button",{onClick:a=>{a.stopPropagation(),k(!j)},className:(0,y.cn)("p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",f||h?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"),title:`Filter ${i}`,children:(0,s.jsx)(v.Filter,{className:"w-3 h-3"})}),j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40",onClick:a=>{a.stopPropagation(),k(!1)}}),(0,s.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-xl z-50 flex flex-col max-h-[400px]",onClick:a=>a.stopPropagation(),children:[(0,s.jsxs)("div",{className:"p-3 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:["Filter: ",i]}),(0,s.jsx)("button",{onClick:()=>k(!1),children:(0,s.jsx)(x.X,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"})})]}),(0,s.jsxs)("div",{className:"p-2 border-b border-gray-200 dark:border-slate-700 flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>{g("asc"),k(!1)},className:(0,y.cn)("flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs font-medium transition-colors","asc"===h?"bg-blue-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"),children:[(0,s.jsx)(u.ArrowUp,{className:"w-3 h-3"})," Asc"]}),(0,s.jsxs)("button",{onClick:()=>{g("desc"),k(!1)},className:(0,y.cn)("flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs font-medium transition-colors","desc"===h?"bg-blue-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"),children:[(0,s.jsx)(t.ArrowDown,{className:"w-3 h-3"})," Desc"]})]}),(0,s.jsx)("div",{className:"p-3 flex-1 overflow-y-auto min-h-0",children:"number"===b?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Min Value"}),(0,s.jsx)("input",{type:"number",value:p,onChange:a=>q(a.target.value),className:"w-full bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-sm text-gray-900 dark:text-white focus:border-blue-500 outline-none",placeholder:"Min"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Max Value"}),(0,s.jsx)("input",{type:"number",value:r,onChange:a=>z(a.target.value),className:"w-full bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-sm text-gray-900 dark:text-white focus:border-blue-500 outline-none",placeholder:"Max"})]})]}):(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"relative mb-2",children:[(0,s.jsx)(w.Search,{className:"w-3 h-3 absolute left-2 top-2 text-gray-500"}),(0,s.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),className:"w-full bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded pl-7 pr-2 py-1 text-xs text-gray-900 dark:text-white focus:border-blue-500 outline-none",placeholder:"Search..."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-gray-200 dark:border-slate-700",children:[(0,s.jsx)("input",{type:"checkbox",checked:n.length===A.length&&A.length>0,onChange:()=>{n.length===A.length?o([]):o(A)},className:"rounded bg-gray-200 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-blue-600 focus:ring-0"}),(0,s.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"(Select All)"})]}),(0,s.jsx)("div",{className:"space-y-1 overflow-y-auto max-h-[200px]",children:A.map(a=>(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-slate-700/50 p-1 rounded",children:[(0,s.jsx)("input",{type:"checkbox",checked:n.includes(a),onChange:()=>{o(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:"rounded bg-gray-200 dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-blue-600 focus:ring-0"}),(0,s.jsx)("span",{className:"text-xs text-gray-700 dark:text-gray-300 break-all",children:a})]},a))})]})}),(0,s.jsxs)("div",{className:"p-3 border-t border-gray-200 dark:border-slate-700 flex justify-between gap-2",children:[(0,s.jsx)("button",{onClick:()=>{o(d),q(""),z(""),e(null),k(!1)},className:"px-3 py-1.5 text-xs font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Clear"}),(0,s.jsx)("button",{onClick:()=>{if("number"===b){let a=p?parseFloat(p):void 0,c=r?parseFloat(r):void 0;void 0===a&&void 0===c?e(null):e({type:b,min:a,max:c})}else n.length===d.length?e(null):e({type:b,selectedValues:n});k(!1)},className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs font-medium transition-colors",children:"Apply"})]})]})]})]})}function A({label:a,buyerScore:b,sellerScore:c}){let d=b,e=c;return(void 0===d||void 0===e)&&("Buyers Dominating"===a||"Buyers"===a?(d=100,e=0):"Sellers Dominating"===a||"Sellers"===a?(d=0,e=100):(d=50,e=50)),(0,s.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,s.jsxs)("div",{className:"flex h-1.5 w-full rounded-full overflow-hidden bg-gray-200 dark:bg-slate-700",children:[(0,s.jsx)("div",{className:"bg-green-500 dark:bg-green-400 h-full transition-all duration-300",style:{width:`${d}%`}}),(0,s.jsx)("div",{className:"bg-red-500 dark:bg-red-400 h-full transition-all duration-300",style:{width:`${e}%`}})]}),(0,s.jsxs)("div",{className:"flex justify-between text-[10px] font-medium leading-none",children:[(0,s.jsx)("span",{className:(0,y.cn)("text-green-600 dark:text-green-400",d>e?"font-bold":"opacity-70"),children:d>e?"Buyers":""}),(0,s.jsx)("span",{className:(0,y.cn)("text-red-600 dark:text-red-400",e>d?"font-bold":"opacity-70"),children:e>d?"Sellers":""}),d===e&&(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Balanced"})]})]})}a.s(["default",()=>z],18719),a.s(["applyColumnFilters",0,(a,b)=>a.filter(a=>Object.entries(b).every(([b,c])=>{let d;if(d=b.split(".").reduce((a,b)=>a?.[b],a),"number"===c.type)return"number"==typeof d&&(void 0===c.min||!(d<c.min))&&(void 0===c.max||!(d>c.max));{if(!c.selectedValues||0===c.selectedValues.length)return!0;if(Array.isArray(d))return d.some(a=>c.selectedValues?.some(b=>String(a).toUpperCase()===b.toUpperCase()));let a=String(d).toUpperCase();return c.selectedValues.some(b=>a.includes(b.toUpperCase()))}})),"enrichStockData",0,a=>a.map(a=>{if(a.derived&&a.derived.indicatorsList)return a;let b="Neutral";a.history.avg_3day>.5?b="Strong Buyers":a.history.avg_3day<-.5&&(b="Strong Sellers");let c=[];return"above"===a.indicators.macd_status&&c.push("MACD Above"),"below"===a.indicators.macd_status&&c.push("MACD Below"),"neutral"===a.indicators.macd_status&&c.push("MACD Neutral"),"overbought"===a.indicators.rsi_zone&&c.push("RSI Over"),"oversold"===a.indicators.rsi_zone&&c.push("RSI Under"),"neutral"===a.indicators.rsi_zone&&c.push("RSI Neutral"),{...a,derived:{strength3D:b,indicatorsList:c,macdLabel:"above"===a.indicators.macd_status?"Above":"below"===a.indicators.macd_status?"Below":"Neutral",rsiLabel:"overbought"===a.indicators.rsi_zone?"Over":"oversold"===a.indicators.rsi_zone?"Under":"Neutral",strengthLabel:"buyers"===a.indicators.strength_label?"Buyers Dominating":"sellers"===a.indicators.strength_label?"Sellers Dominating":"Balanced"}}}),"globalFilter",0,(a,b)=>a&&b?a.filter(a=>{if(b.search){let c=b.search.toLowerCase();if(!a.symbol.toLowerCase().includes(c)&&!a.name?.toLowerCase().includes(c))return!1}return!(b.sector&&a.sector!==b.sector||b.min_price&&a.current_price<Number(b.min_price)||b.max_price&&a.current_price>Number(b.max_price)||b.min_avg_3day_pct&&a.history.avg_3day<Number(b.min_avg_3day_pct)||b.max_avg_3day_pct&&a.history.avg_3day>Number(b.max_avg_3day_pct))&&(!b.constant_only||!!a.flags.is_constant_price)&&(!b.gainers_only||!(a.current_change<=0))&&(!b.losers_only||!(a.current_change>=0))&&(!b.high_volume_only||!!a.flags.is_high_volume)&&(!b.macd_status||a.indicators.macd_status===b.macd_status)&&(!b.rsi_zone||a.indicators.rsi_zone===b.rsi_zone)&&(!b.strength||a.indicators.strength_label===b.strength)&&!0}):a||[]],40718),a.s(["getPctColor",0,a=>a>0?"text-green-600 dark:text-green-400":a<0?"text-red-600 dark:text-red-400":"text-gray-400 dark:text-gray-500","getUniqueValues",0,(a,b)=>{let c=new Set;return a.forEach(a=>{let d=b.split(".").reduce((a,b)=>a?.[b],a);d&&c.add(String(d))}),Array.from(c).sort()}],31842),a.s(["StrengthMeter",()=>A],40276)}];

//# sourceMappingURL=src_hooks_useStocks_ts_ed3309f2._.js.map