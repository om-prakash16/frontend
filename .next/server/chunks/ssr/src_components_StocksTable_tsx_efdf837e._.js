module.exports=[11916,a=>{"use strict";var b=a.i(87924),c=a.i(28560),d=a.i(85668),e=a.i(95490);let f=(0,a.i(70106).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var g=a.i(21374),h=a.i(90669),i=a.i(1027),j=a.i(68114),k=a.i(72131),l=a.i(50944),m=a.i(18719),n=a.i(40718),o=a.i(31842),p=a.i(40276);function q({stocks:a,isLoading:q,simpleMode:r=!1,variant:s="card",marketHeaders:t}){let u=(0,l.useRouter)(),[v,w]=(0,k.useState)(50),x={current:t?.current||"Today Change",p1:t?.p1||"Past Day 1 %",p2:t?.p2||"Past Day 2 %",p3:t?.p3||"Past Day 3 %"},[y,z]=(0,k.useState)({}),[A,B]=(0,k.useState)({key:"current_change",direction:"desc"}),{data:C}=(0,c.useWatchlist)(),{mutate:D}=(0,c.useToggleWatchlist)(),E=a=>C?.some(b=>b.symbol===a),F=(a,b)=>{z(c=>{let d={...c};return null===b?delete d[a]:d[a]=b,d})},G=(a,b)=>{B({key:a,direction:b})},H=(0,k.useMemo)(()=>a?(0,n.applyColumnFilters)(a,y).sort((a,b)=>{let{key:c,direction:d}=A;if("history.avg_3day"===c){let c=Math.abs(a.history?.avg_3day||0),e=Math.abs(b.history?.avg_3day||0);return c<e?"asc"===d?-1:1:c>e?"asc"===d?1:-1:0}let e=(a,b)=>b.split(".").reduce((a,b)=>a?.[b],a),f=e(a,c),g=e(b,c);return null==f?1:null==g?-1:f<g?"asc"===d?-1:1:f>g?"asc"===d?1:-1:0}):[],[a,y,A]),I=H.slice(0,v);return q?(0,b.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-16 bg-gray-100 dark:bg-slate-800 rounded-lg animate-pulse"},c))}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:(0,j.cn)("w-full overflow-x-auto min-h-[600px]","rounded-2xl border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-sm dark:shadow-md"),children:(0,b.jsxs)("table",{className:"min-w-full table-auto border-separate border-spacing-y-1 text-sm text-left relative",children:[(0,b.jsx)("thead",{className:"text-xs uppercase bg-gray-50 dark:bg-slate-800 text-gray-500 dark:text-gray-400 font-semibold tracking-wider",children:(0,b.jsxs)("tr",{children:[!r&&(0,b.jsx)("th",{className:"px-3 py-2 w-12 text-center sticky left-0 z-30 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",children:"Rank"}),(0,b.jsx)("th",{className:(0,j.cn)("px-3 py-2 w-40 sticky z-30 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",r?"left-0":"left-12"),children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("span",{children:"Symbol"}),(0,b.jsx)(m.default,{columnKey:"symbol",title:"Symbol",type:"text",options:a.length?(0,o.getUniqueValues)(a,"symbol"):[],onFilter:a=>F("symbol",a),currentFilter:y.symbol||null,onSort:a=>G("symbol",a),sortDirection:"symbol"===A.key?A.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-24 text-right border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)("span",{children:"Price"}),(0,b.jsx)(m.default,{columnKey:"current_price",title:"Price",type:"number",onFilter:a=>F("current_price",a),currentFilter:y.current_price||null,onSort:a=>G("current_price",a),sortDirection:"current_price"===A.key?A.direction:null})]})}),!r&&(0,b.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:x.current}),(0,b.jsx)(m.default,{columnKey:"current_change",title:x.current,type:"number",onFilter:a=>F("current_change",a),currentFilter:y.current_change||null,onSort:a=>G("current_change",a),sortDirection:"current_change"===A.key?A.direction:null})]})}),!r&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:x.p1}),(0,b.jsx)(m.default,{columnKey:"history.p_day1",title:x.p1,type:"number",onFilter:a=>F("history.p_day1",a),currentFilter:y["history.p_day1"]||null,onSort:a=>G("history.p_day1",a),sortDirection:"history.p_day1"===A.key?A.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:x.p2}),(0,b.jsx)(m.default,{columnKey:"history.p_day2",title:x.p2,type:"number",onFilter:a=>F("history.p_day2",a),currentFilter:y["history.p_day2"]||null,onSort:a=>G("history.p_day2",a),sortDirection:"history.p_day2"===A.key?A.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:x.p3}),(0,b.jsx)(m.default,{columnKey:"history.p_day3",title:x.p3,type:"number",onFilter:a=>F("history.p_day3",a),currentFilter:y["history.p_day3"]||null,onSort:a=>G("history.p_day3",a),sortDirection:"history.p_day3"===A.key?A.direction:null})]})})]}),(0,b.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"3D Avg %"}),(0,b.jsx)(m.default,{columnKey:"history.avg_3day",title:"3D Avg %",type:"number",onFilter:a=>F("history.avg_3day",a),currentFilter:y["history.avg_3day"]||null,onSort:a=>G("history.avg_3day",a),sortDirection:"history.avg_3day"===A.key?A.direction:null})]})}),!r&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("th",{className:"px-3 py-2 w-40 text-center border-b border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"Indicators"}),(0,b.jsx)(m.default,{columnKey:"derived.indicatorsList",title:"Indicators",type:"enum",options:["MACD Above","MACD Below","MACD Neutral","RSI Over","RSI Under","RSI Neutral"],onFilter:a=>F("derived.indicatorsList",a),currentFilter:y["derived.indicatorsList"]||null,onSort:a=>G("derived.indicatorsList",a),sortDirection:"derived.indicatorsList"===A.key?A.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-16 text-center border-b border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"M"}),(0,b.jsx)(m.default,{columnKey:"derived.macdLabel",title:"M",type:"enum",options:["Above","Below","Neutral"],onFilter:a=>F("derived.macdLabel",a),currentFilter:y["derived.macdLabel"]||null,onSort:a=>G("derived.macdLabel",a),sortDirection:"derived.macdLabel"===A.key?A.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-16 text-center border-b border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"R"}),(0,b.jsx)(m.default,{columnKey:"derived.rsiLabel",title:"R",type:"enum",options:["Over","Under","Neutral"],onFilter:a=>F("derived.rsiLabel",a),currentFilter:y["derived.rsiLabel"]||null,onSort:a=>G("derived.rsiLabel",a),sortDirection:"derived.rsiLabel"===A.key?A.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-40 text-center border-b border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"Today Strength"}),(0,b.jsx)(m.default,{columnKey:"current_strength",title:"Today Strength",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:a=>F("current_strength",a),currentFilter:y.current_strength||null,onSort:a=>G("current_strength",a),sortDirection:"current_strength"===A.key?A.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-40 text-center border-b border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"3D Avg Str"}),(0,b.jsx)(m.default,{columnKey:"avg_3day_strength",title:"3D Avg Str",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:a=>F("avg_3day_strength",a),currentFilter:y.avg_3day_strength||null,onSort:a=>G("avg_3day_strength",a),sortDirection:"avg_3day_strength"===A.key?A.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-12 text-center border-b border-border",children:"Action"})]})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-border",children:I.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-accent/50 transition-colors group cursor-pointer border-b border-border last:border-0",onClick:()=>{var b;return b=a.symbol,void u.push(`/stocks/${b}`)},children:[!r&&(0,b.jsxs)("td",{className:"px-3 py-2 font-medium text-muted-foreground text-center",children:["#",a.rank]}),(0,b.jsxs)("td",{className:"px-3 py-2 sticky left-0 z-10 bg-card group-hover:bg-accent/50 border-r border-border whitespace-nowrap",children:[(0,b.jsx)("div",{className:"font-bold text-foreground",children:a.symbol}),(0,b.jsx)("div",{className:"text-[10px] text-muted-foreground",children:a.sector})]}),(0,b.jsxs)("td",{className:"px-3 py-2 font-mono text-foreground text-right whitespace-nowrap",children:["â‚¹",a.current_price.toFixed(2)]}),!r&&(0,b.jsx)("td",{className:(0,j.cn)("px-3 py-2 font-medium text-center whitespace-nowrap",(0,o.getPctColor)(a.current_change)),children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[a.current_change>0?(0,b.jsx)(e.ArrowUp,{className:"w-3 h-3"}):a.current_change<0?(0,b.jsx)(d.ArrowDown,{className:"w-3 h-3"}):(0,b.jsx)(f,{className:"w-3 h-3"}),a.current_change?.toFixed(2)||"0.00","%"]})}),!r&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("td",{className:(0,j.cn)("px-3 py-2 text-xs text-center whitespace-nowrap",(0,o.getPctColor)(a.history.p_day1)),children:[a.history.p_day1?.toFixed(2)||"-","%"]}),(0,b.jsxs)("td",{className:(0,j.cn)("px-3 py-2 text-xs text-center whitespace-nowrap",(0,o.getPctColor)(a.history.p_day2)),children:[a.history.p_day2?.toFixed(2)||"-","%"]}),(0,b.jsxs)("td",{className:(0,j.cn)("px-3 py-2 text-xs text-center whitespace-nowrap",(0,o.getPctColor)(a.history.p_day3)),children:[a.history.p_day3?.toFixed(2)||"-","%"]})]}),(0,b.jsx)("td",{className:(0,j.cn)("px-3 py-2 font-medium text-center whitespace-nowrap",(0,o.getPctColor)(a.history.avg_3day)),children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[a.history.avg_3day>0?(0,b.jsx)(e.ArrowUp,{className:"w-3 h-3"}):a.history.avg_3day<0?(0,b.jsx)(d.ArrowDown,{className:"w-3 h-3"}):(0,b.jsx)(f,{className:"w-3 h-3"}),a.history.avg_3day?.toFixed(2)||"0.00","%"]})}),!r&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-[10px] text-center text-muted-foreground",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-0.5",children:[(0,b.jsxs)("span",{className:(0,j.cn)("Above"===a.derived.macdLabel?"text-green-600 dark:text-green-400":"Below"===a.derived.macdLabel?"text-red-600 dark:text-red-400":"text-muted-foreground"),children:["MACD: ",a.derived.macdLabel]}),(0,b.jsxs)("span",{className:(0,j.cn)("Under"===a.derived.rsiLabel?"text-green-600 dark:text-green-400":"Over"===a.derived.rsiLabel?"text-red-600 dark:text-red-400":"text-muted-foreground"),children:["RSI: ",a.derived.rsiLabel]})]})}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,b.jsx)(h.Activity,{className:(0,j.cn)("w-4 h-4 mx-auto","Above"===a.derived.macdLabel?"text-green-500 dark:text-green-400":"Below"===a.derived.macdLabel?"text-red-500 dark:text-red-400":"text-muted-foreground")})}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,b.jsx)(i.Zap,{className:(0,j.cn)("w-4 h-4 mx-auto","Under"===a.derived.rsiLabel?"text-green-500 dark:text-green-400":"Over"===a.derived.rsiLabel?"text-red-500 dark:text-red-400":"text-blue-400 dark:text-blue-500")})}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,b.jsx)(p.StrengthMeter,{label:a.current_strength})}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,b.jsx)(p.StrengthMeter,{label:a.avg_3day_strength})}),(0,b.jsx)("td",{className:"px-3 py-2 text-center whitespace-nowrap",children:(0,b.jsx)("button",{className:"p-1.5 hover:bg-accent rounded-full transition-colors text-muted-foreground hover:text-yellow-500 dark:hover:text-yellow-400",onClick:b=>{var c;let d;b.stopPropagation(),d=E(c=a.symbol)?"remove":"add",D({symbol:c,action:d})},children:(0,b.jsx)(g.Star,{className:(0,j.cn)("w-4 h-4",E(a.symbol)?"fill-yellow-500 text-yellow-500 dark:text-yellow-400 dark:fill-yellow-400":"")})})})]})]},a.symbol))})]})}),!r&&H.length>v&&(0,b.jsx)("div",{className:"mt-4 flex justify-center",children:(0,b.jsx)("button",{onClick:()=>{w(a=>a+50)},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full text-sm font-medium transition-colors shadow-sm",children:"Load More Stocks"})})]})}a.s(["default",()=>q],11916)}];

//# sourceMappingURL=src_components_StocksTable_tsx_efdf837e._.js.map