module.exports=[11788,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(28560),e=a.i(21374),f=a.i(90669),g=a.i(1027),h=a.i(68114),i=a.i(50944),j=a.i(18719),k=a.i(40718),l=a.i(31842),m=a.i(40276);function n({stocks:a,isLoading:n,marketHeaders:o}){let p=(0,i.useRouter)(),[q,r]=(0,c.useState)(50),s={current:o?.current||"Today Change",p1:o?.p1||"Past Day 1 %",p2:o?.p2||"Past Day 2 %",p3:o?.p3||"Past Day 3 %"},[t,u]=(0,c.useState)({}),[v,w]=(0,c.useState)({key:"current_change",direction:"desc"}),{data:x}=(0,d.useWatchlist)(),{mutate:y}=(0,d.useToggleWatchlist)(),z=a=>x?.some(b=>b.symbol===a),A=(a,b)=>{u(c=>{let d={...c};return null===b?delete d[a]:d[a]=b,d})},B=(a,b)=>{w({key:a,direction:b})},C=(0,c.useMemo)(()=>a?(0,k.applyColumnFilters)(a,t).sort((a,b)=>{let c,d,{key:e,direction:f}=v;return(c="current_change"===e?a.current_change:"history.p_day1"===e?a.history?.p_day1:"day1_strength"===e?a.day1_strength:"history.p_day2"===e?a.history?.p_day2:"day2_strength"===e?a.day2_strength:"history.p_day3"===e?a.history?.p_day3:"day3_strength"===e?a.day3_strength:"derived.macdLabel"===e?a.derived?.macdLabel:"derived.rsiLabel"===e?a.derived?.rsiLabel:e.split(".").reduce((a,b)=>a?.[b],a),void 0===d&&(d="current_change"===e?b.current_change:"history.p_day1"===e?b.history?.p_day1:"day1_strength"===e?b.day1_strength:"history.p_day2"===e?b.history?.p_day2:"day2_strength"===e?b.day2_strength:"history.p_day3"===e?b.history?.p_day3:"day3_strength"===e?b.day3_strength:"derived.macdLabel"===e?b.derived?.macdLabel:"derived.rsiLabel"===e?b.derived?.rsiLabel:e.split(".").reduce((a,b)=>a?.[b],b)),null==c)?1:null==d?-1:c<d?"asc"===f?-1:1:c>d?"asc"===f?1:-1:0}):[],[a,t,v]),D=C.slice(0,q),E=b=>a.length?(0,l.getUniqueValues)(a,b):[];return n?(0,b.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-16 bg-gray-100 dark:bg-slate-800 rounded-lg animate-pulse"},c))}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:(0,h.cn)("w-full overflow-x-auto min-h-[600px]","rounded-2xl border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-sm dark:shadow-md"),children:(0,b.jsxs)("table",{className:"min-w-full table-auto border-separate border-spacing-y-1 text-sm text-left relative",children:[(0,b.jsx)("thead",{className:"text-xs text-gray-600 dark:text-gray-300 uppercase bg-gray-50 dark:bg-slate-800 sticky top-0 z-20 backdrop-blur-sm",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 w-28 sticky left-0 z-30 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("span",{children:"Symbol"}),(0,b.jsx)(j.default,{columnKey:"symbol",title:"Symbol",type:"text",options:E("symbol"),onFilter:a=>A("symbol",a),currentFilter:t.symbol||null,onSort:a=>B("symbol",a),sortDirection:"symbol"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:s.current}),(0,b.jsx)(j.default,{columnKey:"current_change",title:s.current,type:"number",onFilter:a=>A("current_change",a),currentFilter:t.current_change||null,onSort:a=>B("current_change",a),sortDirection:"current_change"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-36 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"Today Str"}),(0,b.jsx)(j.default,{columnKey:"current_strength",title:"Today Str",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:a=>A("current_strength",a),currentFilter:t.current_strength||null,onSort:a=>B("current_strength",a),sortDirection:"current_strength"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:s.p1}),(0,b.jsx)(j.default,{columnKey:"history.p_day1",title:s.p1,type:"number",onFilter:a=>A("history.p_day1",a),currentFilter:t["history.p_day1"]||null,onSort:a=>B("history.p_day1",a),sortDirection:"history.p_day1"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-36 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"P1 Str"}),(0,b.jsx)(j.default,{columnKey:"day1_strength",title:"P1 Str",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:a=>A("day1_strength",a),currentFilter:t.day1_strength||null,onSort:a=>B("day1_strength",a),sortDirection:"day1_strength"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:s.p2}),(0,b.jsx)(j.default,{columnKey:"history.p_day2",title:s.p2,type:"number",onFilter:a=>A("history.p_day2",a),currentFilter:t["history.p_day2"]||null,onSort:a=>B("history.p_day2",a),sortDirection:"history.p_day2"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-36 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"P2 Str"}),(0,b.jsx)(j.default,{columnKey:"day2_strength",title:"P2 Str",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:a=>A("day2_strength",a),currentFilter:t.day2_strength||null,onSort:a=>B("day2_strength",a),sortDirection:"day2_strength"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:s.p3}),(0,b.jsx)(j.default,{columnKey:"history.p_day3",title:s.p3,type:"number",onFilter:a=>A("history.p_day3",a),currentFilter:t["history.p_day3"]||null,onSort:a=>B("history.p_day3",a),sortDirection:"history.p_day3"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-36 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"P3 Str"}),(0,b.jsx)(j.default,{columnKey:"day3_strength",title:"P3 Str",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:a=>A("day3_strength",a),currentFilter:t.day3_strength||null,onSort:a=>B("day3_strength",a),sortDirection:"day3_strength"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-28 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"3D Avg %"}),(0,b.jsx)(j.default,{columnKey:"history.avg_3day",title:"3D Avg %",type:"number",onFilter:a=>A("history.avg_3day",a),currentFilter:t["history.avg_3day"]||null,onSort:a=>B("history.avg_3day",a),sortDirection:"history.avg_3day"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-40 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"3D Avg Str"}),(0,b.jsx)(j.default,{columnKey:"avg_3day_strength",title:"3D Avg Str",type:"enum",options:["BUYERS","SELLERS","BALANCED"],onFilter:a=>A("avg_3day_strength",a),currentFilter:t.avg_3day_strength||null,onSort:a=>B("avg_3day_strength",a),sortDirection:"avg_3day_strength"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-44 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"Indicators"}),(0,b.jsx)(j.default,{columnKey:"derived.indicatorsList",title:"Indicators",type:"enum",options:E("derived.indicatorsList"),onFilter:a=>A("derived.indicatorsList",a),currentFilter:t["derived.indicatorsList"]||null,onSort:a=>B("derived.indicatorsList",a),sortDirection:"derived.indicatorsList"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-16 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"M"}),(0,b.jsx)(j.default,{columnKey:"derived.macdLabel",title:"M",type:"enum",options:["Above","Below","Neutral"],onFilter:a=>A("derived.macdLabel",a),currentFilter:t["derived.macdLabel"]||null,onSort:a=>B("derived.macdLabel",a),sortDirection:"derived.macdLabel"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-16 text-center border-b border-gray-200 dark:border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"R"}),(0,b.jsx)(j.default,{columnKey:"derived.rsiLabel",title:"R",type:"enum",options:["Over","Under","Neutral"],onFilter:a=>A("derived.rsiLabel",a),currentFilter:t["derived.rsiLabel"]||null,onSort:a=>B("derived.rsiLabel",a),sortDirection:"derived.rsiLabel"===v.key?v.direction:null})]})}),(0,b.jsx)("th",{className:"px-3 py-2 w-12 text-center border-b border-gray-200 dark:border-slate-700",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:D.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-100 dark:hover:bg-slate-700/50 transition-colors group cursor-pointer border-b border-gray-200 dark:border-slate-700 last:border-0",onClick:()=>{var b;return b=a.symbol,void p.push(`/stocks/${b}`)},children:[(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap sticky left-0 z-10 bg-white dark:bg-slate-800 group-hover:bg-gray-100 dark:group-hover:bg-slate-700/50 border-r border-gray-200 dark:border-slate-700",children:(0,b.jsx)("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:a.symbol})}),(0,b.jsxs)("td",{className:(0,h.cn)("px-3 py-2 whitespace-nowrap font-medium text-center",(0,l.getPctColor)(a.current_change)),children:[a.current_change?.toFixed(2)||"0.00","%"]}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,b.jsx)(m.StrengthMeter,{label:a.current_strength,buyerScore:a.indicators.buyer_strength_score,sellerScore:a.indicators.seller_strength_score})}),(0,b.jsxs)("td",{className:(0,h.cn)("px-3 py-2 whitespace-nowrap text-xs text-center",(0,l.getPctColor)(a.history.p_day1)),children:[a.history.p_day1?.toFixed(2)||"-","%"]}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,b.jsx)(m.StrengthMeter,{label:a.day1_strength})}),(0,b.jsxs)("td",{className:(0,h.cn)("px-3 py-2 whitespace-nowrap text-xs text-center",(0,l.getPctColor)(a.history.p_day2)),children:[a.history.p_day2?.toFixed(2)||"-","%"]}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,b.jsx)(m.StrengthMeter,{label:a.day2_strength})}),(0,b.jsxs)("td",{className:(0,h.cn)("px-3 py-2 whitespace-nowrap text-xs text-center",(0,l.getPctColor)(a.history.p_day3)),children:[a.history.p_day3?.toFixed(2)||"-","%"]}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,b.jsx)(m.StrengthMeter,{label:a.day3_strength})}),(0,b.jsxs)("td",{className:(0,h.cn)("px-3 py-2 whitespace-nowrap font-medium text-center",(0,l.getPctColor)(a.history.avg_3day)),children:[a.history.avg_3day?.toFixed(2)||"0.00","%"]}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,b.jsx)(m.StrengthMeter,{label:a.avg_3day_strength})}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-[10px] text-center text-gray-500 dark:text-gray-400",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-0.5",children:[(0,b.jsxs)("span",{className:(0,h.cn)("Above"===a.derived.macdLabel?"text-green-600 dark:text-green-400":"Below"===a.derived.macdLabel?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400"),children:["MACD: ",a.derived.macdLabel]}),(0,b.jsxs)("span",{className:(0,h.cn)("Under"===a.derived.rsiLabel?"text-green-600 dark:text-green-400":"Over"===a.derived.rsiLabel?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400"),children:["RSI: ",a.derived.rsiLabel]})]})}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,b.jsx)(f.Activity,{className:(0,h.cn)("w-4 h-4 mx-auto","Above"===a.derived.macdLabel?"text-green-500 dark:text-green-400":"Below"===a.derived.macdLabel?"text-red-500 dark:text-red-400":"text-gray-500 dark:text-gray-500")})}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,b.jsx)(g.Zap,{className:(0,h.cn)("w-4 h-4 mx-auto","Under"===a.derived.rsiLabel?"text-green-500 dark:text-green-400":"Over"===a.derived.rsiLabel?"text-red-500 dark:text-red-400":"text-blue-400 dark:text-blue-500")})}),(0,b.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:(0,b.jsx)("button",{className:"p-1.5 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-full transition-colors text-gray-400 dark:text-gray-500 hover:text-yellow-500 dark:hover:text-yellow-400",onClick:b=>{var c;let d;b.stopPropagation(),d=z(c=a.symbol)?"remove":"add",y({symbol:c,action:d})},children:(0,b.jsx)(e.Star,{className:(0,h.cn)("w-4 h-4",z(a.symbol)?"fill-yellow-500 text-yellow-500 dark:text-yellow-400 dark:fill-yellow-400":"")})})})]},a.symbol))})]})}),C.length>q&&(0,b.jsx)("div",{className:"mt-4 flex justify-center",children:(0,b.jsx)("button",{onClick:()=>{r(a=>a+50)},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full text-sm font-medium transition-colors shadow-sm",children:"Load More"})})]})}var o=a.i(28790),p=a.i(33508),q=a.i(59450),r=a.i(22011),s=a.i(35160);function t(){let{data:a,isLoading:e,refetch:f}=(0,d.useStrengthAnalysis)({}),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)({}),{isDrawerOpen:l,closeDrawer:m,setFilterCount:t}=(0,q.useFilter)();(0,c.useEffect)(()=>{t(Object.keys(i).length)},[i,t]);let u=()=>{j({}),h("")},v=(0,c.useMemo)(()=>{let b=a||[];if(b=(0,k.enrichStockData)(b),g){let a=g.toLowerCase();b=b.filter(b=>b.symbol.toLowerCase().includes(a)||b.name?.toLowerCase().includes(a))}return(0,k.globalFilter)(b,i)},[a,g,i]);return(0,b.jsxs)("div",{className:"min-h-screen w-full bg-background text-foreground p-4 md:p-6 animate-in fade-in duration-500",children:[(0,b.jsx)(r.default,{isOpen:l,onClose:m,filters:i,setFilters:j,onReset:u}),(0,b.jsx)("div",{className:"w-full space-y-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold text-foreground",children:"Strength Analyzer"}),(0,b.jsxs)("p",{className:"text-muted-foreground mt-1",children:["Deep dive into stock strength trends and momentum indicators (",v.length,")"]})]}),Object.keys(i).length>0&&(0,b.jsxs)("button",{onClick:u,className:"px-3 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-destructive/10 transition-colors flex items-center gap-2 whitespace-nowrap",children:[(0,b.jsx)(p.X,{className:"w-4 h-4"})," Clear"]}),(0,b.jsx)("button",{onClick:()=>f(),className:"p-2 bg-card border border-border rounded-lg hover:bg-accent transition-colors text-muted-foreground",title:"Refresh Data",children:(0,b.jsx)(o.RefreshCcw,{className:"w-5 h-5"})})]})}),(0,b.jsxs)("div",{className:"bg-card text-card-foreground rounded-3xl shadow-sm dark:shadow-md border border-border overflow-hidden",children:[(0,b.jsx)(s.default,{filters:i,setFilters:j,onReset:u}),(0,b.jsx)("div",{className:"p-6 pt-0",children:(0,b.jsx)(n,{stocks:v,isLoading:e})})]})]})}a.s(["default",()=>t],11788)}];

//# sourceMappingURL=src_app_strength-analyzer_page_tsx_3c59a09f._.js.map